{"version":3,"file":"js/8765-legacy.e18b8fef.js","mappings":"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","sources":["webpack://augest/./src/components/FQTManagement.vue","webpack://augest/./src/components/FQTManagement.vue?080a"],"sourcesContent":["<template>\n  <my-model :show=\"modal_show.addPlanShow\" modalKey=\"addPlanShow\" :modeless=\"false\">\n    <div class=\"line-content-center\">\n      <label>日期：</label>\n      <calender language=\"EN\" type=\"input\" style=\"width: 150px;\" class=\"form-input\" v-model=\"management.date\"></calender>\n      <svg-icon :class=\"{'text-button':true,'action':compareDate(management.date)}\" name=\"today\" size=\"16\" @click=\"getManagementDate()\"></svg-icon>\n      <svg-icon :class=\"{'text-button':true,'action':compareDate(management.date,1)}\" name=\"tomorrow\" size=\"16\" @click=\"getManagementDate(1)\"></svg-icon>\n    </div>\n    <div class=\"line-content-center\">\n      <label>期限：</label>\n      <calender language=\"EN\" type=\"datetime\" style=\"width: 150px;\" class=\"form-input\" v-model=\"management.deadline\"></calender>\n      <svg-icon class=\"text-button\" name=\"delete02\" size=\"16\" @click=\"management.deadline=null\"></svg-icon>\n    </div>\n    <div class=\"line-content-center\">\n      <div class=\"repeat-list\" v-for=\"item in repeatLabelList\">\n        <input class=\"form-input\" type=\"radio\" name=\"repeat\" :value=\"item.value\" v-model=\"management.repeat\"/>\n        <label :class=\"{'selected':item.value == management.repeat}\">{{item.label}}</label>\n      </div>\n    </div>\n    <div class=\"line-content-center\">\n      <textarea placeholder=\"做什么呢...\" rows=\"5\" v-model=\"management.content\"></textarea>\n    </div>\n    <div class=\"line-content-center\">\n      <label>紧急</label>\n      <input  type=\"checkbox\" class=\"circle form-input\" v-model=\"management.urgent\" checked/>\n      <label>重要</label>\n      <input type=\"checkbox\" class=\"circle form-input\" v-model=\"management.important\"/>\n    </div>\n    <div class=\"line-content-center left\">\n      <button class=\"fill\" @click=\"addManagement()\">{{ updateIndex ? '修改计划' : '新增计划' }}</button>\n    </div>\n    \n  </my-model>\n\t<div class=\"card-content main-content\" style=\"text-align: left;\" ref=\"fqtMain\">\n\t\t<div class=\"calendar-list\">\n      <svg-icon name=\"arrow-left\"  className=\"date-item\" @click=\"preWeek\"></svg-icon>\n\t\t\t<div v-for=\"date in currentWeek\" :key=\"date\" class=\"date-item\" @click=\"toDate(getFormattedDate(date))\">  \n        <div v-if=\"getFormattedDate(date) == getFormattedDate(today)\" class=\"date\">     \n          <svg-icon name=\"today\"></svg-icon>\n        </div>\n        <div v-else-if=\"getFormattedDate(date) == getFormattedDate(today, 1)\" class=\"date\"> \n          <svg-icon name=\"tomorrow\"></svg-icon>\n        </div>\n        <div v-else-if=\"getFormattedDate(date) == getFormattedDate(today, -1)\" class=\"date\"> \n          <svg-icon name=\"yesterday\"></svg-icon>\n        </div>\n        <div v-else class=\"date\">\n          {{date.getDate()}}\n        </div>\n      </div>\n      <svg-icon name=\"arrow-right\" className=\"date-item\" @click=\"nextWeek\"></svg-icon>\n      <svg-icon name=\"letter-plus01\" className=\"date-item\" @click=\"showAddPlan()\"></svg-icon>\n      <svg-icon name=\"refresh02\" class=\"update-icon\" className=\"date-item\" @click=\"getCurManagementData(currentDate)\"></svg-icon>\n      <svg-icon name=\"upload01\" className=\"date-item\" @click=\"saveJson\"></svg-icon>\n\t\t</div>\n    {{currentDate}}\n    <div :class=\"{'quadrant-container':true,'draging':draged}\">\n    <div v-show=\"draged\" :class=\"dragedManagementClass\" ref=\"dragedManagement\">\n      <svg-icon name=\"dot01\" size=\"16\" className=\"dot\" :style=\"dragedDotColor\"></svg-icon>\n      {{dragedManagement ? dragedManagement.content : \"\"}}\n    </div>\n      <div v-for=\"index in 4\" class=\"quadrant-box\" :id = \"`quadrantList${index}`\">\n        <div :class=\"[`quadrant-list`]\" @click=\"showAddPlan(index)\">\n          <div :class=\"[`list-item`,`item-${index-1}`]\" v-for=\"plan in currentManagementList[index-1]\" @click.stop @pointerdown=\"listItemDown($event,plan)\">\n            <div class=\"content\" :style=\"{textDecoration:itemFinished(plan) ? 'line-through':'none'}\">\n              <svg-icon name=\"dot01\" size=\"16\" className=\"dot\" :style=\"{color:fourColors[index-1]}\"></svg-icon>\n              {{plan.content}}\n            </div>\n            <div :id=\"`planIndex${plan.index}`\" class=\"line-content-center\">\n              <!-- <input type=\"checkbox\" class=\"circle\" :style=\"{color:fourColors[index-1]}\"> -->\n              <svg-icon name=\"flag01\" size=\"16\" className=\"dot\" :style=\"{color:fourColors[index-1]}\" @click.stop @click=\"finishItem(plan)\"></svg-icon>\n              <svg-icon name=\"delete02\" size=\"16\" className=\"dot\" :style=\"{color:fourColors[index-1]}\" @click.stop @click=\"deleteItem(plan)\"></svg-icon>\n              \n            </div>\n          </div>\n          <div v-show=\"false\" class=\"list-item\" style=\"display:flex; justify-content: center;\">\n            <div :class=\"[`list-add-button-${index-1}`]\">+</div>\n          </div>\n        </div>\n      </div>\n      <div v-show=\"true\" class=\"axes x\">\n        <div style=\"background-color: #F96635;\">重要</div>\n      </div>\n      <div v-show=\"true\" class=\"axes y\">\n        <div style=\"background-color: #f9A822;\">紧急</div>\n      </div>\n        \n    </div>\n  </div>\n</template>\n\n<script>\nimport calender from \"./Model/Calendar.vue\"\n// import managementList from \"@/assets/json/managementList.json\"\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\nimport { db } from \"@/assets/js/firebase.js\";  // 引入已初始化的 storage 实例\n\nexport default {\n  computed:{\n    compareDate(){  \n      return (date1,n = 0)=>{\n        if(date1){\n          const strList = date1.split('/')\n          const a = new Date(Number(strList[0]),Number(strList[1])-1,Number(strList[2]))\n          const date = new Date()\n          date.setDate(date.getDate() + n)\n          return `${a.getYear()}${a.getMonth()}${a.getDate()}` == `${date.getYear()}${date.getMonth()}${date.getDate()}`\n        }else{\n          return false\n        }\n      }\n    },\n    dragedManagementClass(){\n      let classList = {\n          'list-item':true,\n          'draged':this.draged,\n        }\n      const indexList =[2,0,3,1]\n      if(this.dragedManagement){\n        const u = this.dragedManagement.urgent ? 1 : 0\n        const i = this.dragedManagement.important ? 1 : 0\n        const index = indexList[2*i+u]\n        const classname = `item-${index}`\n        classList[classname] = true\n      }\n      return classList\n    },\n    dragedDotColor(){\n      const indexList =[2,0,3,1]\n      if(this.dragedManagement){\n        const u = this.dragedManagement.urgent ? 1 : 0\n        const i = this.dragedManagement.important ? 1 : 0\n        const index = indexList[2*i+u]\n        return {color:this.fourColors[index]}\n      }\n    },\n    itemFinished(){\n      return (management)=>{\n        return management.finishedDate.includes(this.currentDate)\n      }\n    }\n  },\n  components: {\n    calender\n  },\n  data(){\n    return{\n      fourColors:['#f9A822','#F96635','#2bbaa5','#93d3a2'],\n      repeatLabelList:[\n        {value:0,label:'不重复'},\n        {value:1,label:'每天'},\n        {value:7,label:'每周'},\n        {value:30,label:'每月'},\n        {value:-1,label:'每年'},\n        {value:-2,label:'艾宾浩斯'}\n        ],\n    \tcurrentWeek : [],\n      today : null,\n      currentDate: null,\n      currentManagementList:[\n        [],[],[],[]\n      ],\n      modal_show:{\n        addPlanShow:false,\n      },\n      management:{\n        date:null,\n        deadline:null,\n        repeat:0,\n        content:\"\",\n        urgent:false,\n        important:false,\n        repeatDate:[],\n        finishedDate:[]\n      },\n      managementList:[],\n      updateIndex:null,\n      dragedManagement:null,\n      draged:false,\n      drag2Index:null,\n      pressTimer:null,\n      disx:null,\n      disy:null,\n      ifNeedSave:false\n    }\n  },\n  mounted(){\n    this.fetchJson()\n    console.log(this.managementList)\n  \tthis.getWeekDate()\n    this.toDate(this.getFormattedDate(this.today))\n    // 添加监听器，当页面即将关闭时触发\n    window.addEventListener(\"beforeunload\", this.handleBeforeUnload);\n  },\n  unmounted(){\n    // 移除监听器，防止内存泄漏\n    window.removeEventListener(\"beforeunload\", this.handleBeforeUnload);\n  },\n  methods: {\n    //计划列表点击、长按事件\n    listItemDown(event , management){\n      const refN = `planIndex${management.index}`\n      const el =  document.getElementById(refN)\n      if(el.contains(event.target)){\n        return\n      }\n      document.addEventListener('pointerup',this.listItemUp)\n      document.addEventListener('pointermove',this.listItemMove)\n      this.dragedManagement = management\n      this.pressTimer = setTimeout(() => {\n          this.draged = true\n          const el = event.target\n          this.disx = event.pageX - el.offsetLeft\n          this.disy = event.pageY - el.offsetTop\n          const dragedEl = this.$refs.dragedManagement\n          // dragedEl.style.backgroundColor = this.myColors[this.dragedColorIndex]\n          dragedEl.style.left = `${event.pageX - this.disx}px`\n          dragedEl.style.top = `${event.pageY - this.disy}px`\n          // document.addEventListener(\"click\",this.offColorToolsEdit)\n          clearTimeout(this.pressTimer)\n          this.pressTimer = null\n        }, 500);\n    },\n    listItemMove(){\n      if(this.draged){\n        const el4th = document.getElementById(`quadrantList4`).getBoundingClientRect()\n        const left = el4th.left\n        const top = el4th.top\n        // event.pageX\n        let index = 4\n        if(event.clientX < left){\n          if(event.clientY < top){\n            index = 1\n          }else{\n            index = 3\n          }\n        }else if(event.clientY < top){\n          index = 2\n        }\n        this.drag2Index = index\n        const dragedEl = this.$refs.dragedManagement\n        dragedEl.style.left = `${event.pageX - this.disx}px`\n        dragedEl.style.top = `${event.pageY - this.disy}px`\n      }\n    },\n    listItemUp(event){\n      if (this.pressTimer) {\n        //如果计时器还在说明是点击事件\n        clearTimeout(this.pressTimer);\n        this.showAddPlan(this.dragedManagement)\n        this.updateIndex = this.dragedManagement.index\n        this.dragedManagement = null\n      }\n      if(this.dragedManagement != null){\n        //修改紧急重要程度\n        switch(this.drag2Index){\n          case 1:\n            this.dragedManagement.urgent = true\n            this.dragedManagement.important = false\n            break\n          case 2:\n            this.dragedManagement.urgent = true\n            this.dragedManagement.important = true\n            break\n          case 3:\n            this.dragedManagement.urgent = false\n            this.dragedManagement.important = false\n            break\n          case 4:\n            this.dragedManagement.urgent = false\n            this.dragedManagement.important = true\n            break\n        }\n        // console.log(this.dragedManagement.index)\n        this.updateManagement(this.dragedManagement)\n      }\n      this.draged = false\n      this.dragedManagement = null\n      this.drag2Index = null\n      this.getCurManagementData(this.currentDate)\n      document.removeEventListener('pointerup',this.listItemUp)\n      document.removeEventListener('pointermove',this.listItemMove)\n    },\n    deleteItem(management){\n      this.deleteManagement(management)\n      this.getCurManagementData(this.currentDate)\n    },\n    finishItem(management){\n      // console.log(management.finishedDate,this.currentDate)\n      let index = null\n      management.finishedDate.forEach((date,i)=>{\n        if(this.currentDate == date){\n          index = i\n          return\n        }\n      })\n      console.log(index)\n      if(index == null){\n        management.finishedDate.push(this.currentDate)\n      }else{\n        management.finishedDate.splice(index,1)\n      }\n      this.updateManagement(management)\n      this.getCurManagementData(this.currentDate)\n    },\n    updateManagement(management){\n      const index = management.index\n      delete management.index\n      this.managementList[index] = management\n      this.ifNeedSave = true\n    },\n    deleteManagement(management){\n      const index = management.index\n      this.managementList.splice(index,1)\n      this.ifNeedSave = true\n    },\n    toDate(date){\n      this.getCurManagementData(date)\n      this.currentDate = date\n    },\n    compare2Date(date1,date2){\n        const a = new Date(date1.split(\"T\")[0])\n        const b = new Date(date2.split(\"T\")[0])\n\n        const time1 = a.getTime();\n        const time2 = b.getTime();\n        if (time1 < time2) {\n          return -1;\n        } else if (time1 > time2) {\n          return 1;\n        } else {\n          return 0;\n        }\n    },\n    daysBetween(date1, date2) {\n      let strList = date1.split('/')\n      const a = new Date(Number(strList[0]),Number(strList[1])-1,Number(strList[2]))\n      strList = date2.split('/')\n      const b = new Date(Number(strList[0]),Number(strList[1])-1,Number(strList[2]))\n      const oneDay = 24 * 60 * 60 * 1000; // 一天的毫秒数\n      return Math.round(Math.abs((a - b) / oneDay));\n    },\n    getCurManagementData(date){\n      this.currentManagementList = [[],[],[],[]]\n      this.managementList.forEach(((management, index)=>{\n        if(this.compare2Date(date,management.date) == 0){\n          this.pushCurManagement(index, management)\n        }else if(this.compare2Date(date,management.date) == 1){\n          const repeat = Number(management.repeat)\n          if(repeat > 0 && this.daysBetween(date,management.date)%repeat == 0){\n            this.pushCurManagement(index, management)\n          }else if(repeat == -1){\n            if(date.split(\"/\")[1] == management.date.split(\"/\")[1] && date.split(\"/\")[2] == management.date.split(\"/\")[2]){\n              this.pushCurManagement(index, management)\n            }\n          }else if(repeat == -2){\n            if(management.repeatDate.includes(date)){\n              this.pushCurManagement(index, management)\n            }\n          }\n        }\n      }))\n    },\n    pushCurManagement(index, management){\n      const indexList =[2,0,3,1]\n      const u = management.urgent ? 1 : 0\n      const i = management.important ? 1 : 0\n      management.index = index\n      this.currentManagementList[indexList[2*i+u]].push(management)\n    },\n    getDate(strDate){\n      const strList = strDate.split('/')\n      const date = new Date(Number(strList[0]),Number(strList[1])-1,Number(strList[2]))\n      return date\n    },\n    getFormattedDate(date, n=null) {\n      const today = new Date(date);\n      if(n){\n        today.setDate(today.getDate() + n)\n      }\n      const year = today.getFullYear();\n      const month = today.getMonth() + 1; // 月份从0开始，需要加1\n      const day = today.getDate();\n\n      return `${year}/${month}/${day}`;\n    },\n    initManagementDate(){\n      this.updateIndex = null\n      this.management = {\n        date:null,\n        deadline:null,\n        repeat:0,\n        content:\"\",\n        urgent:false,\n        important:false,\n        repeatDate:[],\n        finishedDate:[]\n      }\n    },\n    addManagement(){\n      const data = this.management\n      if(data.date && data.content){\n        if(data.repeat == -2){\n          const date = this.getDate(data.date)\n          const repeatList = [0,1,3,7,14,29,59]\n          data.repeatDate = []\n          repeatList.forEach((n)=>{\n            data.repeatDate.push(this.getFormattedDate(date,n))\n          })\n        }\n        if(this.updateIndex){\n          this.managementList[this.updateIndex] = this.management\n          this.$toast.show('修改成功','success')\n          this.updateIndex = null\n          this.modal_show.addPlanShow = false \n\n        }else{\n          this.managementList.push(this.management)\n          this.$toast.show('添加成功','success')\n          this.modal_show.addPlanShow = false \n        }\n       \n      }else{\n        this.$toast.show('时间或内容不得为空','error') \n      }\n      console.log(this.managementList)\n      this.ifNeedSave = true\n    },\n    getManagementDate(n = 0){\n      const date = new Date()\n      date.setDate(date.getDate() + n)\n\n      this.management.date = `${date.getYear()+1900}/${(date.getMonth()+1)>10?'':0}${date.getMonth()+1}/${date.getDate()>10?'':0}${date.getDate()}`;\n    },\n    showAddPlan(management=null){\n      if(this.draged){\n        return\n      }\n      console.log(management,management.repeat)\n      if(management==null){\n        this.initManagementDate()\n      }else if([1,2,3,4].includes(management)){\n        this.initManagementDate()\n        switch(management){\n          case 1:\n            this.management.urgent = true\n            this.management.important = false\n            break\n          case 2:\n            this.management.urgent = true\n            this.management.important = true\n            break\n          case 3:\n            this.management.urgent = false\n            this.management.important = false\n            break\n          case 4:\n            this.management.urgent = false\n            this.management.important = true\n            break\n        }\n      }else{\n        this.management = management\n      }\n      this.modal_show.addPlanShow = true\n    },\n    preWeek(){\n      const firstDay = new Date(this.currentWeek[0])\n      firstDay.setDate(firstDay.getDate() - 7)\n      this.getWeekDate(firstDay)\n    },\n    nextWeek(){\n      const firstDay = new Date(this.currentWeek[0])\n      firstDay.setDate(firstDay.getDate() + 7)\n      this.getWeekDate(firstDay)\n    },\n   \n    getWeekDate(firstDay = null){\n      const getDateNDaysAgo = (date, n) => {\n        const newDate = new Date(date);\n        newDate.setDate(newDate.getDate() - n);\n        return newDate;\n      }\n      this.today = new Date()\n      firstDay = firstDay ? new Date(firstDay) : getDateNDaysAgo(this.today, this.today.getDay())\n      for(var i=0; i<7 ; i++){\n        this.currentWeek[i] = getDateNDaysAgo(firstDay, -i)\n      }\n    },\n    //firebase数据存储\n    async fetchJson() {\n      try {\n        // 假设 JSON 文件存储在 Firestore 的一个集合中，叫做 \"jsonFiles\"\n        const docRef = doc(db, \"jsonfiles\", \"managementjson\");\n        const docSnap = await getDoc(docRef);\n\n        if (docSnap.exists()) {\n          this.managementList = docSnap.data().tasks;\n          this.getCurManagementData(this.currentDate)\n          console.log(\"Document data:\", this.jsonData);\n        } else {\n          console.log(\"No such document!\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching document:\", error);\n      }\n    },\n    async saveJson() {\n      const jsonDataArray = this.managementList\n\n      try {\n        // 假设你要更新/写入 Firestore 集合中的文档\n        await setDoc(doc(db, \"jsonfiles\", \"managementjson\"), { tasks:jsonDataArray });\n        this.ifNeedSave = false\n        console.log(\"Document successfully written!\");\n      } catch (error) {\n        console.error(\"Error writing document:\", error);\n      }\n    },\n    handleBeforeUnload(event){\n      if(this.ifNeedSave){\n        // 在这里你可以处理关闭标签页时的逻辑，例如保存状态或提示用户\n        const confirmationMessage = \"你有未保存的更改，是否保存并离开\";\n\n        // 设置这个消息会让浏览器显示一个确认对话框\n        event.returnValue = confirmationMessage;  // 标准兼容做法\n        return confirmationMessage;  // 对某些旧版浏览器的支持\n      }\n    },\n    confirmLeave(to, from, next) {\n      if (this.ifNeedSave) {\n        const answer = window.confirm(\"你有未保存的更改，确定要离开吗？\");\n        if (answer) {\n          next(); // 允许导航离开\n        } else {\n          next(false); // 阻止导航\n        }\n      } else {\n        next(); // 如果没有未保存的更改，直接离开\n      }\n    }\n\n  },\n  beforeRouteLeave(to, from, next) {\n    this.confirmLeave(to, from, next);\n  }\n};\n</script>\n\n<style>\n.main-content{\n/*\twidth: calc(100% - 80px);*/\n\theight: calc(100vh - 120px);\n}\n\n.calendar-list {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  user-select: none\n}\n\n.date-item {\n  width: 35px;\n  height: 35px;\n  display: flex;\n\talign-items: center;\n  justify-content: center;\n  flex-direction: column;\n  \n  font-size: 12px;\n}\n\n.quadrant-container {\n  width: 100%;\n  height: calc(100% - 35px);\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n  user-select: none;\n}\n.quadrant-container.draging {\n/*  opacity: 0.5;*/\n/*  pointer-events: none;*/\n  user-select: none;\n}\n.quadrant-box {\n  box-sizing: border-box;\n  width: 50%;\n  height: 50%;\n  padding: 10px;\n/*  border: var(--box-border);*/\n}\n.quadrant-list {\n  height: calc( 100% - 12px);\n  padding: 5px;\n  border-radius: 8px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  touch-action: none;\n}\n\n.quadrant-list.item-0:active {\n  outline: 2px solid #f9A82230;\n}\n.quadrant-list.item-1:active {\n  outline: 2px solid #F9663530;\n}\n.quadrant-list.item-2:active {\n  outline: 2px solid #2bbaa530;\n}\n.quadrant-list.item-3:active {\n  outline: 2px solid #93d3a230;\n}\n\n\n\n.quadrant-container .list-item{\n  cursor: pointer;\n  padding: 5px;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between\n}  \n\n\n\n.list-add-button-0 {\n  width: 1rem;\n  height: 1rem;\n  border-radius: 50%;\n  border: 1px solid #f9A822;\n  color: #f9A822;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 500;\n}\n.axes{\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n/*  background-color: var(--fontNormal);*/\n  display: flex;\n}\n/*#f9A822','#F96635','#2bbaa5','#93d3a2'*/\n.axes.x{\n  height: 3px;\n  width: calc(100% - 10px);\n  flex-direction: row-reverse;\n  align-items: center;\n  background: linear-gradient(90deg, #0000,#F96635)\n}\n.axes.y{\n  height: calc(100% - 20px);\n  width: 3px;\n  justify-content: center;\n  background: linear-gradient(0deg, #0000 , #f9A822)\n}\n\n.axes div{\n  width: fit-content;\n  height: fit-content;\n  color: #fff;\n  border-radius: 4px;\n  padding: 0px 4px 2px 4px;\n}\n\n.line-content-center{\n  flex-wrap: wrap;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  margin-bottom: 10px;\n}\n\n.line-content-center:last-child {\n  margin-bottom: 0;\n}\n\n.line-content-center.left{\n  justify-content: end;\n}\n\n.line-content-center label{\n  height: 20px;\n  line-height: 20px;\n}\n\n.line-content-center label.selected{\n  color:var(--main-color);\n}\n\n.line-content-center textarea {\n  width: 100%;\n}\n\n.form-input {\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n.text-button{\n  margin:0 10px;\n}\n\n.text-button.action{\n  color: var(--main-color);\n}\n\n@media(any-hover:hover){\n  .text-button:hover{\n    color: var(--main-color);\n  }\n\n  .quadrant-container .list-item.item-0:hover{\n    background-color: #f9A82230;\n  }  \n  .quadrant-container .list-item.item-1:hover{\n    background-color: #F9663530;\n  }  \n  .quadrant-container .list-item.item-2:hover{\n    background-color: #2bbaa530;\n  }  \n  .quadrant-container .list-item.item-3:hover{\n    background-color: #93d3a230;\n  }  \n}\n\n.list-item.draged {\n  position: absolute;\n  pointer-events: none;\n}\n\n.list-item.draged.item-0{\n  background-color: #f9A82230;\n}  \n.list-item.draged.item-1{\n  background-color: #F9663530;\n}  \n.list-item.draged.item-2{\n  background-color: #2bbaa530;\n}  \n.list-item.draged.item-3{\n  background-color: #93d3a230;\n}  \n\n.update-icon{\n  transition: transform 1s;\n\n}\n\n.update-icon:active{\n  transform: rotate(-360deg);\n  transition: transform 0s;\n}\n\n.repeat-list {\n  display: flex;\n  align-items: center;\n}\n\n</style>","import { render } from \"./FQTManagement.vue?vue&type=template&id=6a092f14\"\nimport script from \"./FQTManagement.vue?vue&type=script&lang=js\"\nexport * from \"./FQTManagement.vue?vue&type=script&lang=js\"\n\nimport \"./FQTManagement.vue?vue&type=style&index=0&id=6a092f14&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","ref","_hoisted_26","_hoisted_29","_createVNode","_component_my_model","show","$data","modal_show","addPlanShow","modalKey","modeless","_hoisted_1","_hoisted_2","_component_calender","language","type","management","date","$event","_component_svg_icon","_normalizeClass","$options","compareDate","name","size","onClick","_cache","getManagementDate","_hoisted_3","_hoisted_4","deadline","_hoisted_5","_createElementBlock","_Fragment","_renderList","repeatLabelList","item","_hoisted_6","value","repeat","label","_hoisted_8","placeholder","rows","content","_hoisted_9","_hoisted_10","urgent","checked","_hoisted_11","important","_hoisted_12","addManagement","updateIndex","_hoisted_13","_hoisted_14","className","preWeek","currentWeek","key","toDate","getFormattedDate","today","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_toDisplayString","getDate","nextWeek","showAddPlan","getCurManagementData","currentDate","saveJson","draged","dragedManagementClass","_normalizeStyle","dragedDotColor","dragedManagement","index","id","concat","currentManagementList","plan","_withModifiers","onPointerdown","listItemDown","textDecoration","itemFinished","color","fourColors","finishItem","deleteItem","_hoisted_24","_hoisted_25","_hoisted_27","_hoisted_28","_hoisted_30","computed","date1","n","arguments","length","undefined","strList","split","a","Date","Number","setDate","getYear","getMonth","classList","this","indexList","u","i","classname","_this","finishedDate","includes","components","calender","data","repeatDate","managementList","drag2Index","pressTimer","disx","disy","ifNeedSave","mounted","fetchJson","console","log","getWeekDate","window","addEventListener","handleBeforeUnload","unmounted","removeEventListener","methods","event","_this2","refN","el","document","getElementById","contains","target","listItemUp","listItemMove","setTimeout","pageX","offsetLeft","pageY","offsetTop","dragedEl","$refs","left","top","clearTimeout","el4th","getBoundingClientRect","clientX","clientY","updateManagement","deleteManagement","_this3","forEach","push","splice","compare2Date","date2","b","time1","getTime","time2","daysBetween","oneDay","Math","round","abs","_this4","pushCurManagement","strDate","year","getFullYear","month","day","initManagementDate","_this5","repeatList","$toast","firstDay","getDateNDaysAgo","newDate","getDay","_this6","_asyncToGenerator","_regeneratorRuntime","mark","_callee","docRef","docSnap","wrap","_context","prev","next","doc","db","getDoc","sent","exists","tasks","jsonData","t0","error","stop","_this7","_callee2","jsonDataArray","_context2","setDoc","confirmationMessage","returnValue","confirmLeave","to","from","answer","confirm","beforeRouteLeave","__exports__","render"],"sourceRoot":""}