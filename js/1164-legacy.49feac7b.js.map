{"version":3,"file":"js/1164-legacy.49feac7b.js","mappings":"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","sources":["webpack://augest/node_modules/browser-pack/_prelude.js","webpack://augest/node_modules/events/events.js","webpack://augest/src/browser.coffee","webpack://augest/src/gif.coffee","webpack://augest/./src/components/Model/auSelect.vue","webpack://augest/./src/components/Model/auSelect.vue?bd29","webpack://augest/./src/components/pixelSvgEditor.vue","webpack://augest/./src/components/pixelSvgEditor.vue?08ef"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","### CoffeeScript version of the browser detection from MooTools ###\n\nua = navigator.userAgent.toLowerCase()\nplatform = navigator.platform.toLowerCase()\nUA = ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/) or [null, 'unknown', 0]\nmode = UA[1] == 'ie' && document.documentMode\n\nbrowser =\n  name: if UA[1] is 'version' then UA[3] else UA[1]\n  version: mode or parseFloat(if UA[1] is 'opera' && UA[4] then UA[4] else UA[2])\n\n  platform:\n    name: if ua.match(/ip(?:ad|od|hone)/) then 'ios' else (ua.match(/(?:webos|android)/) or platform.match(/mac|win|linux/) or ['other'])[0]\n\nbrowser[browser.name] = true\nbrowser[browser.name + parseInt(browser.version, 10)] = true\nbrowser.platform[browser.platform.name] = true\n\nmodule.exports = browser\n","{EventEmitter} = require 'events'\nbrowser = require './browser.coffee'\n\nclass GIF extends EventEmitter\n\n  defaults =\n    workerScript: 'gif.worker.js'\n    workers: 2\n    repeat: 0 # repeat forever, -1 = repeat once\n    background: '#fff'\n    quality: 10 # pixel sample interval, lower is better\n    width: null # size derermined from first frame if possible\n    height: null\n    transparent: null\n    debug: false\n    dither: false # see GIFEncoder.js for dithering options\n\n  frameDefaults =\n    delay: 500 # ms\n    copy: false\n\n  constructor: (options) ->\n    @running = false\n\n    @options = {}\n    @frames = []\n\n    @freeWorkers = []\n    @activeWorkers = []\n\n    @setOptions options\n    for key, value of defaults\n      @options[key] ?= value\n\n  setOption: (key, value) ->\n    @options[key] = value\n    if @_canvas? and key in ['width', 'height']\n      @_canvas[key] = value\n\n  setOptions: (options) ->\n    @setOption key, value for own key, value of options\n\n  addFrame: (image, options={}) ->\n    frame = {}\n    frame.transparent = @options.transparent\n    for key of frameDefaults\n      frame[key] = options[key] or frameDefaults[key]\n\n    # use the images width and height for options unless already set\n    @setOption 'width', image.width unless @options.width?\n    @setOption 'height', image.height unless @options.height?\n\n    if ImageData? and image instanceof ImageData\n       frame.data = image.data\n    else if (CanvasRenderingContext2D? and image instanceof CanvasRenderingContext2D) or (WebGLRenderingContext? and image instanceof WebGLRenderingContext)\n      if options.copy\n        frame.data = @getContextData image\n      else\n        frame.context = image\n    else if image.childNodes?\n      if options.copy\n        frame.data = @getImageData image\n      else\n        frame.image = image\n    else\n      throw new Error 'Invalid image'\n\n    @frames.push frame\n\n  render: ->\n    throw new Error 'Already running' if @running\n\n    if not @options.width? or not @options.height?\n      throw new Error 'Width and height must be set prior to rendering'\n\n    @running = true\n    @nextFrame = 0\n    @finishedFrames = 0\n\n    @imageParts = (null for i in [0...@frames.length])\n    numWorkers = @spawnWorkers()\n    # we need to wait for the palette\n    if @options.globalPalette == true\n      @renderNextFrame()\n    else\n      @renderNextFrame() for i in [0...numWorkers]\n\n    @emit 'start'\n    @emit 'progress', 0\n\n  abort: ->\n    loop\n      worker = @activeWorkers.shift()\n      break unless worker?\n      @log 'killing active worker'\n      worker.terminate()\n    @running = false\n    @emit 'abort'\n\n  # private\n\n  spawnWorkers: ->\n    numWorkers = Math.min(@options.workers, @frames.length)\n    [@freeWorkers.length...numWorkers].forEach (i) =>\n      @log \"spawning worker #{ i }\"\n      worker = new Worker @options.workerScript\n      worker.onmessage = (event) =>\n        @activeWorkers.splice @activeWorkers.indexOf(worker), 1\n        @freeWorkers.push worker\n        @frameFinished event.data\n      @freeWorkers.push worker\n    return numWorkers\n\n  frameFinished: (frame) ->\n    @log \"frame #{ frame.index } finished - #{ @activeWorkers.length } active\"\n    @finishedFrames++\n    @emit 'progress', @finishedFrames / @frames.length\n    @imageParts[frame.index] = frame\n    # remember calculated palette, spawn the rest of the workers\n    if @options.globalPalette == true\n      @options.globalPalette = frame.globalPalette\n      @log 'global palette analyzed'\n      @renderNextFrame() for i in [1...@freeWorkers.length] if @frames.length > 2\n    if null in @imageParts\n      @renderNextFrame()\n    else\n      @finishRendering()\n\n  finishRendering: ->\n    len = 0\n    for frame in @imageParts\n      len += (frame.data.length - 1) * frame.pageSize + frame.cursor\n    len += frame.pageSize - frame.cursor\n    @log \"rendering finished - filesize #{ Math.round(len / 1000) }kb\"\n    data = new Uint8Array len\n    offset = 0\n    for frame in @imageParts\n      for page, i in frame.data\n        data.set page, offset\n        if i is frame.data.length - 1\n          offset += frame.cursor\n        else\n          offset += frame.pageSize\n\n    image = new Blob [data],\n      type: 'image/gif'\n\n    @emit 'finished', image, data\n\n  renderNextFrame: ->\n    throw new Error 'No free workers' if @freeWorkers.length is 0\n    return if @nextFrame >= @frames.length # no new frame to render\n\n    frame = @frames[@nextFrame++]\n    worker = @freeWorkers.shift()\n    task = @getTask frame\n\n    @log \"starting frame #{ task.index + 1 } of #{ @frames.length }\"\n    @activeWorkers.push worker\n    worker.postMessage task#, [task.data.buffer]\n\n  getContextData: (ctx) ->\n    return ctx.getImageData(0, 0, @options.width, @options.height).data\n\n  getImageData: (image) ->\n    if not @_canvas?\n      @_canvas = document.createElement 'canvas'\n      @_canvas.width = @options.width\n      @_canvas.height = @options.height\n\n    ctx = @_canvas.getContext '2d'\n    ctx.setFill = @options.background\n    ctx.fillRect 0, 0, @options.width, @options.height\n    ctx.drawImage image, 0, 0\n\n    return @getContextData ctx\n\n  getTask: (frame) ->\n    index = @frames.indexOf frame\n    task =\n      index: index\n      last: index is (@frames.length - 1)\n      delay: frame.delay\n      transparent: frame.transparent\n      width: @options.width\n      height: @options.height\n      quality: @options.quality\n      dither: @options.dither\n      globalPalette: @options.globalPalette\n      repeat: @options.repeat\n      canTransfer: (browser.name is 'chrome')\n\n    if frame.data?\n      task.data = frame.data\n    else if frame.context?\n      task.data = @getContextData frame.context\n    else if frame.image?\n      task.data = @getImageData frame.image\n    else\n      throw new Error 'Invalid frame'\n\n    return task\n\n  log: (args...) ->\n    return unless @options.debug\n    console.log args...\n\n\nmodule.exports = GIF\n","<template>\n  <div class=\"select-box\" ref=\"selectBox\">\n    <div :class=\"{'input-area':true,'active':selectShow}\" @click=\"openSelect\">\n      {{dataList[currIndex]}}\n      <svg-icon name=\"arrow-down\" size=\"16\" :class=\"{'icon':true,'show':selectShow}\" ></svg-icon>\n    </div>\n    <div :class=\"{'select-item-group':true,'show':selectShow}\" ref=\"options\">\n      <div :class=\"{'options':true,'show':selectShow}\">\n        <div :class=\"{'select-item':true,'active':index == currIndex}\" v-for=\"(item,index) in dataList\" @click=\"changeIndex(index)\">\n          {{ item }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    dataList:{\n      type: Array,\n      required: true\n    },\n  },\n  data(){\n    return{\n      selectShow:false,\n      currIndex:0\n    }\n  },\n  mounted(){\n\n  },\n  unmounted(){\n    document.removeEventListener('click',this.closeSelect)\n  },\n  methods: {\n    openSelect(){\n      if(!this.selectShow){\n        this.selectShow = true\n        document.addEventListener('click',this.closeSelect)\n      }else{\n        this.selectShow = false\n        document.removeEventListener('click',this.closeSelect)\n      }\n    },\n    closeSelect(){\n      if(!this.$refs.selectBox.contains(event.target)){\n        this.selectShow = false\n        document.removeEventListener('click',this.closeSelect)\n      }\n    },\n    changeIndex(index){\n      this.currIndex = index\n      this.selectShow = false\n      document.removeEventListener('click',this.closeSelect)\n      this.$emit('change', this.currIndex);\n    }\n  }  \n};\n</script>\n\n<style scoped>\n  .select-box {\n    width: 100%;\n    position: relative;\n  }\n  .input-area {\n    border: var(--box-border);\n    padding: 0 5px;\n    font-size: 15px;\n    border-radius: 5px;\n    height: 28px;\n    line-height: 28px;\n  }\n  .input-area.active{\n    outline: 2px solid var(--main-color);\n  }\n\n  .icon {\n    position: absolute;\n    right: 6px;\n    top: 50%;\n    transform: translateY(-50%) ;\n    transition: transform 0.3s ease;\n  }\n\n  .icon.show{\n    transform: translateY(-50%) rotate(180deg);\n  }\n  .select-item-group{\n    padding: 4px 0;\n    top: 36px;\n    position: absolute;\n    z-index: 999;\n    width: 100%;\n    background-color: var(--box-bgc);\n    font-size: 15px;\n    border-radius: 5px;\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  .select-item-group.show{\n    pointer-events: auto;\n    box-shadow: var(--box-shadow);\n    opacity: 1;\n  }\n  .options {\n    overflow: auto;\n    max-height: 0px;\n    transition: max-height 0.1s ease;\n  }\n  .options.show {\n    max-height: 140px;\n  }\n\n  .select-item{\n    padding: 4px 5px;\n  }\n\n  .select-item.active{\n    color: var(--main-color);\n  }\n\n  @media(any-hover:hover){\n    .select-item:hover{\n      background-color: var(--white-highlight);\n    }\n    .input-area:hover{\n      outline: 2px solid var(--main-color);\n    }\n  }\n</style>","import { render } from \"./auSelect.vue?vue&type=template&id=2ee630a8&scoped=true\"\nimport script from \"./auSelect.vue?vue&type=script&lang=js\"\nexport * from \"./auSelect.vue?vue&type=script&lang=js\"\n\nimport \"./auSelect.vue?vue&type=style&index=0&id=2ee630a8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ee630a8\"]])\n\nexport default __exports__","<template>\n  <my-model :show=\"modal_show.newFileModalShow\" :modeless=\"false\" modalKey=\"newFileModalShow\">\n    <div class=\"center-h\">\n      <label>画布大小：</label>\n      <div class=\"size\">\n        <input type=\"text\" v-model=\"newFileForm.rows\"  >\n        <span>x</span>\n        <input type=\"text\" v-model=\"newFileForm.cols\"  >\n      </div>\n    </div>\n    <div class=\"center-h\">\n      <div v-for=\"size in [16,32,64]\" @click=\"newFileForm.rows = size,newFileForm.cols = size\" :style=\"{width: `${size}px`,height: `${size}px`,fontSize: `${size*0.5}px`,border: `1px solid var(--fontNormal)`,marginRight: `4px`,cursor: `pointer`}\">\n        {{size}}<sup>2</sup>\n      </div>\n    </div>\n    <div class=\"center-h\"> \n      <label>网格大小:</label>\n      <input type=\"text\" v-model=\"newFileForm.gridSize\"  >\n    </div>\n    <div class=\"center-h\">\n      <label>导出网格大小:</label>\n      <input type=\"text\" v-model=\"newFileForm.outputSize\"  >\n    </div>\n    <div class=\"center-h left\">\n      <button class=\"fill\" @click=\"newFile()\">新  建</button>\n    </div>\n  </my-model>\n  <div class=\"tool-setting-bar\">\n    <div class=\"left\">\n      <div class=\"tool-option\" @click=\"modal_show.newFileModalShow = true\">\n        <svg-icon name=\"file-create01\"></svg-icon>\n      </div>\n      <div class=\"tool-option\">\n        <div class=\"label\" style=\"width: 91px\">画笔大小({{penSize}}):</div>\n        <input type=\"range\" style=\"color: currentColor\" v-model=\"penSize\" min=\"1\" max=\"20\">\n      </div>\n    </div>\n    <div class=\"right\">\n      <div class=\"icon-item\" @click=\"gifToolsShow=!gifToolsShow\">\n        <svg-icon name=\"file-gif\"></svg-icon>\n      </div>\n      <div class=\"icon-item\" @click=\"toolsShow=!toolsShow\">\n        <svg-icon name=\"phone\"></svg-icon>\n      </div>\n      <div class=\"icon-item\" @click=\"undo\">\n        <svg-icon name=\"undo01\"></svg-icon>\n      </div>\n      <div class=\"icon-item-box\"  @click=\"dropDown($event,'sizeSettingShow')\">\n        <div class=\"icon-item\">\n          <svg-icon name=\"canvas01\"></svg-icon>\n        </div>\n        <div :class=\"{'size-setting':true,'show':dropDownBoxShow.sizeSettingShow} \" >\n          画布大小：\n          <div class=\"size\">\n            <input type=\"number\" v-model=\"rows\"  >\n            <span>x</span>\n            <input type=\"number\" v-model=\"cols\"  >\n          </div>\n        </div>\n      </div>\n\n      <div class=\"icon-item-box\" @click=\"dropDown($event,'downloadShow')\">\n        <div class=\"icon-item\" >\n          <svg-icon name=\"download01\"></svg-icon>\n        </div>\n        <div :class=\"{'size-setting':true,'show':dropDownBoxShow.downloadShow} \" >\n          <div class=\"drop-down-option\" @click=\"saveAsSvg\">保存成 svg</div>\n          <div class=\"drop-down-option\" @click=\"copySvgCode\">复制 svg 代码</div>\n          <div class=\"drop-down-option\" @click=\"saveAsPng\">保存成 png</div>\n          <div class=\"drop-down-option\" @click=\"saveAsGif\">保存成 gif</div>\n        </div>\n      </div>\n        \n    </div>\n  </div>\n  <div class=\"work-area\">\n    <div style=\"display: flex;flex-grow: 1;overflow: hidden;\">\n      <div class=\"left\" v-show=\"toolsShow\">\n        <div class=\"tools-bar\">\n          <div :class=\"{'tool-item':true,'active':tool == 1}\" @click=\"switchTool(1)\">\n            <svg-icon name=\"pencil\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 2}\" @click=\"switchTool(2)\">\n            <svg-icon name=\"eraser\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 3}\" @click=\"switchTool(3)\">\n            <svg-icon name=\"line\" className=\"tool-item-svg\"></svg-icon> \n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 4}\" @click=\"switchTool(4)\">\n            <svg-icon name=\"rect\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 5}\" @click=\"switchTool(5)\">\n            <svg-icon name=\"circle\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 6}\" @click=\"switchTool(6)\">\n            <svg-icon name=\"paintBuckets\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 7}\" @click=\"switchTool(7)\">\n            <svg-icon name=\"select\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div class=\"tool-item\" @click=\"clearAll\">\n            <svg-icon name=\"delete02\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div class=\"tool-item\" @click=\"openFileInput\">\n            <svg-icon name=\"picture-add\" className=\"tool-item-svg\"></svg-icon>\n            <!-- 文件上传按钮 -->\n            <input v-show=\"false\" type=\"file\" id=\"fileInput\" @change=\"importImg\" accept=\"image/*\">\n          </div>\n          <div class=\"tool-item-fullscreen\">\n            <div class=\"color back\" :style=\"{backgroundColor:bkgColor}\" @click=\"[currentColor,bkgColor] = [bkgColor,currentColor]\"></div>\n            <div class=\"color front\" :style=\"{backgroundColor:currentColor}\">\n              <input type=\"color\" class=\"colorInput-hidden\" ref=\"addColor1\" @change=\"addColor($event)\">\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"middle\" \n                          @pointermove=\"handlePointerMove\"\n                          @pointerup=\"handlePointerUp\" ref=\"realViewport\" @wheel=\"zoomWheel\">\n        <div style=\"position: absolute;left: 1rem\">{{coordinate}}</div>\n          <div class=\"drawing-area\" @pointerdown=\"handlePointerDown\">\n            <canvas :width=\"width\" :height=\"height\"  class=\"gridsytle\" :style=\"canvasStyle\" ref=\"canvas\">\n              \n            </canvas>\n          </div>\n        \n      </div>\n      <div class=\"right\" v-show=\"toolsShow\">\n        <div class=\"overview\" @pointermove=\"dragViewportMove\" @pointerup=\"dragViewportUp\" @wheel=\"zoomWheel\">\n          <canvas class=\"gridsytle\" ref=\"canvas_overview\" :style=\"overviewStyle\" :width=\"overviewSize.width\" :height=\"overviewSize.height\"></canvas>\n          <div class=\"viewport\" ref=\"viewport\" @pointerdown=\"dragViewportDown\"></div>\n        </div>\n        <div class=\"overview-tools\">\n          <div class=\"icon-item\" @click=\"zoomIn\">\n            <svg-icon name=\"zoomIn\"></svg-icon>\n          </div>\n          <div class=\"icon-item\" @click=\"zoomOut\">\n            <svg-icon name=\"zoomOut\"></svg-icon>\n          </div>\n          <input type=\"range\" style=\"width: 80px; color: currentColor;\" min=\"10\" max=\"100\" v-model=\"scaleCount\" @input=\"resizeViewport\">\n          <div class=\"icon-item\" @click=\"zoomFit\">\n            <svg-icon name=\"fit01\"></svg-icon>\n          </div>\n        </div>\n        <au-select :dataList=\"['default','Pixel-8']\" @change=\"changeMyColor\" style=\"margin-bottom: 5px;\"></au-select>\n        <div class=\"color-tools\" ref=\"colorTools\" @pointermove=\"handleMove($event,index)\">\n          <div class=\"color-item draged\" v-show=\"dragedColorIndex != null\" ref=\"dragedColor\"></div>\n          <div v-for=\"(color,index) in myColors\" class=\"color-item\" ref=\"colorItem\" :style=\"{backgroundColor:color}\" \n                @pointerdown=\"handleStart($event,index)\"\n                @pointerup=\"handleEnd($event,index)\"\n                ></div>\n          <div class=\"color-item\">+\n            <input type=\"color\" class=\"colorInput-hidden\" ref=\"addColor2\" @change=\"addColor($event)\">\n          </div>\n          <div :class=\"{'color-item delete':true,'show':dragedColorIndex!=null }\" @pointerup=\"handleEnd(event,-1)\">\n            <svg-icon name=\"delete02\" className=\"color-item-svg\"></svg-icon>\n          </div>\n        </div>\n        <div class=\"color-tools\">\n          融合阈值：<input type=\"number\" min=\"0\" max=\"100\" step=\"10\" v-model=\"threshold\" />\n          <button @click=\"imgToPixel\">像素转换</button>\n          <button @click=\"adjustImg\">像素融合</button>\n        </div>\n      </div>\n    </div>\n    <div :class=\"{'gif-tools-box':true,'show':gifToolsShow}\">\n      <div class=\"gif-tools\">\n        <svg-icon name=\"replay01\" @click=\"gifImageDataIndex=0,startAnimate()\"></svg-icon>\n        <svg-icon name=\"play01\" @click=\"startAnimate\"></svg-icon>\n        <svg-icon name=\"pause01\" @click=\"stopAnimate\"></svg-icon>\n        <svg-icon name=\"play-slower01\" @click=\"changeSpeed(-1)\"></svg-icon>\n        <svg-icon name=\"play-faster01\" @click=\"changeSpeed(1)\"></svg-icon>\n        {{`${animateFps[animateFpsIndex]}fps`}}\n        <svg-icon @click=\"pushGifImgList()\" name=\"letter-plus01\"></svg-icon>\n        <svg-icon @click=\"deleteGifImgList()\" name=\"letter-minus01\"></svg-icon>\n        <svg-icon @click=\"saveGifNPngToFolder(gifImageDataList)\" name=\"export01\"></svg-icon>\n      </div>\n      <div class=\"gif-tools\">\n        <canvas ref=\"gifCanvas\" :width=\"100*cols/rows\" height=\"100\" v-for=\"index in gifImageDataList.length\" :style=\"{outline:`${index-1 == gifImageDataIndex ?'2px solid var(--main-color)':'none'}`}\" @click=\"putGifImage2MainCanvas(index-1)\"></canvas>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport GIF from 'gif.js'\nimport auSelect from \"./Model/auSelect.vue\"\n\nexport default {\n  data() {\n    return {\n      tool:1,\n      rows:60,\n      cols:60,\n      gridSize:20,\n      outputSize:30,\n      coordinate:'x:0,y:0',\n      currentColor:'#000001',\n      bkgColor:\"#fff\",\n      // colorToolsEdited:false,\n      myColors:['#000001','#ffffff','#F96635','#f9A822','#FAEC86','#93d3a2','#2bbaa5','#008080'],\n      defaultColors:['#000001','#ffffff','#F96635','#f9A822','#FAEC86','#93d3a2','#2bbaa5','#008080'],\n      pix8Colors:['#000001','#ffffff',\"#202952\",\"#762b52\",\"#398557\",'#a1573e','#605750','#c4c3c8','#fef1eb','#eb3452','#f1a73c','#fcee5a','#67e055','#57a8f7','#807498','#ee7dab','#f6cdb1'],\n      colorIndex:0,\n      dragedColorIndex:null,\n      isDrawing: false,\n      pixels: [],\n      endPoints:{x:0,y:0},\n      maincanvas:null,\n      ctx:null,\n      ovCtx:null,\n      historys:[],\n      log:\"\",\n      shiftdown:false,\n      dropDownBox:null,\n      dropDownBoxShow:{\n        sizeSettingShow:false,\n        downloadShow:false\n      },\n      penSize:1,\n      scaleCount:30,\n      minScaleCount:30,\n      viewport:null,\n      disx:0,\n      disy:0,\n      selectedRect:{x:0,y:0,width:0,height:0},\n      offscreenCanvas:null,\n      selectedImgData:null,\n      selectedBgData:null,\n      isDragingSelectRect:false,\n      selectRectAnimateId:0,\n      pressTimer:null,\n      toolsShow:true,\n      modal_show:{\n        newFileModalShow:false,\n      },\n      newFileForm:{\n        cols:13,\n        rows:13,\n        gridSize:100,\n        outputSize:30\n      },\n      gifToolsShow:false,\n      gifImageDataList:[],\n      animateId:0,\n      gifImageDataIndex:-1,\n      animateStartTime:null,\n      animateFps:[3,4,5,10,30,60],\n      animateFpsIndex:0,\n      animateSpeed:300,\n      imgToPixelTools:false,\n      threshold:0, //min0,max100 \n      // imgToPixelColorList\n      imgPointList:[[]]\n    };\n  },\n  components:{\n    auSelect\n  },\n  computed: {\n    width() {\n      return this.cols*this.gridSize;\n    },\n    height() {\n      return this.rows*this.gridSize;\n    },\n    overviewSize() {\n      let width = 180\n      let height = width/this.cols*this.rows\n      if(height > 140){\n        height = 140\n        width = height/this.rows*this.cols\n      }\n      return {width,height}\n    },\n    overviewStyle(){\n      const size = this.overviewSize.width/this.cols\n      return {\n           // 背景大小必须小于盒子的大小 \n          backgroundSize: `${2*size}px ${2*size}px`,\n          // 第二种渐变的偏移必须为为背景大小的一半 \n          backgroundPosition: `0 0 , ${size}px ${size}px`\n      }\n    },\n    canvasStyle(){\n      const scale = this.scaleCount/100\n      const size = this.gridSize*scale\n      return {\n           // 背景大小必须小于盒子的大小 \n          width:`${this.width*scale}px`,\n          height:`${this.height*scale}px`,\n          backgroundSize: `${2*size}px ${2*size}px`,\n          // 第二种渐变的偏移必须为为背景大小的一半 \n          backgroundPosition: `0 0 , ${size}px ${size}px`\n      }\n    },\n  },\n  \n  mounted() {\n    this.init()\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n    this.$refs.realViewport.addEventListener('scroll', this.viewportScroll);\n\n  },\n  unmounted(){\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n    if(this.$refs.realViewport){\n      this.$refs.realViewport.removeEventListener('scroll', this.viewportScroll);\n    }\n    // document.removeEventListener('click', this.offColorToolsEdit)\n    document.removeEventListener('click',this.closeDropDownBox)\n  },\n  methods: {\n    changeMyColor(index){\n      if(index == 0){\n        this.myColors = this.defaultColors\n      }else if(index == 1){\n        this.myColors = this.pix8Colors\n      }\n    },\n    newFile(){\n      this.cols = Math.floor(this.newFileForm.cols)\n      this.gridSize = Math.floor(this.newFileForm.gridSize)\n      this.rows = Math.floor(this.newFileForm.rows)\n      this.outputSize = Math.floor(this.newFileForm.outputSize)\n      this.historys = []\n      this.clearAll()\n      if(this.modal_show.newFileModalShow){\n        this.modal_show.newFileModalShow = false\n      }\n    },\n    //颜色卡片长按事件\n    handleStart(event,index){\n        \n        this.pressTimer = setTimeout(() => {\n          // this.colorToolsEdited = true\n          this.dragedColorIndex = index\n          const el = event.target\n          this.disx = event.pageX - el.offsetLeft\n          this.disy = event.pageY - el.offsetTop\n          const dragedEl = this.$refs.dragedColor\n          dragedEl.style.backgroundColor = this.myColors[this.dragedColorIndex]\n          dragedEl.style.left = `${event.pageX - this.disx}px`\n          dragedEl.style.top = `${event.pageY - this.disy}px`\n          // document.addEventListener(\"click\",this.offColorToolsEdit)\n          clearTimeout(this.pressTimer)\n          this.pressTimer = null\n        }, 500);\n    },\n    handleMove(event,index){\n      if (this.pressTimer) {\n        clearTimeout(this.pressTimer);\n        this.pressTimer = null;\n      }\n      if(this.dragedColorIndex != null){\n        const dragedEl = this.$refs.dragedColor\n        dragedEl.style.backgroundColor = this.myColors[this.dragedColorIndex]\n        dragedEl.style.left = `${event.pageX - this.disx}px`\n        dragedEl.style.top = `${event.pageY - this.disy}px`\n      }\n    },\n    handleEnd(event,index){\n      // 如果定时器还在，说明是点击事件\n      if (this.pressTimer) {\n        clearTimeout(this.pressTimer);\n        this.pressTimer = null;\n        this.selectColor(index)\n      }\n      if(this.dragedColorIndex != null){\n        if(index == -1){\n          this.myColors.splice(this.dragedColorIndex,1)\n          this.dragedColorIndex = null\n        }else{\n          const colorTem = this.myColors[index]\n          this.myColors[index] = this.myColors[this.dragedColorIndex]\n          this.myColors[this.dragedColorIndex] = colorTem\n          this.dragedColorIndex = null\n        }\n      }\n    },\n    selectColor(index){\n      this.currentColor = this.myColors[index]\n    },\n    addColor(event){\n      const colorDom = event.currentTarget\n      const colorValue = colorDom.value\n      if(!this.myColors.includes(colorValue)){\n        this.myColors.push(colorValue)\n      }\n      this.currentColor = colorValue\n      \n    },\n    switchTool(index){\n      if(this.tool!= index){\n        if(this.tool == 7){\n          this.selectedImgData = null\n          this.selectedRect = {x:0,y:0,width:0,height:0}\n          cancelAnimationFrame(this.selectRectAnimateId)\n          this.selectRectAnimateId = 0\n          this.showLastHistory()\n        }\n        if(index == 7){\n          this.selectedBgData = this.ctx.getImageData(0,0,this.width,this.height)\n        }\n        this.tool = index\n      }\n    },\n    updateOverview(){\n      this.ovCtx.clearRect(0,0,this.overviewSize.width,this.overviewSize.height)\n      this.ovCtx.drawImage(\n        this.maincanvas,\n        0,0,this.width,this.height,\n        0,0,this.overviewSize.width,this.overviewSize.height\n      )\n    },\n    dropDown(event, keyname){\n      this.dropDownBox = event.target\n      const keys = Object.keys(this.dropDownBoxShow)\n      keys.forEach(key => {\n        this.dropDownBoxShow[key] = false\n      })\n      this.dropDownBoxShow[keyname] = true\n      document.addEventListener('click',this.closeDropDownBox)\n    },\n    closeDropDownBox(e){\n      if(!this.dropDownBox.contains(e.target)){\n        const keys = Object.keys(this.dropDownBoxShow)\n        keys.forEach(key => {\n          this.dropDownBoxShow[key] = false\n        })\n        document.removeEventListener('click',this.closeDropDownBox)\n      }\n    },\n    // switchColor(point){\n    //   const color = this.getColorAtPixel(point)\n    //   const currentColor = 'rgba('+color.r+','+color.g+','+color.b+','+color.a+')'\n    //   if(currentColor != 'rgba(0,0,0,0)'){\n    //     this.currentColor = currentColor\n    //   }\n    // },\n    handleKeyDown(event) {\n      if (event.key === 'Shift') {\n        this.shiftdown = true;\n      }\n    },\n    handleKeyUp(event) {\n      if (event.key === 'Shift') {\n        this.shiftdown = false;\n      }\n    },\n    init(){\n      if (window.PointerEvent) { \n        // Pointer events are supported. \n        this.log=\"Pointer events are supported.\"\n      }\n      this.maincanvas = this.$refs.canvas;\n      const overview = this.$refs.canvas_overview\n      this.ctx = this.maincanvas.getContext('2d');\n\n      // this.ctx.imageSmoothingEnabled = true;\n      this.ctx.lineWidth = 1\n      // this.ctx.strokeRect(10.5,10.5,9,9)\n      this.ovCtx = overview.getContext('2d')\n      this.addHistory()\n      this.resizeViewport()\n      this.getMinScale()\n      this.scaleCount = this.minScaleCount\n      this.offscreenCanvas = document.createElement('canvas');\n    },\n    getMinScale(){\n      const realViewport = this.$refs.realViewport\n      let width = realViewport.clientWidth - 5\n      let height = width/this.cols*this.rows\n      if(height > realViewport.clientHeight){\n        height = realViewport.clientHeight - 2\n        width = height/this.rows*this.cols\n      }\n      this.minScaleCount = Math.floor(100*width/this.width)\n      this.log = this.minScaleCount\n    },\n    \n    handlePointerDown(event){\n      \n      this.endPoints = this.getPoint({x:event.clientX,y:event.clientY})\n\n      if(this.tool == 2) {\n        this.isDrawing = true\n        this.clearPixel(this.endPoints)\n      }else if(this.tool < 6) {\n        this.isDrawing = true\n        this.drawPixel(this.endPoints)\n      }else if(this.tool == 6){\n        this.ctx.fillStyle = this.currentColor\n        this.fillArea(this.endPoints);\n        this.addHistory()\n      }else if(this.tool == 7){\n        this.ctx.beginPath()\n        this.ctx.rect(this.selectedRect.x,this.selectedRect.y,this.selectedRect.width,this.selectedRect.height)\n        this.ctx.closePath()\n        const isPointInPath = this.ctx.isPointInPath(this.endPoints.x,this.endPoints.y)\n        if(isPointInPath){\n          //开始拖拽\n          if(!this.selectedImgData){\n            this.showLastHistory()\n            this.selectedImgData = this.ctx.getImageData(this.selectedRect.x,this.selectedRect.y,this.selectedRect.width,this.selectedRect.height)\n            this.offscreenCanvas.width = this.selectedRect.width;\n            this.offscreenCanvas.height = this.selectedRect.height;\n            const offscreenCtx = this.offscreenCanvas.getContext('2d');\n            this.showLastHistory()\n            this.ctx.clearRect(this.selectedRect.x,this.selectedRect.y,this.selectedRect.width,this.selectedRect.height)\n            this.selectedBgData = this.ctx.getImageData(0,0,this.width,this.height)\n            offscreenCtx.putImageData(this.selectedImgData,0,0)\n             \n          }else{\n            //如果已经选了图像了则不用重新绘制区域图片\n            this.ctx.putImageData(this.selectedBgData,0,0)\n          }\n          this.disx = this.endPoints.x - this.selectedRect.x\n          this.disy = this.endPoints.y - this.selectedRect.y\n          \n          this.isDragingSelectRect = true\n          \n          this.ctx.drawImage(this.offscreenCanvas, this.selectedRect.x-1, this.selectedRect.y-1)\n        }else{\n          //选择新的区域\n          this.showLastHistory()\n\n          if(this.selectRectAnimateId == 0){\n            this.selectRectAnimateId = requestAnimationFrame(this.dashedRectAnimate)\n          }\n          // this.newSelected = true\n          this.selectedImgData = null\n          this.selectedRect = {x:0,y:0,width:0,height:0}\n          this.selectedBgData = this.ctx.getImageData(0,0,this.width,this.height)\n          \n          //选择区域\n          this.isDrawing = true\n        }\n      }\n    },\n\n    handlePointerMove(event){\n      this.ctx.fillStyle = this.currentColor\n      this.ctx.strokeStyle = this.currentColor\n      const currPoint = this.getPoint({x:event.clientX,y:event.clientY})\n      if(this.isDrawing){\n        if(this.tool == 1){\n          this.drawLine(this.endPoints, currPoint)\n          this.endPoints = currPoint\n        }else if(this.tool == 2){\n          this.clearPixel(currPoint)\n        }else if(this.tool == 3){\n          this.showLastHistory()\n          this.drawLine(this.endPoints, currPoint)\n        }else if(this.tool == 4){\n          this.showLastHistory()\n          this.drawRect(this.endPoints, currPoint)\n        }else if(this.tool == 5){\n          this.showLastHistory()\n          this.drawPixelEllipse(this.endPoints, currPoint)\n        }else if(this.tool == 7){\n          this.showLastHistory()\n          this.select(this.endPoints, currPoint)\n        }\n      }else{\n        if(this.tool == 7 && this.isDragingSelectRect){\n          // this.ctx.putImageData(this.selectedBgData, 0, 0)\n          this.selectedRect.x = currPoint.x-this.disx\n          this.selectedRect.y = currPoint.y-this.disy\n          // window.cancelAnimationFrame(this.selectRectAnimateId)\n          // this.ctx.drawImage(this.offscreenCanvas,this.selectedRect.x-1, this.selectedRect.y-1)\n          \n        }else if(this.tool < 6 ){\n          this.showLastHistory()\n          this.overMove(currPoint)\n        }\n      }\n    },\n    select(start,end){\n      const x = Math.min(start.x,end.x)\n      const y = Math.min(start.y,end.y)\n      const width = Math.abs(end.x-start.x)+this.gridSize\n      const height = Math.abs(end.y-start.y)+this.gridSize\n      this.imgPointList = [[]]\n      this.selectedRect = {x, y, width, height}\n    },\n    drawDashedRect(){\n      this.ctx.lineDashOffset = (this.ctx.lineDashOffset+1)%100\n      this.ctx.setLineDash([0])\n      this.ctx.strokeStyle = \"#fff\"\n      this.ctx.strokeRect(this.selectedRect.x-5,this.selectedRect.y-5, this.selectedRect.width+10, this.selectedRect.height+10)\n      this.ctx.setLineDash([50])\n      this.ctx.strokeStyle = \"#000\"\n      this.ctx.strokeRect(this.selectedRect.x-5,this.selectedRect.y-5, this.selectedRect.width+10, this.selectedRect.height+10)\n      this.ctx.fillStyle = \"rgba(0,0,0,0.3)\"\n      this.ctx.fillRect(this.selectedRect.x,this.selectedRect.y, this.selectedRect.width, this.selectedRect.height)\n      this.ctx.fillStyle = this.currentColor\n    },\n    dashedRectAnimate(){\n      this.ctx.putImageData(this.selectedBgData,0,0)\n      if(this.selectedRect.width*this.selectedRect.height != 0 ){\n        this.drawDashedRect()\n      }\n      if(this.selectedImgData){\n        this.ctx.drawImage(this.offscreenCanvas,this.selectedRect.x, this.selectedRect.y)\n      }\n      this.selectRectAnimateId = requestAnimationFrame(this.dashedRectAnimate)\n    },\n    selectSave(){\n      this.ctx.putImageData(this.selectedBgData,0,0)\n      this.ctx.drawImage(\n        this.offscreenCanvas,\n        0,0,this.selectedRect.width, this.selectedRect.height,\n        this.selectedRect.x,this.selectedRect.y,this.selectedRect.width, this.selectedRect.height)\n      this.addHistory()\n      \n    },\n    handlePointerUp(){\n      if(this.isDrawing){\n        this.isDrawing = false\n        if(this.tool == 7){\n          //选择区域结束判断选择区域,如果长或宽小于0则关闭选择动画，取消选择\n          if(this.selectedRect.width*this.selectedRect.height == 0){\n            cancelAnimationFrame(this.selectRectAnimateId)\n            this.selectRectAnimateId = 0\n            this.selectedRect = {x:0,y:0,width:0,height:0}\n            this.selectedImgData = null\n          }\n        }else{\n          this.addHistory()\n        }\n      }\n      if(this.isDragingSelectRect){\n        this.isDragingSelectRect = false\n        this.selectSave()\n        // this.dashedRectAnimate()\n      }\n      \n    },\n    drawPixel(point, size=this.penSize, color = this.currentColor){\n      this.ctx.fillStyle = color\n      const x = point.x/this.gridSize - Math.floor(size/2)\n      const y = point.y/this.gridSize - Math.floor(size/2)\n      this.ctx.fillRect(this.gridSize*x,this.gridSize*y,this.gridSize*size,this.gridSize*size)\n      // this.ctx.font = \"40px serif\"\n      // this.ctx.fillStyle = \"#ffffff\"\n      // this.ctx.fillText(`${(x+y*this.cols)*30}`,this.gridSize*x,this.gridSize*y+30)\n    },\n    overMove(point){\n      this.ctx.fillStyle = 'rgba(0,0,0,0.3)'\n      const size = this.penSize\n      const x = point.x/this.gridSize - Math.floor(size/2)\n      const y = point.y/this.gridSize - Math.floor(size/2)\n      this.ctx.fillRect(this.gridSize*x,this.gridSize*y,this.gridSize*size,this.gridSize*size)\n    },\n    clearPixel(point){\n      const size = this.penSize\n      const x = point.x/this.gridSize - Math.floor(size/2)\n      const y = point.y/this.gridSize - Math.floor(size/2)\n      this.ctx.clearRect(this.gridSize*x,this.gridSize*y,this.gridSize*size,this.gridSize*size)\n    },\n    // 直线BH算法https://blog.csdn.net/myf_666/article/details/128164135\n    drawLine(start,end){\n      let x = start.x\n      let y = start.y\n      let dx = Math.abs(end.x - start.x)\n      let dy = Math.abs(end.y - start.y)\n      let sx = (start.x < end.x)? this.gridSize : -this.gridSize\n      let sy = (start.y < end.y)? this.gridSize : -this.gridSize\n      let err = dx - dy\n      while(true){\n        this.drawPixel({x,y})\n        if(x === end.x && y === end.y) break\n        let e2 = 2 * err;\n        if(e2 > -dy){\n          err -= dy;\n          x += sx;\n        }\n        if(e2 < dx){\n          err += dx;\n          y += sy\n        }\n      }\n    },\n    \n    drawRect(start,end){\n      let rightUp, leftDown;\n\n      if (this.shiftdown) {\n        // 计算水平和垂直距离\n        const deltaX = end.x - start.x;\n        const deltaY = end.y - start.y;\n\n        // 选择较小的距离作为正方形的边长\n        const sideLength = Math.min(Math.abs(deltaX), Math.abs(deltaY));\n\n        // 根据方向调整 end 点的位置\n        if (deltaX > 0 && deltaY > 0) {\n          end = { x: start.x + sideLength, y: start.y + sideLength };\n        } else if (deltaX > 0 && deltaY < 0) {\n          end = { x: start.x + sideLength, y: start.y - sideLength };\n        } else if (deltaX < 0 && deltaY > 0) {\n          end = { x: start.x - sideLength, y: start.y + sideLength };\n        } else {\n          end = { x: start.x - sideLength, y: start.y - sideLength };\n        }\n      }\n\n      rightUp = { x: end.x, y: start.y };\n      leftDown = { x: start.x, y: end.y };\n\n      this.drawLine(start, rightUp);\n      this.drawLine(leftDown, end);\n      this.drawLine(start, leftDown);\n      this.drawLine(rightUp, end);\n      \n    },\n    //椭圆BH算法https://www.cnblogs.com/fortunely/p/17681502.html\n     drawPixelEllipse(start, end) {\n      const xc = (start.x + end.x) / 2 / this.gridSize + 0.5\n      const rx = Math.abs((end.x - start.x) / this.gridSize / 2);\n      const drx = end.y>start.y ? rx : -rx\n      const yc = this.shiftdown ? start.y/this.gridSize + drx + 0.5 : (start.y + end.y) / 2 / this.gridSize + 0.5\n      const ry = this.shiftdown ? rx : Math.abs((end.y - start.y) / this.gridSize / 2);\n\n      let x = rx%1 ? 0.5 : 0;\n      let y = ry;\n      let d1 = Math.ceil(ry * ry - rx * rx * ry + 0.25 * rx * rx);\n      let dx = 2 * ry * ry * x;\n      let dy = 2 * rx * rx * y;\n      this.drawEllipsePoints(xc, yc, x, y)\n\n      while (dx < dy) {\n        x++\n        dx += 2 * ry * ry;\n        if (d1 <= 0) {\n          d1 += dx + ry * ry;\n        } else {\n          y--;\n          dy -= 2 * rx * rx;\n          d1 += dx - dy + ry * ry;\n        }\n        \n        this.drawEllipsePoints(xc, yc, x, y)\n      }\n\n      let d2 = Math.ceil(ry * ry * (x + 0.5) * (x + 0.5) + rx * rx * (y - 1) * (y - 1) - rx * rx * ry * ry);\n      while (y > 0) {\n        y--\n        dy -= 2 * rx * rx\n        if (d2 <= 0) {\n          x++\n          dx += 2 *ry*ry\n          d2 += ry*ry - dy + dx\n          \n        } else {\n          d2 += rx * rx - dy\n        }\n        this.drawEllipsePoints(xc, yc, x, y)\n      }\n    },\n    drawEllipsePoints(xc, yc, x, y) {\n      xc -= 0.5\n      yc -= 0.5\n      this.drawPixel({ x: (xc + x) * this.gridSize, y: (yc - y) * this.gridSize });\n      this.drawPixel({ x: (xc - x) * this.gridSize, y: (yc - y) * this.gridSize });\n      this.drawPixel({ x: (xc - x) * this.gridSize, y: (yc + y) * this.gridSize });\n      this.drawPixel({ x: (xc + x) * this.gridSize, y: (yc + y) * this.gridSize });\n    },\n    // 在你的像素画板中实现一个填充功能（类似于“油漆桶”工具），你需要用到一种称为“洪水填充”（Flood Fill）算法。这个算法将会递归地或使用队列填充相同颜色的相邻像素。为了避免递归深度过深导致栈溢出，我们可以使用队列来实现非递归的广度优先搜索（BFS）填充算法。\n    fillArea(startPoint) {\n      const targetColor = this.getColorAtPixel(startPoint);\n      const fillColor = this.hexToArgb(this.ctx.fillStyle);\n\n      if (this.colorsMatch(targetColor, fillColor)) {\n        return; // 避免填充相同颜色的区域\n      }\n\n      const stack = [startPoint];\n      const { width, height } = this.$refs.canvas;\n      const visited = new Set();\n\n      const key = (x, y) => `${x},${y}`;\n      \n      while (stack.length) {\n        const { x, y } = stack.pop();\n        const currentColor = this.getColorAtPixel({ x, y });\n\n        if (!visited.has(key(x, y)) && this.colorsMatch(currentColor, targetColor)) {\n          this.drawPixel({ x, y }, 1);\n          visited.add(key(x, y));\n\n          if (x > 0) stack.push({ x: x - this.gridSize, y });\n          if (x < width - this.gridSize) stack.push({ x: x + this.gridSize, y });\n          if (y > 0) stack.push({ x, y: y - this.gridSize });\n          if (y < height - this.gridSize) stack.push({ x, y: y + this.gridSize });\n\n        }\n      }\n    },\n    getColorAtPixel(point) {\n      const { data } = this.ctx.getImageData(point.x, point.y, 1, 1);\n      return data.slice(0, 4);\n    },\n    hexToArgb(hex) {\n      if (hex[0] === '#') hex = hex.slice(1);\n      const bigint = parseInt(hex, 16);\n      if (hex.length === 8) {\n        return [(bigint >> 24) & 255, (bigint >> 16) & 255, (bigint >> 8) & 255, bigint & 255];\n      } else if (hex.length === 6) {\n        return [255, (bigint >> 16) & 255, (bigint >> 8) & 255, bigint & 255];\n      } else if (hex.length === 4) {\n        return [(bigint >> 12) & 15 * 17, (bigint >> 8) & 15 * 17, (bigint >> 4) & 15 * 17, bigint & 15 * 17];\n      } else if (hex.length === 3) {\n        return [255, (bigint >> 8) & 15 * 17, (bigint >> 4) & 15 * 17, bigint & 15 * 17];\n      }\n      return [0, 0, 0, 0]; // 默认返回透明黑色\n    },\n    colorsMatch(color1, color2) {\n      return color1[0] === color2[0] && color1[1] === color2[1] && color1[2] === color2[2] && color1[3] === color2[3];\n    },\n    clearAll(){\n      this.selectedRect = {x:0,y:0,width:0,height:0}\n      this.selectedImgData = null\n      this.ctx.clearRect(0,0,this.width,this.height)\n      cancelAnimationFrame(this.selectRectAnimateId)\n      this.selectRectAnimateId = 0\n      this.addHistory()\n    },\n    isRectEqual(rect1, rect2) {\n      return rect1.x === rect2.x &&\n             rect1.y === rect2.y &&\n             rect1.width === rect2.width &&\n             rect1.height === rect2.height;\n    },\n    getPoint(point){\n      const scale = this.scaleCount/100\n      const rect = this.$refs.canvas.getBoundingClientRect();\n      const x = Math.floor((point.x - rect.left) / this.gridSize/scale)*this.gridSize\n      const y = Math.floor((point.y - rect.top) / this.gridSize/scale)*this.gridSize\n      this.coordinate = `x:${x / this.gridSize},y:${y / this.gridSize}`\n      return {x,y}\n    },\n    showLastHistory() {\n      const history = this.historys\n      const imageData = history[history.length - 1]['data']\n      this.ctx.putImageData(imageData, 0, 0)\n    },\n    addHistory() {\n      this.historys.push({\n        data: this.ctx.getImageData(0, 0, this.width, this.height)\n      })\n      this.updateOverview()\n      if(this.gifImageDataList.length > 0)\n        this.updateGifImage(this.gifImageDataIndex)\n    },\n    undo(){\n      var history = this.historys;\n      \n      if(history && history.length > 1){\n        history.pop();\n        this.showLastHistory();\n        this.updateOverview()\n      }\n\n      //清空选择区域\n      this.selectedImgData = null\n      this.selectedRect = {x:0,y:0,width:0,height:0}\n      cancelAnimationFrame(this.selectRectAnimateId)\n      this.selectRectAnimateId = 0\n    },\n    getPixelVector(pixel){\n      const pixelSize = this.outputSize\n      const color = `rgba(${pixel.r},${pixel.g},${pixel.b},${pixel.a})`\n      const x1 = {x:pixel.x, y:pixel.y}\n      const x2 = {x:pixel.x + pixelSize, y:pixel.y}\n      const x3 = {x:pixel.x + pixelSize, y:pixel.y + pixelSize}\n      const x4 = {x:pixel.x, y:pixel.y + pixelSize}\n      const point2Num = (x,y)=>{\n        return x + y*this.cols\n      }\n      //定义了正方形的4个边向量[向量起点，向量终点，向量右边的颜色]\n      return [[point2Num(x1.x,x1.y),point2Num(x2.x,x2.y),color],\n              [point2Num(x2.x,x2.y),point2Num(x3.x,x3.y),color],\n              [point2Num(x3.x,x3.y),point2Num(x4.x,x4.y),color],\n              [point2Num(x4.x,x4.y),point2Num(x1.x,x1.y),color]]\n    },\n    getpathContent(pixelData){\n      let pathLists = [] \n      //这三个list的index代表同一条路径的集合、开始点、结束点\n\n      let pointWithNextPoints  = new Map()\n      pixelData.forEach(pixel => {\n        // console.log(pixel)\n        const pixelVectors = this.getPixelVector(pixel)\n        //生成一个单向的相邻点的map\n        pixelVectors.forEach(vector => {\n          // console.log(`开始添加向量：（${vector[0]},${vector[1]}）`)\n          if(pointWithNextPoints.has(vector[0])){\n            if(pointWithNextPoints.has(vector[1])){\n              // console.log(`${vector[0]},${vector[1]}=======>${vector[1]},${vector[0]}`)\n              let nextPoints = pointWithNextPoints.get(vector[1])\n              \n              // nextPoints.forEach(nextpoint=>{\n              //   console.log(nextpoint)\n              // })\n              let findSameVector = null\n              for(var i=0; i < nextPoints.length ; i++){\n                // console.log(`${nextPoints[i]},${vector[0]},${vector[2]}`)\n                // console.log(nextPoints[i][0] == vector[0] && nextPoints[i][1] == vector[2])\n                if(nextPoints[i][0] == vector[0] && nextPoints[i][1] == vector[2]){\n                  findSameVector = nextPoints.splice(i,1)\n                  // console.log(\"存在同一条线，不添加\")\n                  if(nextPoints.length > 0){\n                    pointWithNextPoints.set(vector[1],nextPoints)\n                    // console.log(\"删除已经存在的线段\")\n                  }else{\n                    pointWithNextPoints.delete(vector[1])\n                    // console.log(\"删除已经存在的线段,起始点没有相邻点，删除起始点\")\n                  }\n                  \n                  break;\n                }\n              }\n\n              if(findSameVector == null){\n                let newValue = pointWithNextPoints.get(vector[0]).push([vector[1],vector[2]])\n                pointWithNextPoints[vector[0], newValue]\n                // console.log(\"添加成功\")\n              }\n            }else{\n              let newValue = pointWithNextPoints.get(vector[0]).push([vector[1],vector[2]])\n              pointWithNextPoints[vector[0], newValue]\n              // console.log(\"添加成功\")\n            }\n          }else{\n            pointWithNextPoints.set(vector[0], [[vector[1],vector[2]]])\n            // console.log(\"添加成功\")\n          }\n        })\n      });\n      // console.log(pointWithNextPoints)\n      // for(const [key,value] of pointWithNextPoints){\n      //   console.log(key+\":\")\n      //   value.forEach(v => {\n      //     console.log(`point:${v[0]},color:${v[1]}`)\n      //   })\n      //   console.log(\"=============================\")\n      // }\n      //遍历pointWithNextPoints得到路径\n\n      const findPath = (point,path=null, color=null)=>{\n        console.log(`findPath(\\n${point},\\n${path},\\n${color})`)\n        if(pointWithNextPoints.has(point)){\n          let nextPoints = pointWithNextPoints.get(point)\n          if(color == null){\n            let nextPoint = nextPoints.splice(0,1)[0]\n            pointWithNextPoints.set(point,nextPoints)\n            if(nextPoints.length <= 0){\n              pointWithNextPoints.delete(point)\n              // console.log(`这个点是路径起始点，且只有一个继点，移除${point}`)\n            }\n            path = [point,nextPoint[0]]\n            findPath(nextPoint[0], path, nextPoint[1])\n          }else{\n            let nextPoints = pointWithNextPoints.get(point)\n            let nextPoint = null\n            for(var i=0 ; i < nextPoints.length ; i++){\n              if(nextPoints[i][1] == color){\n\n                nextPoint = nextPoints.splice(i, 1)[0]\n                pointWithNextPoints.set(point,nextPoints)\n                if(nextPoints.length <= 0){\n                  pointWithNextPoints.delete(point)\n                  // console.log(`这个点的继点被全部匹配完了，移除${point}`)\n                }\n                break\n              }\n            }\n            if(nextPoint){\n              path.push(nextPoint[0])\n              findPath(nextPoint[0], path, nextPoint[1])\n            }else{\n              path.push(color)\n              // console.log(`map里有thispoint:${point},当时相同颜色:${color}没有可以找的点`)\n              pathLists.push(path)\n              if(pointWithNextPoints.size > 0){\n                const newkey = pointWithNextPoints.keys().next().value\n                const newstart = pointWithNextPoints.get(newkey)[0]\n\n                findPath(newstart[0])\n              }else{\n                return\n              }\n            }\n          }\n        }else{\n          if(color){\n            path.push(color)\n            pathLists.push(path)\n            // console.log(`map里找不到thispoint:${point}了`)\n            if(pointWithNextPoints.size > 0){\n              const newkey = pointWithNextPoints.keys().next().value\n              const newstart = pointWithNextPoints.get(newkey)[0]\n              // console.log(`**********newstart[0]:${newstart[0]}`)\n              findPath(newstart[0])\n            }else{\n              return\n            }\n          }\n          return\n        }\n        \n      }\n      const start = pointWithNextPoints.keys().next().value\n      // console.log(`start:${start}-----------`)\n      findPath(start)\n      let pathContent = ``\n      let colorWithPath = new Map() //保存颜色-路径的映射，用于合并相同颜色的路径\n      const num2Point = (num)=>{\n        const x = num%(this.cols*30)\n        return {x,y:Math.floor((num-x)/this.cols)}\n      }\n\n      pathLists.forEach((pathList)=>{\n        // console.log(pathList)\n        let p1 = num2Point(pathList[0])\n        // console.log(pathList[0],p1)\n        let step = {direction:\"M\",step:0}\n        let path = `M${p1.x} ${p1.y}`\n        for(var i=1; i<pathList.length-1 ;i++){\n          let p2 = num2Point(pathList[i])\n          // console.log(p2)\n          if(p1.x == p2.x){\n            if(step.direction == \"v\"){\n              step.step += (p2.y - p1.y)\n              // console.log(`1:::::::::${step.direction},${step.step}`)\n            }else{\n              if(step.step != 0){\n                path += `${step.direction}${step.step}`\n              }\n              step.direction = \"v\"\n              step.step = (p2.y - p1.y)\n              // console.log(`2:::::::::${step.direction},${step.step}`)\n            }\n          }else{\n            if(step.direction == \"h\"){\n              step.step += (p2.x - p1.x)\n              // console.log(`3:::::::::${step.direction},${step.step}`)\n            }else{\n              if(step.step != 0){\n                path += `${step.direction}${step.step}`\n                \n              }\n              step.direction = \"h\"\n              step.step = (p2.x - p1.x)\n              // console.log(`${p2.y},${p1.y},${p2.y-p1.y}`)\n              // console.log(`4:::::::::${step.direction},${step.step}`)\n            }\n          }\n          p1.x = p2.x\n          p1.y = p2.y\n          // console.log(`step:\"${step.direction}\",${step.step}`)\n        }\n        path += \"z\"\n        const colorKey = pathList[pathList.length-1]\n        if(colorWithPath.has(colorKey)){\n          let newValue = colorWithPath.get(colorKey)\n          newValue.push(path) \n          colorWithPath.set(colorKey, newValue)\n        }else{\n          colorWithPath.set(colorKey, [path])\n        }\n      })\n      for(var [key,value] of colorWithPath){\n        let colorPath = `<path d=\"`\n        value.forEach((path)=>{\n          // console.log(key,path)\n          colorPath += path\n        })\n        colorPath += `\" fill=\"${key=='rgba(0,0,0,255)' || key=='rgba(0,0,1,255)' ?'currentColor':key}\"/>`\n        pathContent += colorPath\n      }\n      console.log(pathContent)\n      return pathContent\n    },\n    getSvgContent(filled=false){\n      const width = this.width;\n      const height = this.height;\n      const imageData = this.ctx.getImageData(0, 0, width, height)\n\n      //解析像素数据，gpt生成代码\n      const pixels = imageData.data;\n\n      let pixelData = [];\n      for (let y = 0; y < height; y+=this.gridSize) {\n        for (let x = 0; x < width; x+=this.gridSize) {\n          const index = (y * width + x) * 4;\n          const r = pixels[index];\n          const g = pixels[index + 1];\n          const b = pixels[index + 2];\n          const a = pixels[index + 3];\n\n          // 只保存非透明像素\n          if (a > 0) {\n            pixelData.push({ x:x/this.gridSize*this.outputSize, y:y/this.gridSize*this.outputSize, r, g, b, a });\n          }\n        } \n      }\n    \n      //生成svg文件,gpt生成代码\n      let svgContent = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${this.cols*this.outputSize} ${this.rows*this.outputSize}\">`;\n      \n      if(false){\n        pixelData.forEach(pixel => {\n          let color = `rgba(${pixel.r},${pixel.g},${pixel.b},${pixel.a})`\n          if(color =='rgba(0,0,1,255)' || color == 'rgba(0,0,0,255)'){\n            color = \"currentColor\"\n          }\n          svgContent += `<rect x=\"${pixel.x}\" y=\"${pixel.y}\" width=\"${this.outputSize}\" height=\"${this.outputSize}\" fill=\"${color}\" />`;\n        });\n      }else{\n        svgContent += this.getpathContent(pixelData)\n      }\n      \n\n      svgContent += '</svg>';\n      return svgContent\n      \n    },\n    copySvgCode(){\n      const content = this.getSvgContent()\n      this.copyToClipboard(content)\n    },\n    saveAsSvg(){\n      const svgContent = this.getSvgContent()\n      //保存svg文件\n      const blob = new Blob([svgContent], { type: 'image/svg+xml' });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = 'drawing.svg';\n      link.click();\n      URL.revokeObjectURL(url);\n    },\n    saveAsPng(){\n      const link = document.createElement('a');\n      const url =  this.maincanvas.toDataURL(\"image/png\");\n      link.href = url;\n      link.download = 'drawing.png';\n      link.click();\n      URL.revokeObjectURL(url);\n    },\n    saveAsGif(){\n      if(this.gifImageDataIndex == -1){\n        this.$toast.show('没有创建gif图片数据序列','error')\n        return\n      }\n\n      // 假设你已经有一个数组保存了所有的 ImageData 对象\n      const imageDataArray = this.gifImageDataList\n\n      // 创建一个 GIF 对象\n      const gif = new GIF({\n        workers: 2,\n        quality: 10,\n        workerScript: `${process.env.BASE_URL}js/gifjs/gif.worker.js`,\n        transparent: 'rgba(0,0,0,0)',\n      });\n\n      \n\n      // 遍历 ImageData 数组，并将每个 ImageData 添加为一帧\n      imageDataArray.forEach(imageData => {\n        gif.addFrame(imageData, {delay: Math.floor(this.animateSpeed)});\n      });\n\n      // 生成并导出 GIF\n      gif.on('finished', function(blob) {\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = 'output.gif';\n        a.click();\n        URL.revokeObjectURL(url);\n      });\n\n      gif.render();\n\n    },\n    async copyToClipboard(content) {\n      try {\n        await navigator.clipboard.writeText(content);\n        this.$toast.show('复制成功','success')\n      } catch (err) {\n        this.$toast.show(err,'error')\n      }\n    },\n    dragViewportDown(e){\n      this.$refs.realViewport.removeEventListener('scroll', this.viewportScroll);\n      this.viewport = this.$refs.viewport\n      this.disx = e.pageX - this.viewport.offsetLeft\n      this.disy = e.pageY - this.viewport.offsetTop\n      this.resizeViewport()\n    },\n    dragViewportMove(e){\n      if(this.viewport){\n        const overview = this.$refs.canvas_overview\n        const realViewport = this.$refs.realViewport\n        const scale = overview.clientWidth/this.maincanvas.clientWidth\n\n        var left = e.pageX - this.disx\n        var top = e.pageY - this.disy\n        const leftmax = overview.offsetLeft +  overview.clientWidth - this.viewport.clientWidth - 2\n        const topmax = overview.offsetTop + this.viewport.parentElement.clientHeight - this.viewport.clientHeight - 2\n        left = Math.max(overview.offsetLeft, Math.min(left, leftmax));\n        top = Math.max(overview.offsetTop, Math.min(top, topmax));\n        this.viewport.style.left = left + 'px';\n        this.viewport.style.top = top + 'px';\n        this.log = `${overview.offsetLeft}`\n        const scrollLeft = (left - overview.offsetLeft)/scale\n        const scrollTop = (top - overview.offsetTop)/scale\n        realViewport.scrollTop = scrollTop\n        realViewport.scrollLeft = scrollLeft\n      }\n    },\n    dragViewportUp(){\n      this.$refs.realViewport.addEventListener('scroll', this.viewportScroll);\n      if(this.viewport)\n        this.viewport=null\n    },\n    viewportScroll(){\n      this.log = `${this.$refs.realViewport.scrollTop},${this.$refs.realViewport.scrollLeft}`\n      this.resizeViewport()\n    },\n    zoomWheel(event){\n      event.preventDefault()\n      const deltaY = event.deltaY\n      if(deltaY < 0){\n        var scale = Number(this.scaleCount) + 1\n        this.scaleCount = Math.min(scale,100)\n      }else{\n        var scale = Number(this.scaleCount) - 1\n        this.scaleCount = Math.max(scale,10)\n      }\n      this.resizeViewport()\n    },\n    zoomIn(){\n      var scale = Number(this.scaleCount) + 10\n      this.scaleCount = Math.min(scale,100)\n      this.resizeViewport()\n    },\n    zoomOut(){\n      var scale = Number(this.scaleCount) - 10\n      this.scaleCount = Math.max(scale,10)\n      this.resizeViewport()\n    },\n    zoomFit(){\n      this.getMinScale()\n      this.scaleCount = this.minScaleCount\n      this.resizeViewport()\n    },\n    resizeViewport(){\n      //设置viewport大小\n      const overview = this.$refs.canvas_overview\n      const realViewport = this.$refs.realViewport\n      const scale = overview.clientWidth/this.maincanvas.clientWidth\n      this.$nextTick(()=>{\n        const viewportWidth = realViewport.clientWidth*scale\n        const viewportHeight = realViewport.clientHeight*scale\n        this.$refs.viewport.style.width = `${Math.floor(Math.min(viewportWidth,overview.clientWidth))}px`\n        this.$refs.viewport.style.height = `${Math.floor(Math.min(viewportHeight,overview.clientHeight)-1)}px`\n        const viewportTop = this.$refs.canvas_overview.offsetTop + this.$refs.realViewport.scrollTop*scale\n        const viewportLeft = this.$refs.canvas_overview.offsetLeft + this.$refs.realViewport.scrollLeft*scale\n        this.$refs.viewport.style.top = `${viewportTop}px`\n        this.$refs.viewport.style.left = `${viewportLeft}px`\n      })\n    },\n    pushGifImgList(){\n      const imageData= this.ctx.getImageData(0, 0, this.width, this.height)\n      this.gifImageDataList.splice(this.gifImageDataIndex,0,imageData)\n      this.gifImageDataIndex++\n      const that = this\n      this.$nextTick(()=>{\n        for(var i = that.gifImageDataList.length-1 ; i > that.gifImageDataIndex ; i--){\n          const canvas = that.$refs.gifCanvas[i]\n          const canvasBefore = that.$refs.gifCanvas[i-1]\n          const ctx = canvas.getContext(\"2d\")\n          ctx.clearRect(0,0,100*that.cols/that.rows,100)\n          ctx.drawImage(canvasBefore,0,0)\n        }\n        const canvas = that.$refs.gifCanvas[that.gifImageDataIndex]\n        const ctx = canvas.getContext(\"2d\")\n        ctx.clearRect(0,0,100*that.cols/that.rows,100)\n        ctx.drawImage(\n          that.maincanvas,\n          0,0,that.width,that.height,\n          0,0,100*that.cols/that.rows,100\n        )\n      })\n    },\n    deleteGifImgList(){\n      for(var i = this.gifImageDataIndex ; i < this.gifImageDataList.length-1 ; i++){\n        const canvas = this.$refs.gifCanvas[i]\n        const canvasNext = this.$refs.gifCanvas[i+1]\n        const ctx = canvas.getContext(\"2d\")\n        ctx.clearRect(0,0,100*this.cols/this.rows,100)\n        ctx.drawImage(canvasNext,0,0)\n      }\n      this.gifImageDataList.splice(this.gifImageDataIndex,1)\n      if(this.gifImageDataIndex >= this.gifImageDataList.length){\n        this.gifImageDataIndex = this.gifImageDataList.length-1\n      }else if(this.gifImageDataList.length < 1){\n        this.gifImageDataIndex = -1\n      }\n    },\n    startAnimate(){\n      if(this.animateId == 0){\n        if(this.gifImageDataList.length > 0){\n          this.animateStartTime = new Date().getTime()\n          this.animateId = requestAnimationFrame(this.updateMainCanvasAnimate)\n        }\n      }\n    },\n    stopAnimate(){\n      cancelAnimationFrame(this.animateId)\n      this.animateId = 0\n    },\n    updateMainCanvasAnimate(){\n      this.ctx.clearRect(0,0,this.width,this.height)\n      const data = this.gifImageDataList[this.gifImageDataIndex]\n      this.ctx.putImageData(data,0,0)\n      const nowTime = new Date().getTime()\n      const deltaTime = nowTime - this.animateStartTime\n      if(deltaTime > this.animateSpeed){\n        this.animateStartTime = nowTime\n        this.gifImageDataIndex = (this.gifImageDataIndex+1)%(this.gifImageDataList.length)\n      }\n      \n      this.animateId = requestAnimationFrame(this.updateMainCanvasAnimate)\n    },\n    putGifImage2MainCanvas(index){\n      this.stopAnimate()\n      this.gifImageDataIndex = index\n      const data = this.gifImageDataList[this.gifImageDataIndex]\n      this.ctx.putImageData(data,0,0)\n      this.addHistory()\n    },\n    updateGifImage(index){\n      const imageData= this.ctx.getImageData(0, 0, this.width, this.height)\n      this.gifImageDataList[index] = imageData\n      const that = this\n      this.$nextTick(()=>{\n        const canvas = that.$refs.gifCanvas[index]\n        const ctx = canvas.getContext(\"2d\")\n        ctx.clearRect(0,0,100*this.cols/this.rows,100)\n        ctx.drawImage(\n          that.maincanvas,\n          0,0,this.width,this.height,\n          0,0,100*this.cols/this.rows,100\n        )\n      })\n    },\n    changeSpeed(num){\n      this.animateFpsIndex = ((this.animateFpsIndex+num)<0 ? 5 : this.animateFpsIndex+num)%6\n      this.animateSpeed = 1000/this.animateFps[this.animateFpsIndex]\n    },\n    async saveGifNPngToFolder(imageDataArray) {\n        if(imageDataArray.length < 1){\n          this.$toast.show('没有可以导出的帧','error')\n          return\n        }\n        //利用 Canvas 元素将 ImageData 转换为图像的 Blob 对象。\n        const imageDataToBlob = (imageData) => {\n            return new Promise((resolve) => {\n                const canvas = document.createElement('canvas');\n                canvas.width = imageData.width;\n                canvas.height = imageData.height;\n\n                const ctx = canvas.getContext('2d');\n                ctx.putImageData(imageData, 0, 0);\n\n                canvas.toBlob((blob) => {\n                    resolve(blob);\n                });\n            });\n        }\n        try {\n            // 请求选择文件夹的权限\n            const dirHandle = await window.showDirectoryPicker();\n\n            // 遍历图片并保存到文件夹\n            for (let i = 0; i < imageDataArray.length; i++) {\n                const imageData = imageDataArray[i];\n                const blob = await imageDataToBlob(imageData);\n\n                // 创建文件名（可根据需要调整）\n                const fileName = `image_${i + 1}.png`;\n\n                // 在指定文件夹中创建文件\n                const fileHandle = await dirHandle.getFileHandle(fileName, { create: true });\n\n                // 写入 Blob 到文件\n                const writable = await fileHandle.createWritable();\n                await writable.write(blob);\n                await writable.close();\n            }\n            \n            console.log(\"图片已保存到文件夹中\");\n        } catch (err) {\n            console.error(\"保存图片时出错：\", err);\n        }\n    },\n    openFileInput(){\n      document.getElementById('fileInput').click()\n    },\n    importImg(){\n      const file = event.target.files[0];\n      const that = this\n      if (file && file.type.startsWith('image/')) {\n          const reader = new FileReader();\n\n          // 当文件读取完成时\n          reader.onload = function(e) {\n              const img = new Image();\n              img.src = e.target.result;\n\n              // 在图像加载完成后绘制到canvas上\n              img.onload = function() {\n                  that.selectedImgData = null\n                  that.selectedRect = {x:0,y:0,width:0,height:0}\n                  that.selectedBgData = that.ctx.getImageData(0,0,that.width,that.height)\n\n                  that.offscreenCanvas = document.createElement('canvas');\n                  const height = Math.floor(that.height/that.gridSize)*that.gridSize\n                  const width = Math.floor(that.height/img.height*img.width/that.gridSize)*that.gridSize\n                  that.offscreenCanvas.width = width\n                  that.offscreenCanvas.height = height\n                  \n                  const ctx = that.offscreenCanvas.getContext('2d');\n                  ctx.drawImage(img, 0, 0,img.width,img.height,0,0,width,height);\n                  that.selectedImgData = ctx.getImageData(0,0,width,height)\n                  // that.ctx.drawImage(that.offscreenCanvas,0,0)\n                  if(that.selectRectAnimateId == 0){\n                    that.selectRectAnimateId = requestAnimationFrame(that.dashedRectAnimate)\n                  }\n                  that.selectedRect={x:0,y:0,width,height}\n                  that.tool = 7\n                  // that.addHistory()\n              }\n          }\n\n          // 读取文件为Data URL\n          reader.readAsDataURL(file);\n      } else {\n          alert('请选择一个有效的图像文件。');\n      }\n    },\n    imgToPixel(){\n\n      if(this.offscreenCanvas){\n        const width = this.offscreenCanvas.width;\n        const height = this.offscreenCanvas.height; \n        const ctx = this.offscreenCanvas.getContext(\"2d\")\n        const imageData = ctx.getImageData(0, 0, width, height)\n\n        //解析像素数据，gpt生成代码\n        const pixels = imageData.data;\n        let r = 0;\n        let g = 0;\n        let b = 0;\n        let a = 0;\n        let count = 0\n        for (let y = 0; y < height; y+=this.gridSize) {\n          for (let x = 0; x < width; x+=this.gridSize) {\n            for(let i = 0;i < this.gridSize;i++){\n              for(let j = 0;j < this.gridSize;j++){\n                const index = ((y+i) * width + x+j) * 4;\n                r += pixels[index];\n                g += pixels[index + 1];\n                b += pixels[index + 2];\n                a += pixels[index + 3];\n                count++\n              }\n            }\n            r = Math.floor(r/count)\n            g = Math.floor(g/count)\n            b = Math.floor(b/count)\n            a = Math.floor(a/count)\n            ctx.clearRect(x,y,this.gridSize,this.gridSize)\n            ctx.fillStyle = `rgba(${r},${g},${b},${a})`\n            ctx.fillRect(x,y,this.gridSize,this.gridSize)\n            const y1 = Math.floor(y/this.gridSize)\n            const x1 = Math.floor(x/this.gridSize)\n            if(!this.imgPointList[y1])\n              this.imgPointList[y1] = []\n            this.imgPointList[y1][x1]=[r,g,b,a]\n            r = 0;\n            g = 0;\n            b = 0;\n            a = 0;\n            count = 0\n          } \n        }\n      }\n    },\n    adjustImg(){\n      if(this.offscreenCanvas){\n        const ctx = this.offscreenCanvas.getContext('2d')\n        const result = this.processColors()\n        for(var y=0;y<result.length;y++){\n          for(var x=0;x<result[y].length;x++){\n            // console.log(result[y][x])\n            const [r,g,b,a] = result[y][x]\n            ctx.fillStyle = `rgba(${r},${g},${b},${a})`\n            ctx.fillRect(x*this.gridSize,y*this.gridSize,this.gridSize,this.gridSize)\n          }\n        }\n      }\n      \n    },\n    processColors(colorArray = this.imgPointList, threshold = this.threshold){\n      const colorList = []\n      const colorDistance = (rgba1,rgba2)=>{\n        const [r1, g1, b1, a1] = rgba1;\n        const [r2, g2, b2, a2] = rgba2;\n        return Math.sqrt(\n          Math.pow(r1 - r2, 2) +\n          Math.pow(g1 - g2, 2) +\n          Math.pow(b1 - b2, 2) +\n          Math.pow((a1 * 255) - (a2 * 255), 2)\n        );\n      }\n      const averageColor = (rgba1, rgba2)=>{\n        const [r1, g1, b1, a1] = rgba1;\n        const [r2, g2, b2, a2] = rgba2;\n        return [\n          Math.round((r1 + r2) / 2),\n          Math.round((g1 + g2) / 2),\n          Math.round((b1 + b2) / 2),\n          Math.round((a1 + a2) / 2)\n        ];\n      }\n      console.log(colorArray)\n      const rows = colorArray.length;\n      const cols = colorArray[0].length;\n\n      // Create a new array to store the processed colors\n      const resultArray = JSON.parse(JSON.stringify(colorArray));\n\n      for (let i = 0; i < rows; i++) {\n        for (let j = 0; j < cols; j++) {\n          const currColor = colorArray[i][j]\n          let findFlag = false\n          for(let x=0; x<colorList.length; x++){\n\n            const color = colorList[x]\n\n            if(colorDistance(color, currColor) < threshold){\n              const average = averageColor(color, currColor)\n              resultArray[i][j] = x\n              console.log(resultArray[i][j])\n              colorList[x] = average\n              console.log(`find:${findFlag}`)\n              findFlag = x\n              break\n            }\n          }\n          \n          console.log(findFlag)\n          if(findFlag == false){\n            resultArray[i][j] = colorList.length\n            colorList.push(currColor)\n          }\n        }\n      }\n      console.log(colorList)\n      console.log(resultArray)\n      for (let i = 0; i < rows; i++) {\n          for (let j = 0; j < cols; j++) {\n            resultArray[i][j] = colorList[resultArray[i][j]]\n          }\n      }\n\n      return resultArray;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.drawing-area {\n/*  border: 0.5px solid #d9d9d9;*/\n/*  width: 100%;*/\n  font-size: 0;\n  height: 100%;\n}\ncanvas {\n  position: relative;\n  z-index: 1;\n  touch-action: none;\n  border: 0.5px solid #d9d9d9;\n}\n.canvas-grid {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.tools-bar {\n  display: flex;\n  flex-wrap: wrap;\n  width: 84px;\n  height: fit-content;\n  \n}\n.tool-item{\n  width: 30px;\n  height: 30px;\n  display: flex;\n  padding: 5px;\n  margin: 1px;\n  border-radius: 5px;\n}\n\n.tool-item-fullscreen{\n  width: 100%;\n  height: 40px;\n  padding: 5px;\n  margin: 1px;\n  margin-top: 20px;\n  border-radius:5px;\n  position: relative;\n}\n\n.tool-item-fullscreen .color{\n  width: 30px;\n  height: 30px;\n  top:50%;\n  left: 50%;\n  position: absolute;\n  border: 2px solid var(--fontNormal);\n}\n.tool-item-fullscreen .color.front{\n  transform: translate(calc(-50% - 8px),calc(-50% - 8px));\n}\n\n.tool-item-fullscreen .color.back{\n  transform: translate(calc(-50% + 8px),calc(-50% + 8px));\n}\n\n\n\n\n.tool-item-svg {\n  width: 30px !important;\n  height: 30px !important;\n}\n\n.tool-item:hover , .tool-item.active{\n  background-color: var(--white-highlight);\n}\n.tool-item img{\n  width: 30px;\n  height: 30px;\n}\n\n.tool-setting-bar {\n  height: 30px;\n  border-bottom: var(--box-border);\n  display: flex;\n  justify-content: space-between;\n  font-size: 14px;\n  align-items: center;\n}\n.tool-setting-bar > div{\n  display: flex;\n  height: 100%\n}\n.work-area{\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  overflow: hidden;\n  height: calc(100vh - 91px);\n}\n\n.work-area > div{\n  padding: 0 5px;\n}\n\n.work-area .middle{\n  flex: 1;\n  position: relative;\n  display: flex;\n  justify-content: space-around;\n  overflow: auto;\n  border-left: var(--box-border);\n  user-select: none;\n  padding: 0;\n\n}\n\n.work-area .right{\n  border-left: var(--box-border);\n  width: 180px\n}\n\n.overview {\n  width: 180px;\n  height: 140px;\n  background-color: var(--canvas-bgc);\n  display: flex;\n  justify-content: center;\n  position: relative;\n  overflow: hidden;\n}\n\n\n\n.viewport{\n  position: absolute;\n  width: 20px;\n  height: 30px;\n  background-color: transparent;\n  border: 1px solid #425aef;\n  box-shadow: 0 0 0 5000px rgba(0, 0, 0, 0.3); /* 创建透明区域 */\n  z-index: 2;\n}\n\n.overview-tools{\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n\n.icon-item-box{\n  position: relative;\n}\n\n\n.icon-item {\n  padding:2px;\n  width:26px;\n  height: 26px;\n}\n\n.icon-item:hover {\n  background-color: var(--white-highlight);\n}\n\n.size-setting {\n  position: absolute;\n  background-color: var(--box-bgc);\n  border: var(--box-border);\n  right: 0;\n  top: 30px;\n  border-radius: 8px;\n  padding: 8px;\n  z-index: 999;\n  opacity: 0;\n  transform: translateY(15%);\n  transition: opacity 0.5s ease,transform 0.5s ease;\n  pointer-events: none;\n\n}\n\n.size-setting.show{\n  pointer-events: all;\n  opacity: 1;\n  transform: translateY(0)\n}\n\n.size-setting .size{\n  display: flex;\n  width: 140px;\n  align-items: center;\n}\n\n.size-setting .size > input {\n  width: 40px;\n}\n\n.tool-option {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  margin: 2px;\n}\n\n.tool-option .label{\n  font-size: 15px;\n  line-height: 15px;\n}\n\n.tool-option input[type='range']{\n  width: 90px;\n  height: 15px;\n}\n\n.drop-down-option{\n  width: 120px;\n  padding: 5px;\n  cursor: pointer;\n}\n\n.drop-down-option:hover{\n  background-color: var(--white-highlight)\n}\n\n.gridsytle{\n  background: linear-gradient(\n      -45deg,\n      #d9d9d9 25%,\n      transparent 25%,\n      transparent 75%,\n      #d9d9d9 75%,\n      #d9d9d9 100%\n    ),\n    linear-gradient(\n      -45deg,\n      #d9d9d9 25%,\n      transparent 25%,\n      transparent 75%,\n      #d9d9d9 75%,\n      #d9d9d9 100%\n    );\n  background-color: white;\n}\n\n.color-tools {\n  display: flex;\n  flex-wrap: wrap;\n  user-select: none;\n  position: relative;\n}\n\n\n.color-item {\n  width: 28px;\n  height: 28px;\n  margin: 1px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  position: relative;\n  box-shadow: inset 0px 0px 0px 1px var(--fontNormal)\n}\n\n.color-item-svg {\n  width: 20px !important;\n}\n\n.color-item.active {\n  box-shadow: inset 0px 0px 0px 2px rgb(255, 255, 255);\n}\n\n.color-item:hover {\n  box-shadow: inset 0px 0px 0px 2px var(--fontNormal);\n}\n\n.color-item.delete {\n  width:100%;\n  height: 50px;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  cursor: auto;\n}\n\n.color-item.delete.show{\n  opacity: 1;\n}\n\n.color-item.delete:hover , .color-item.draged:hover{\n  box-shadow:none;\n}\n\n.color-item.draged {\n  opacity: 0.5;\n  position: absolute;\n  z-index: 99;\n  pointer-events: none;\n  box-shadow: inset 0px 0px 0px 2px var(--fontNormal)\n}\n\n.colorInput-hidden {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n/*  display: none;*/\n\n}\n\n.gif-tools-box {\n  flex-shrink: 0;\n  overflow: hidden;\n  height: 0px;\n  border-top: var(--box-border);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: 0.3s ease;\n  opacity: 0;\n  padding: 0 20px;\n}\n\n.gif-tools-box.show {\n  opacity: 1;\n  height: 100px;\n}\n\n.gif-tools{\n  width: 100%;\n  display: flex;\n  align-items: center;\n  overflow: auto;\n  padding: 2px 0;\n}\n.gif-tools > canvas{\n  margin-right: 5px;\n  height: 60px;\n}\n\n</style>\n","import { render } from \"./pixelSvgEditor.vue?vue&type=template&id=ce31d27e&scoped=true\"\nimport script from \"./pixelSvgEditor.vue?vue&type=script&lang=js\"\nexport * from \"./pixelSvgEditor.vue?vue&type=script&lang=js\"\n\nimport \"./pixelSvgEditor.vue?vue&type=style&index=0&id=ce31d27e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ce31d27e\"]])\n\nexport default __exports__"],"names":["f","_typeof","exports","module","define","e","t","n","r","s","o","u","a","i","Error","code","l","call","length","require","EventEmitter","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","err","context","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","key","ret","listenerCount","evlistener","emitter","UA","browser","mode","platform","ua","navigator","userAgent","toLowerCase","match","document","documentMode","name","version","parseFloat","parseInt","GIF","extend","child","parent","hasProp","ctor","constructor","__super__","hasOwnProperty","indexOf","item","superClass","defaults","frameDefaults","options","base","value","running","frames","freeWorkers","activeWorkers","setOptions","workerScript","workers","repeat","background","quality","width","height","transparent","debug","dither","delay","copy","setOption","_canvas","results","addFrame","image","frame","ImageData","data","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","childNodes","getImageData","render","j","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","log","terminate","Math","min","forEach","_this","Worker","onmessage","event","frameFinished","index","finishRendering","k","len1","len2","len3","offset","page","ref1","ref2","pageSize","cursor","round","Uint8Array","set","Blob","task","getTask","postMessage","ctx","createElement","getContext","setFill","fillRect","drawImage","last","canTransfer","events","class","_createElementBlock","_hoisted_1","_createElementVNode","_normalizeClass","$data","selectShow","onClick","_cache","$options","openSelect","$props","dataList","currIndex","_createVNode","_component_svg_icon","size","_Fragment","_renderList","$event","changeIndex","_hoisted_2","props","required","mounted","unmounted","removeEventListener","this","closeSelect","methods","addEventListener","$refs","selectBox","contains","target","$emit","__exports__","style","_component_my_model","show","modal_show","newFileModalShow","modeless","modalKey","_hoisted_3","newFileForm","rows","_hoisted_4","cols","_hoisted_5","_normalizeStyle","concat","fontSize","border","marginRight","_hoisted_7","_hoisted_8","_hoisted_9","gridSize","_hoisted_10","_hoisted_11","outputSize","_hoisted_12","newFile","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_toDisplayString","penSize","max","_hoisted_17","gifToolsShow","toolsShow","undo","dropDown","_hoisted_18","dropDownBoxShow","sizeSettingShow","_hoisted_19","_hoisted_20","_hoisted_21","downloadShow","saveAsSvg","copySvgCode","saveAsPng","saveAsGif","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","tool","switchTool","className","clearAll","openFileInput","id","onChange","importImg","accept","_hoisted_26","backgroundColor","bkgColor","_ref","currentColor","addColor","onPointermove","handlePointerMove","onPointerup","handlePointerUp","onWheel","zoomWheel","_hoisted_27","coordinate","onPointerdown","handlePointerDown","canvasStyle","_hoisted_29","dragViewportMove","dragViewportUp","overviewStyle","overviewSize","dragViewportDown","_hoisted_31","zoomIn","zoomOut","scaleCount","onInput","resizeViewport","zoomFit","_component_au_select","changeMyColor","handleMove","_ctx","_hoisted_32","dragedColorIndex","myColors","color","handleStart","handleEnd","_hoisted_34","_hoisted_35","step","threshold","imgToPixel","adjustImg","_hoisted_36","gifImageDataIndex","startAnimate","stopAnimate","changeSpeed","animateFps","animateFpsIndex","pushGifImgList","deleteGifImgList","saveGifNPngToFolder","gifImageDataList","_hoisted_37","outline","putGifImage2MainCanvas","defaultColors","pix8Colors","colorIndex","isDrawing","pixels","endPoints","x","y","maincanvas","ovCtx","historys","shiftdown","dropDownBox","minScaleCount","viewport","disx","disy","selectedRect","offscreenCanvas","selectedImgData","selectedBgData","isDragingSelectRect","selectRectAnimateId","pressTimer","animateId","animateStartTime","animateSpeed","imgToPixelTools","imgPointList","components","auSelect","computed","backgroundSize","backgroundPosition","scale","init","window","handleKeyDown","handleKeyUp","realViewport","viewportScroll","closeDropDownBox","floor","setTimeout","el","pageX","offsetLeft","pageY","offsetTop","dragedEl","dragedColor","left","top","clearTimeout","selectColor","colorTem","colorDom","currentTarget","colorValue","includes","cancelAnimationFrame","showLastHistory","updateOverview","clearRect","keyname","_this2","keys","Object","_this3","PointerEvent","canvas","overview","canvas_overview","lineWidth","addHistory","getMinScale","clientWidth","clientHeight","getPoint","clientX","clientY","clearPixel","drawPixel","fillStyle","fillArea","beginPath","rect","closePath","isPointInPath","putImageData","offscreenCtx","requestAnimationFrame","dashedRectAnimate","strokeStyle","currPoint","drawLine","drawRect","drawPixelEllipse","select","overMove","start","end","abs","drawDashedRect","lineDashOffset","setLineDash","strokeRect","selectSave","point","dx","dy","sx","sy","e2","rightUp","leftDown","deltaX","deltaY","sideLength","xc","rx","drx","yc","ry","d1","ceil","drawEllipsePoints","d2","startPoint","targetColor","getColorAtPixel","fillColor","hexToArgb","colorsMatch","stack","_this$$refs$canvas","visited","Set","_stack$pop","pop","has","add","_this$ctx$getImageDat","hex","bigint","color1","color2","isRectEqual","rect1","rect2","getBoundingClientRect","history","imageData","updateGifImage","getPixelVector","pixel","_this4","pixelSize","b","x1","x2","x3","x4","point2Num","getpathContent","pixelData","_this5","pathLists","pointWithNextPoints","Map","pixelVectors","vector","nextPoints","get","findSameVector","delete","newValue","findPath","path","nextPoint","newkey","next","newstart","pathContent","colorWithPath","num2Point","num","pathList","p1","direction","p2","colorKey","_step","_iterator","_createForOfIteratorHelper","_loop","_step$value","_slicedToArray","colorPath","done","getSvgContent","svgContent","content","copyToClipboard","blob","url","URL","createObjectURL","link","href","download","click","revokeObjectURL","toDataURL","_this7","imageDataArray","gif","process","BASE_URL","$toast","_this8","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","clipboard","writeText","t0","stop","leftmax","topmax","parentElement","scrollLeft","scrollTop","preventDefault","Number","_this9","$nextTick","viewportWidth","viewportHeight","viewportTop","viewportLeft","that","gifCanvas","canvasBefore","canvasNext","Date","getTime","updateMainCanvasAnimate","nowTime","deltaTime","_this10","_this11","_callee2","imageDataToBlob","dirHandle","fileName","fileHandle","writable","_context2","abrupt","Promise","resolve","toBlob","showDirectoryPicker","sent","getFileHandle","create","createWritable","write","close","getElementById","file","files","startsWith","reader","FileReader","onload","img","Image","src","result","readAsDataURL","alert","count","y1","processColors","_result$y$x","colorArray","colorList","colorDistance","rgba1","rgba2","_rgba","r1","g1","b1","a1","_rgba2","r2","g2","b2","a2","sqrt","pow","averageColor","_rgba3","_rgba4","resultArray","JSON","parse","stringify","currColor","findFlag","average"],"sourceRoot":""}