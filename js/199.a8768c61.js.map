{"version":3,"file":"js/199.a8768c61.js","mappings":"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","sources":["webpack://augest/node_modules/browser-pack/_prelude.js","webpack://augest/node_modules/events/events.js","webpack://augest/src/browser.coffee","webpack://augest/src/gif.coffee","webpack://augest/./node_modules/core-js/internals/a-possible-prototype.js","webpack://augest/./node_modules/core-js/internals/array-buffer-basic-detection.js","webpack://augest/./node_modules/core-js/internals/array-buffer-view-core.js","webpack://augest/./node_modules/core-js/internals/array-from-constructor-and-list.js","webpack://augest/./node_modules/core-js/internals/array-to-reversed.js","webpack://augest/./node_modules/core-js/internals/array-with.js","webpack://augest/./node_modules/core-js/internals/classof.js","webpack://augest/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://augest/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://augest/./node_modules/core-js/internals/function-uncurry-this-accessor.js","webpack://augest/./node_modules/core-js/internals/is-big-int-array.js","webpack://augest/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://augest/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://augest/./node_modules/core-js/internals/to-big-int.js","webpack://augest/./node_modules/core-js/internals/to-string-tag-support.js","webpack://augest/./node_modules/core-js/internals/to-string.js","webpack://augest/./node_modules/core-js/internals/validate-arguments-length.js","webpack://augest/./node_modules/core-js/modules/es.typed-array.to-reversed.js","webpack://augest/./node_modules/core-js/modules/es.typed-array.to-sorted.js","webpack://augest/./node_modules/core-js/modules/es.typed-array.with.js","webpack://augest/./node_modules/core-js/modules/web.url-search-params.delete.js","webpack://augest/./node_modules/core-js/modules/web.url-search-params.has.js","webpack://augest/./node_modules/core-js/modules/web.url-search-params.size.js","webpack://augest/./src/components/Model/auDraged.vue","webpack://augest/./src/components/Model/auDraged.vue?105b","webpack://augest/./src/components/Model/auSelect.vue","webpack://augest/./src/components/Model/auSelect.vue?bd29","webpack://augest/./src/components/pixelSvgEditor.vue","webpack://augest/./src/components/pixelSvgEditor.vue?08ef"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","### CoffeeScript version of the browser detection from MooTools ###\n\nua = navigator.userAgent.toLowerCase()\nplatform = navigator.platform.toLowerCase()\nUA = ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/) or [null, 'unknown', 0]\nmode = UA[1] == 'ie' && document.documentMode\n\nbrowser =\n  name: if UA[1] is 'version' then UA[3] else UA[1]\n  version: mode or parseFloat(if UA[1] is 'opera' && UA[4] then UA[4] else UA[2])\n\n  platform:\n    name: if ua.match(/ip(?:ad|od|hone)/) then 'ios' else (ua.match(/(?:webos|android)/) or platform.match(/mac|win|linux/) or ['other'])[0]\n\nbrowser[browser.name] = true\nbrowser[browser.name + parseInt(browser.version, 10)] = true\nbrowser.platform[browser.platform.name] = true\n\nmodule.exports = browser\n","{EventEmitter} = require 'events'\nbrowser = require './browser.coffee'\n\nclass GIF extends EventEmitter\n\n  defaults =\n    workerScript: 'gif.worker.js'\n    workers: 2\n    repeat: 0 # repeat forever, -1 = repeat once\n    background: '#fff'\n    quality: 10 # pixel sample interval, lower is better\n    width: null # size derermined from first frame if possible\n    height: null\n    transparent: null\n    debug: false\n    dither: false # see GIFEncoder.js for dithering options\n\n  frameDefaults =\n    delay: 500 # ms\n    copy: false\n\n  constructor: (options) ->\n    @running = false\n\n    @options = {}\n    @frames = []\n\n    @freeWorkers = []\n    @activeWorkers = []\n\n    @setOptions options\n    for key, value of defaults\n      @options[key] ?= value\n\n  setOption: (key, value) ->\n    @options[key] = value\n    if @_canvas? and key in ['width', 'height']\n      @_canvas[key] = value\n\n  setOptions: (options) ->\n    @setOption key, value for own key, value of options\n\n  addFrame: (image, options={}) ->\n    frame = {}\n    frame.transparent = @options.transparent\n    for key of frameDefaults\n      frame[key] = options[key] or frameDefaults[key]\n\n    # use the images width and height for options unless already set\n    @setOption 'width', image.width unless @options.width?\n    @setOption 'height', image.height unless @options.height?\n\n    if ImageData? and image instanceof ImageData\n       frame.data = image.data\n    else if (CanvasRenderingContext2D? and image instanceof CanvasRenderingContext2D) or (WebGLRenderingContext? and image instanceof WebGLRenderingContext)\n      if options.copy\n        frame.data = @getContextData image\n      else\n        frame.context = image\n    else if image.childNodes?\n      if options.copy\n        frame.data = @getImageData image\n      else\n        frame.image = image\n    else\n      throw new Error 'Invalid image'\n\n    @frames.push frame\n\n  render: ->\n    throw new Error 'Already running' if @running\n\n    if not @options.width? or not @options.height?\n      throw new Error 'Width and height must be set prior to rendering'\n\n    @running = true\n    @nextFrame = 0\n    @finishedFrames = 0\n\n    @imageParts = (null for i in [0...@frames.length])\n    numWorkers = @spawnWorkers()\n    # we need to wait for the palette\n    if @options.globalPalette == true\n      @renderNextFrame()\n    else\n      @renderNextFrame() for i in [0...numWorkers]\n\n    @emit 'start'\n    @emit 'progress', 0\n\n  abort: ->\n    loop\n      worker = @activeWorkers.shift()\n      break unless worker?\n      @log 'killing active worker'\n      worker.terminate()\n    @running = false\n    @emit 'abort'\n\n  # private\n\n  spawnWorkers: ->\n    numWorkers = Math.min(@options.workers, @frames.length)\n    [@freeWorkers.length...numWorkers].forEach (i) =>\n      @log \"spawning worker #{ i }\"\n      worker = new Worker @options.workerScript\n      worker.onmessage = (event) =>\n        @activeWorkers.splice @activeWorkers.indexOf(worker), 1\n        @freeWorkers.push worker\n        @frameFinished event.data\n      @freeWorkers.push worker\n    return numWorkers\n\n  frameFinished: (frame) ->\n    @log \"frame #{ frame.index } finished - #{ @activeWorkers.length } active\"\n    @finishedFrames++\n    @emit 'progress', @finishedFrames / @frames.length\n    @imageParts[frame.index] = frame\n    # remember calculated palette, spawn the rest of the workers\n    if @options.globalPalette == true\n      @options.globalPalette = frame.globalPalette\n      @log 'global palette analyzed'\n      @renderNextFrame() for i in [1...@freeWorkers.length] if @frames.length > 2\n    if null in @imageParts\n      @renderNextFrame()\n    else\n      @finishRendering()\n\n  finishRendering: ->\n    len = 0\n    for frame in @imageParts\n      len += (frame.data.length - 1) * frame.pageSize + frame.cursor\n    len += frame.pageSize - frame.cursor\n    @log \"rendering finished - filesize #{ Math.round(len / 1000) }kb\"\n    data = new Uint8Array len\n    offset = 0\n    for frame in @imageParts\n      for page, i in frame.data\n        data.set page, offset\n        if i is frame.data.length - 1\n          offset += frame.cursor\n        else\n          offset += frame.pageSize\n\n    image = new Blob [data],\n      type: 'image/gif'\n\n    @emit 'finished', image, data\n\n  renderNextFrame: ->\n    throw new Error 'No free workers' if @freeWorkers.length is 0\n    return if @nextFrame >= @frames.length # no new frame to render\n\n    frame = @frames[@nextFrame++]\n    worker = @freeWorkers.shift()\n    task = @getTask frame\n\n    @log \"starting frame #{ task.index + 1 } of #{ @frames.length }\"\n    @activeWorkers.push worker\n    worker.postMessage task#, [task.data.buffer]\n\n  getContextData: (ctx) ->\n    return ctx.getImageData(0, 0, @options.width, @options.height).data\n\n  getImageData: (image) ->\n    if not @_canvas?\n      @_canvas = document.createElement 'canvas'\n      @_canvas.width = @options.width\n      @_canvas.height = @options.height\n\n    ctx = @_canvas.getContext '2d'\n    ctx.setFill = @options.background\n    ctx.fillRect 0, 0, @options.width, @options.height\n    ctx.drawImage image, 0, 0\n\n    return @getContextData ctx\n\n  getTask: (frame) ->\n    index = @frames.indexOf frame\n    task =\n      index: index\n      last: index is (@frames.length - 1)\n      delay: frame.delay\n      transparent: frame.transparent\n      width: @options.width\n      height: @options.height\n      quality: @options.quality\n      dither: @options.dither\n      globalPalette: @options.globalPalette\n      repeat: @options.repeat\n      canTransfer: (browser.name is 'chrome')\n\n    if frame.data?\n      task.data = frame.data\n    else if frame.context?\n      task.data = @getContextData frame.context\n    else if frame.image?\n      task.data = @getImageData frame.image\n    else\n      throw new Error 'Invalid frame'\n\n    return task\n\n  log: (args...) ->\n    return unless @options.debug\n    console.log args...\n\n\nmodule.exports = GIF\n","'use strict';\nvar isCallable = require('../internals/is-callable');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","'use strict';\n// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-basic-detection');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar classof = require('../internals/classof');\nvar tryToString = require('../internals/try-to-string');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar TypeError = global.TypeError;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar TYPED_ARRAY_CONSTRUCTOR = 'TypedArrayConstructor';\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQUIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar getTypedArrayConstructor = function (it) {\n  var proto = getPrototypeOf(it);\n  if (!isObject(proto)) return;\n  var state = getInternalState(proto);\n  return (state && hasOwn(state, TYPED_ARRAY_CONSTRUCTOR)) ? state[TYPED_ARRAY_CONSTRUCTOR] : getTypedArrayConstructor(proto);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;\n  throw TypeError(tryToString(C) + ' is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced, options) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) {\n      // old WebKit bug - some methods are non-configurable\n      try {\n        TypedArrayConstructor.prototype[KEY] = property;\n      } catch (error2) { /* empty */ }\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    defineBuiltIn(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property, options);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return defineBuiltIn(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      defineBuiltIn(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQUIRED = true;\n  defineBuiltInAccessor(TypedArrayPrototype, TO_STRING_TAG, {\n    configurable: true,\n    get: function () {\n      return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n    }\n  });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQUIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  getTypedArrayConstructor: getTypedArrayConstructor,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","'use strict';\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nmodule.exports = function (Constructor, list) {\n  var index = 0;\n  var length = lengthOfArrayLike(list);\n  var result = new Constructor(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n","'use strict';\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// https://tc39.es/proposal-change-array-by-copy/#sec-array.prototype.toReversed\n// https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.toReversed\nmodule.exports = function (O, C) {\n  var len = lengthOfArrayLike(O);\n  var A = new C(len);\n  var k = 0;\n  for (; k < len; k++) A[k] = O[len - k - 1];\n  return A;\n};\n","'use strict';\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar $RangeError = RangeError;\n\n// https://tc39.es/proposal-change-array-by-copy/#sec-array.prototype.with\n// https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.with\nmodule.exports = function (O, C, index, value) {\n  var len = lengthOfArrayLike(O);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var actualIndex = relativeIndex < 0 ? len + relativeIndex : relativeIndex;\n  if (actualIndex >= len || actualIndex < 0) throw $RangeError('Incorrect index');\n  var A = new C(len);\n  var k = 0;\n  for (; k < len; k++) A[k] = k === actualIndex ? value : O[k];\n  return A;\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n","'use strict';\nvar classof = require('../internals/classof');\n\nmodule.exports = function (it) {\n  var klass = classof(it);\n  return klass == 'BigInt64Array' || klass == 'BigUint64Array';\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","'use strict';\n/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\n\nvar $TypeError = TypeError;\n\n// `ToBigInt` abstract operation\n// https://tc39.es/ecma262/#sec-tobigint\nmodule.exports = function (argument) {\n  var prim = toPrimitive(argument, 'number');\n  if (typeof prim == 'number') throw $TypeError(\"Can't convert number to bigint\");\n  // eslint-disable-next-line es/no-bigint -- safe\n  return BigInt(prim);\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","'use strict';\nvar $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw $TypeError('Not enough arguments');\n  return passed;\n};\n","'use strict';\nvar arrayToReversed = require('../internals/array-to-reversed');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;\n\n// `%TypedArray%.prototype.toReversed` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.toreversed\nexportTypedArrayMethod('toReversed', function toReversed() {\n  return arrayToReversed(aTypedArray(this), getTypedArrayConstructor(this));\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar arrayFromConstructorAndList = require('../internals/array-from-constructor-and-list');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar sort = uncurryThis(ArrayBufferViewCore.TypedArrayPrototype.sort);\n\n// `%TypedArray%.prototype.toSorted` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tosorted\nexportTypedArrayMethod('toSorted', function toSorted(compareFn) {\n  if (compareFn !== undefined) aCallable(compareFn);\n  var O = aTypedArray(this);\n  var A = arrayFromConstructorAndList(getTypedArrayConstructor(O), O);\n  return sort(A, compareFn);\n});\n","'use strict';\nvar arrayWith = require('../internals/array-with');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar isBigIntArray = require('../internals/is-big-int-array');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toBigInt = require('../internals/to-big-int');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar PROPER_ORDER = !!function () {\n  try {\n    // eslint-disable-next-line no-throw-literal, es/no-typed-arrays, es/no-array-prototype-with -- required for testing\n    new Int8Array(1)['with'](2, { valueOf: function () { throw 8; } });\n  } catch (error) {\n    // some early implementations, like WebKit, does not follow the final semantic\n    // https://github.com/tc39/proposal-change-array-by-copy/pull/86\n    return error === 8;\n  }\n}();\n\n// `%TypedArray%.prototype.with` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.with\nexportTypedArrayMethod('with', { 'with': function (index, value) {\n  var O = aTypedArray(this);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var actualValue = isBigIntArray(O) ? toBigInt(value) : +value;\n  return arrayWith(O, getTypedArrayConstructor(O), relativeIndex, actualValue);\n} }['with'], !PROPER_ORDER);\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar append = uncurryThis(URLSearchParamsPrototype.append);\nvar $delete = uncurryThis(URLSearchParamsPrototype['delete']);\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\nvar push = uncurryThis([].push);\nvar params = new $URLSearchParams('a=1&a=2&b=3');\n\nparams['delete']('a', 1);\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nparams['delete']('b', undefined);\n\nif (params + '' !== 'a=2') {\n  defineBuiltIn(URLSearchParamsPrototype, 'delete', function (name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $delete(this, name);\n    var entries = [];\n    forEach(this, function (v, k) { // also validates `this`\n      push(entries, { key: k, value: v });\n    });\n    validateArgumentsLength(length, 1);\n    var key = toString(name);\n    var value = toString($value);\n    var index = 0;\n    var dindex = 0;\n    var found = false;\n    var entriesLength = entries.length;\n    var entry;\n    while (index < entriesLength) {\n      entry = entries[index++];\n      if (found || entry.key === key) {\n        found = true;\n        $delete(this, entry.key);\n      } else dindex++;\n    }\n    while (dindex < entriesLength) {\n      entry = entries[dindex++];\n      if (!(entry.key === key && entry.value === value)) append(this, entry.key, entry.value);\n    }\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar getAll = uncurryThis(URLSearchParamsPrototype.getAll);\nvar $has = uncurryThis(URLSearchParamsPrototype.has);\nvar params = new $URLSearchParams('a=1');\n\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nif (params.has('a', 2) || !params.has('a', undefined)) {\n  defineBuiltIn(URLSearchParamsPrototype, 'has', function has(name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $has(this, name);\n    var values = getAll(this, name); // also validates `this`\n    validateArgumentsLength(length, 1);\n    var value = toString($value);\n    var index = 0;\n    while (index < values.length) {\n      if (values[index++] === value) return true;\n    } return false;\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\n\nvar URLSearchParamsPrototype = URLSearchParams.prototype;\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\n\n// `URLSearchParams.prototype.size` getter\n// https://github.com/whatwg/url/pull/734\nif (DESCRIPTORS && !('size' in URLSearchParamsPrototype)) {\n  defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {\n    get: function size() {\n      var count = 0;\n      forEach(this, function () { count++; });\n      return count;\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n","<template>\n  <div :class=\"{'au-draged':true,'dragging':dragedel,'row':style == 1||style == 3}\" ref=\"modal\">     \n    <div :class=\"{'draged-bar':true,'draged':dragable}\" @pointerdown=\"dragdown($event)\"  @pointerup=\"dragup\">\n      <div class=\"draged-bar-handle\"></div>\n    </div>\n    <div class=\"modal-slot\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default({\n  props:{\n    modalKey: {\n      type: String,\n      required: true\n    },\n    dragable: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    modeless: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n  },\n  data(){\n    return{\n      draged: false,\n      dragedel: null,\n      disx: 0,\n      disy: 0,\n      left: 0,\n      top:0,\n      style:0 //1、2、3、4代表上右下左\n    }\n  },\n\n  methods:{\n    dragdown(e) {\n      if(this.dragable){\n        this.dragedel = this.$refs.modal\n        \n        this.disx = e.pageX - this.dragedel.offsetLeft\n        this.disy = e.pageY - this.dragedel.offsetTop\n        document.addEventListener('pointermove', this.dragmove)\n\n      }\n    },\n    dragup() {\n      if(this.top < 50){\n        this.dragedel.style.top = '0px';\n        this.style = 1\n      }\n\n      if(this.left < 50){\n        this.dragedel.style.left = '0px';\n        this.style = 4\n      }\n\n      const maxLeft = this.dragedel.parentElement.clientWidth - this.dragedel.clientWidth\n      const maxTop = this.dragedel.parentElement.clientHeight - this.dragedel.clientHeight\n\n      if(this.top > maxTop - 50){\n        this.dragedel.style.top = 'unset';\n        this.dragedel.style.bottom = '0';\n        this.style = 3\n      }\n\n      if(this.left > maxLeft - 50){\n        this.dragedel.style.left = 'unset';\n        this.dragedel.style.right = '0';\n        this.style = 2\n      }\n\n      this.dragedel = null\n      document.removeEventListener('pointermove',this.dragmove)\n    },\n    dragmove(e) {\n      // var scrolltop = document.documentElement.scrollTop||document.body.scrollTop;\n      if(this.dragedel){\n        this.dragedel.style.bottom = 'unset';\n        this.dragedel.style.right = 'unset'\n        this.left = e.pageX - this.disx\n        this.top = e.pageY - this.disy\n        this.dragedel.style.left = this.left + 'px';\n        this.dragedel.style.top = this.top + 'px';\n      }      \n    }\n  }\n})\n\n\n</script>\n\n<style scoped>\n\n.modal-slot{\n  overflow: hidden;\n}\n\n\n.draged-bar {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 1.2rem;\n}\n\n.draged-bar.draged:active {\n    background-color: var(--modal-bgc-bar);\n}\n\n.au-draged {\n  background: var(--modal-bgc);\n  position: absolute;\n  box-shadow: 0px 0px 0px 0 #0002;\n  transition: box-shadow 0.1s ease-in-out;\n  border-radius: 0.5rem;\n  overflow: hidden;\n  touch-action: none;\n  z-index:10;\n  display: flex;\n  flex-direction: column;\n}\n\n.au-draged.row{\n  flex-direction: row-reverse\n}\n\n.au-draged.row .draged-bar {\n  width: 1.2rem;\n  height: auto;\n}\n\n\n\n.au-draged.dragging {\n  box-shadow: 2px 2px 5px 2px #0002;\n}\n\n.draged-bar-handle {\n  height: 4px;\n  border-radius: 2px;\n  background-color: #0004;\n  width: 60%;\n}\n\n.au-draged.row .draged-bar .draged-bar-handle{\n  height: 60%;\n  width: 4px;\n}\n\n\n\n\n</style>","import { render } from \"./auDraged.vue?vue&type=template&id=548b4f26&scoped=true\"\nimport script from \"./auDraged.vue?vue&type=script&lang=js\"\nexport * from \"./auDraged.vue?vue&type=script&lang=js\"\n\nimport \"./auDraged.vue?vue&type=style&index=0&id=548b4f26&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-548b4f26\"]])\n\nexport default __exports__","<template>\n  <div class=\"select-box\" ref=\"selectBox\">\n    <div :class=\"{'input-area':true,'active':selectShow}\" @click=\"openSelect\">\n      {{dataList[currIndex]}}\n      <svg-icon name=\"arrow-down\" size=\"16\" :class=\"{'icon':true,'show':selectShow}\" ></svg-icon>\n    </div>\n    <div :class=\"{'select-item-group':true,'show':selectShow}\" ref=\"options\">\n      <div :class=\"{'options':true,'show':selectShow}\">\n        <div :class=\"{'select-item':true,'active':index == currIndex}\" v-for=\"(item,index) in dataList\" @click=\"changeIndex(index)\">\n          {{ item }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    dataList:{\n      type: Array,\n      required: true\n    },\n  },\n  data(){\n    return{\n      selectShow:false,\n      currIndex:0\n    }\n  },\n  mounted(){\n\n  },\n  unmounted(){\n    document.removeEventListener('click',this.closeSelect)\n  },\n  methods: {\n    openSelect(){\n      if(!this.selectShow){\n        this.selectShow = true\n        document.addEventListener('click',this.closeSelect)\n      }else{\n        this.selectShow = false\n        document.removeEventListener('click',this.closeSelect)\n      }\n    },\n    closeSelect(){\n      if(!this.$refs.selectBox.contains(event.target)){\n        this.selectShow = false\n        document.removeEventListener('click',this.closeSelect)\n      }\n    },\n    changeIndex(index){\n      this.currIndex = index\n      this.selectShow = false\n      document.removeEventListener('click',this.closeSelect)\n      this.$emit('change', this.currIndex);\n    }\n  }  \n};\n</script>\n\n<style scoped>\n  .select-box {\n    width: 100%;\n    position: relative;\n  }\n  .input-area {\n    border: var(--box-border);\n    padding: 0 5px;\n    font-size: 15px;\n    border-radius: 5px;\n    height: 28px;\n    line-height: 28px;\n  }\n  .input-area.active{\n    outline: 2px solid var(--main-color);\n  }\n\n  .icon {\n    position: absolute;\n    right: 6px;\n    top: 50%;\n    transform: translateY(-50%) ;\n    transition: transform 0.3s ease;\n  }\n\n  .icon.show{\n    transform: translateY(-50%) rotate(180deg);\n  }\n  .select-item-group{\n    padding: 4px 0;\n    top: 36px;\n    position: absolute;\n    z-index: 999;\n    width: 100%;\n    background-color: var(--box-bgc);\n    font-size: 15px;\n    border-radius: 5px;\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  .select-item-group.show{\n    pointer-events: auto;\n    box-shadow: var(--box-shadow);\n    opacity: 1;\n  }\n  .options {\n    overflow: auto;\n    max-height: 0px;\n    transition: max-height 0.1s ease;\n  }\n  .options.show {\n    max-height: 140px;\n  }\n\n  .select-item{\n    padding: 4px 5px;\n  }\n\n  .select-item.active{\n    color: var(--main-color);\n  }\n\n  @media(any-hover:hover){\n    .select-item:hover{\n      background-color: var(--white-highlight);\n    }\n    .input-area:hover{\n      outline: 2px solid var(--main-color);\n    }\n  }\n</style>","import { render } from \"./auSelect.vue?vue&type=template&id=2ee630a8&scoped=true\"\nimport script from \"./auSelect.vue?vue&type=script&lang=js\"\nexport * from \"./auSelect.vue?vue&type=script&lang=js\"\n\nimport \"./auSelect.vue?vue&type=style&index=0&id=2ee630a8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ee630a8\"]])\n\nexport default __exports__","<template>\n  <my-model :show=\"modal_show.newFileModalShow\" :modeless=\"false\" modalKey=\"newFileModalShow\">\n    <div class=\"center-h\">\n      <label>画布大小：</label>\n      <div class=\"size\">\n        <input type=\"text\" v-model=\"newFileForm.rows\"  >\n        <span>x</span>\n        <input type=\"text\" v-model=\"newFileForm.cols\"  >\n      </div>\n    </div>\n    <div class=\"center-h\" style=\"align-items: flex-end\">\n      <label>画布预设：</label>\n      <div v-for=\"size in [64,32,16,13,11]\" @click=\"newFileForm.rows = size,newFileForm.cols = size\" :style=\"{width: `${size}px`,height: `${size}px`,fontSize: `${size*0.5}px`,border: `1px solid var(--fontNormal)`,marginRight: `4px`,cursor: `pointer`}\">\n        {{size}}<sup>2</sup>\n      </div>\n    </div>\n    <div class=\"center-h\"> \n      <label>网格大小:</label>\n      <input type=\"text\" v-model=\"newFileForm.gridSize\"  >\n    </div>\n    <div class=\"center-h\">\n      <label>导出网格大小:</label>\n      <input type=\"text\" v-model=\"newFileForm.outputSize\"  >\n    </div>\n    <div class=\"center-h left\">\n      <button class=\"fill\" @click=\"newFile()\">新  建</button>\n    </div>\n  </my-model>\n  <div class=\"tool-setting-bar\">\n    <div class=\"left\">\n      <div class=\"tool-option\" @click=\"modal_show.newFileModalShow = true\">\n        <svg-icon name=\"file-create01\"></svg-icon>\n      </div>\n      <div class=\"tool-option\">\n        <div class=\"label\" style=\"width: 91px\">画笔大小({{penSize}}):</div>\n        <input type=\"range\" style=\"color: currentColor\" v-model=\"penSize\" min=\"1\" max=\"20\">\n      </div>\n    </div>\n    <div class=\"right\">\n      <div class=\"icon-item\" @click=\"gifToolsShow=!gifToolsShow\">\n        <svg-icon name=\"file-gif\"></svg-icon>\n      </div>\n      <div class=\"icon-item\" @click=\"toolsShow=!toolsShow\">\n        <svg-icon name=\"phone\"></svg-icon>\n      </div>\n      <div class=\"icon-item\" @click=\"undo\">\n        <svg-icon name=\"undo01\"></svg-icon>\n      </div>\n      <div class=\"icon-item-box\"  @click=\"dropDown($event,'sizeSettingShow')\">\n        <div class=\"icon-item\">\n          <svg-icon name=\"canvas01\"></svg-icon>\n        </div>\n        <div :class=\"{'size-setting':true,'show':dropDownBoxShow.sizeSettingShow} \" >\n          画布大小：\n          <div class=\"size\">\n            <input type=\"number\" v-model=\"rows\"  >\n            <span>x</span>\n            <input type=\"number\" v-model=\"cols\"  >\n          </div>\n        </div>\n      </div>\n\n      <div class=\"icon-item-box\" @click=\"dropDown($event,'downloadShow')\">\n        <div class=\"icon-item\" >\n          <svg-icon name=\"download01\"></svg-icon>\n        </div>\n        <div :class=\"{'size-setting':true,'show':dropDownBoxShow.downloadShow} \" >\n          <div class=\"drop-down-option\" @click=\"saveAsSvg\">保存成 svg</div>\n          <div class=\"drop-down-option\" @click=\"copySvgCode\">复制 svg 代码</div>\n          <div class=\"drop-down-option\" @click=\"saveAsPng\">保存成 png</div>\n          <div class=\"drop-down-option\" @click=\"saveAsGif\">保存成 gif</div>\n        </div>\n      </div>\n        \n    </div>\n  </div>\n  <div class=\"work-area\">\n    <div style=\"display: flex;flex-grow: 1;overflow: hidden;\">\n      <auDraged>\n\n        <div class=\"tools-bar\">\n          <div :class=\"{'tool-item':true,'active':tool == 1}\" @click=\"switchTool(1)\">\n            <svg-icon name=\"pencil\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 2}\" @click=\"switchTool(2)\">\n            <svg-icon name=\"eraser\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 3}\" @click=\"switchTool(3)\">\n            <svg-icon name=\"line\" className=\"tool-item-svg\"></svg-icon> \n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 4}\" @click=\"switchTool(4)\">\n            <svg-icon name=\"rect\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 5}\" @click=\"switchTool(5)\">\n            <svg-icon name=\"circle\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 6}\" @click=\"switchTool(6)\">\n            <svg-icon name=\"paintBuckets\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 7}\" @click=\"switchTool(7)\">\n            <svg-icon name=\"select\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div class=\"tool-item\" @click=\"clearAll\">\n            <svg-icon name=\"delete02\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div class=\"tool-item\" @click=\"openFileInput\">\n            <svg-icon name=\"picture-add\" className=\"tool-item-svg\"></svg-icon>\n            <!-- 文件上传按钮 -->\n            <input v-show=\"false\" type=\"file\" id=\"fileInput\" @change=\"importImg\" accept=\"image/*\">\n          </div>\n          <div class=\"tool-item-fullscreen\">\n            <div class=\"color back\" :style=\"{backgroundColor:bkgColor}\" @click=\"[currentColor,bkgColor] = [bkgColor,currentColor]\"></div>\n            <div class=\"color front\" :style=\"{backgroundColor:currentColor}\">\n              <input type=\"color\" class=\"colorInput-hidden\" ref=\"addColor1\" @change=\"addColor($event)\">\n            </div>\n          </div>\n        </div>\n      </auDraged>\n      <div class=\"middle\" \n                          @pointermove=\"handlePointerMove\"\n                          @pointerup=\"handlePointerUp\" ref=\"realViewport\" @wheel=\"zoomWheel\">\n        <div style=\"position: absolute;left: 1rem\">{{coordinate}}</div>\n          <div class=\"drawing-area\" @pointerdown=\"handlePointerDown\">\n            <canvas :width=\"width\" :height=\"height\"  class=\"gridstyle\" :style=\"canvasStyle\" ref=\"canvas\">\n              \n            </canvas>\n          </div>\n        \n      </div>\n      <div class=\"right\" v-show=\"toolsShow\">\n        <div class=\"overview\" @pointermove=\"dragViewportMove\" @pointerup=\"dragViewportUp\" @wheel=\"zoomWheel\">\n          <canvas class=\"gridstyle\" ref=\"canvas_overview\" :style=\"overviewStyle\" :width=\"overviewSize.width\" :height=\"overviewSize.height\"></canvas>\n          <div class=\"viewport\" ref=\"viewport\" @pointerdown=\"dragViewportDown\"></div>\n        </div>\n        <div class=\"overview-tools\">\n          <div class=\"icon-item\" @click=\"zoomIn\">\n            <svg-icon name=\"zoomIn11-1\"></svg-icon>\n          </div>\n          <div class=\"icon-item\" @click=\"zoomOut\">\n            <svg-icon name=\"zoomOut11-1\"></svg-icon>\n          </div>\n          <input type=\"range\" style=\"width: 80px; color: currentColor;\" min=\"10\" max=\"100\" v-model=\"scaleCount\" @input=\"resizeViewport\">\n          <div class=\"icon-item\" @click=\"zoomFit\">\n            <svg-icon name=\"zoomFit11-1\"></svg-icon>\n          </div>\n        </div>\n        <au-select :dataList=\"['默认','Pixel-8']\" @change=\"changeMyColor\" style=\"margin-bottom: 5px;\"></au-select>\n        <div class=\"color-tools\" ref=\"colorTools\" @pointermove=\"handleMove($event,index)\">\n          <div class=\"color-item draged\" v-show=\"dragedColorIndex != null\" ref=\"dragedColor\"></div>\n          <div v-for=\"(color,index) in myColors\" class=\"color-item\" ref=\"colorItem\" :style=\"{backgroundColor:color}\" \n                @pointerdown=\"handleStart($event,index)\"\n                @pointerup=\"handleEnd($event,index)\"\n                ></div>\n          <div class=\"color-item\">+\n            <input type=\"color\" class=\"colorInput-hidden\" ref=\"addColor2\" @change=\"addColor($event)\">\n          </div>\n          <div :class=\"{'color-item delete':true,'show':dragedColorIndex!=null }\" @pointerup=\"handleEnd(event,-1)\">\n            <svg-icon name=\"delete02\" className=\"color-item-svg\"></svg-icon>\n          </div>\n        </div>\n        <div class=\"color-tools\">\n          融合阈值：<input type=\"number\" min=\"0\" max=\"100\" step=\"10\" v-model=\"threshold\" />\n          <button @click=\"imgToPixel\">像素转换</button>\n          <button @click=\"adjustImg\">像素融合</button>\n        </div>\n      </div>\n    </div>\n    <div :class=\"{'gif-tools-box':true,'show':gifToolsShow}\">\n      <div class=\"gif-tools\" style=\"justify-content: center\">\n        <svg-icon class=\"gif-tools-item\" name=\"replay02\" @click=\"gifImageDataIndex=0,startAnimate()\"></svg-icon>\n        <!-- <svg-icon name=\"play01\" @click=\"startAnimate\"></svg-icon> -->\n        <svg-icon class=\"gif-tools-item\" name=\"pause01\" @click=\"stopAnimate\"></svg-icon>\n        <!-- <svg-icon class=\"gif-tools-item\" name=\"play-slower01\" @click=\"changeSpeed(-1)\"></svg-icon>\n        <svg-icon class=\"gif-tools-item\" name=\"play-faster01\" @click=\"changeSpeed(1)\"></svg-icon> -->\n        <button class=\"gif-tools-item has-icon-button\" @click=\"changeSpeed(1)\">\n          <svg-icon style=\"margin-right: 0.5rem;\" size='16' name=\"film11-1\"></svg-icon>\n          {{`${animateFps[animateFpsIndex]}fps`}}\n        </button>\n        <svg-icon class=\"gif-tools-item\" @click=\"pushGifImgList()\" name=\"letter-plus01\"></svg-icon>\n        <svg-icon class=\"gif-tools-item\" @click=\"deleteGifImgList()\" name=\"letter-minus01\"></svg-icon>\n        <button class=\"gif-tools-item\" @click=\"saveGifNPngToFolder(gifImageDataList)\">导出</button>\n      </div>\n      <div class=\"gif-tools\" style=\"height:80px\">\n        \n        <canvas ref=\"gifCanvas\" :width=\"100*cols/rows\" height=\"100\" v-for=\"index in gifImageDataList.length\" :class=\"{'gifCanvas':true,'currentGifCanvas':index-1 == gifImageDataIndex}\" @click=\"putGifImage2MainCanvas(index-1)\"></canvas>\n\n        <div class=\"addcanvas\" @click=\"pushGifImgList()\" v-show=\"gifImageDataList.length==0\">+</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport GIF from 'gif.js'\nimport auSelect from \"./Model/auSelect.vue\"\nimport auDraged from \"./Model/auDraged.vue\"\n\nexport default {\n  data() {\n    return {\n      tool:1,\n      rows:11,\n      cols:11,\n      gridSize:100,\n      outputSize:30,\n      coordinate:'x:0,y:0',\n      currentColor:'#000001',\n      bkgColor:\"#fff\",\n      // colorToolsEdited:false,\n      myColors:['#000001','#ffffff','#F96635','#f9A822','#FAEC86','#93d3a2','#2bbaa5','#008080'],\n      defaultColors:['#000001','#ffffff','#F96635','#f9A822','#FAEC86','#93d3a2','#2bbaa5','#008080'],\n      pix8Colors:['#000001','#ffffff',\"#202952\",\"#762b52\",\"#398557\",'#a1573e','#605750','#c4c3c8','#fef1eb','#eb3452','#f1a73c','#fcee5a','#67e055','#57a8f7','#807498','#ee7dab','#f6cdb1'],\n      colorIndex:0,\n      dragedColorIndex:null,\n      isDrawing: false,\n      pixels: [],\n      endPoints:{x:0,y:0},\n      maincanvas:null,\n      ctx:null,\n      ovCtx:null,\n      historys:[],\n      log:\"\",\n      shiftdown:false,\n      dropDownBox:null,\n      dropDownBoxShow:{\n        sizeSettingShow:false,\n        downloadShow:false\n      },\n      penSize:1,\n      scaleCount:30,\n      minScaleCount:30,\n      viewport:null,\n      disx:0,\n      disy:0,\n      selectedRect:{x:0,y:0,width:0,height:0},\n      offscreenCanvas:null,\n      selectedImgData:null,\n      selectedBgData:null,\n      isDragingSelectRect:false,\n      selectRectAnimateId:0,\n      pressTimer:null,\n      toolsShow:true,\n      modal_show:{\n        newFileModalShow:false,\n      },\n      newFileForm:{\n        cols:13,\n        rows:13,\n        gridSize:100,\n        outputSize:30\n      },\n      gifToolsShow:false,\n      gifImageDataList:[],\n      animateId:0,\n      gifImageDataIndex:-1,\n      animateStartTime:null,\n      animateFps:[3,4,5,10,30,60],\n      animateFpsIndex:0,\n      animateSpeed:300,\n      imgToPixelTools:false,\n      threshold:0, //min0,max100 \n      // imgToPixelColorList\n      imgPointList:[[]]\n    };\n  },\n  components:{\n    auSelect,auDraged\n  },\n  computed: {\n    width() {\n      return this.cols*this.gridSize;\n    },\n    height() {\n      return this.rows*this.gridSize;\n    },\n    overviewSize() {\n      let width = 180\n      let height = width/this.cols*this.rows\n      if(height > 140){\n        height = 140\n        width = height/this.rows*this.cols\n      }\n      return {width,height}\n    },\n    overviewStyle(){\n      const size = this.overviewSize.width/this.cols\n      return {\n           // 背景大小必须小于盒子的大小 \n          backgroundSize: `${2*size}px ${2*size}px`,\n          // 第二种渐变的偏移必须为为背景大小的一半 \n          backgroundPosition: `0 0 , ${size}px ${size}px`\n      }\n    },\n    canvasStyle(){\n      const scale = this.scaleCount/100\n      const size = this.gridSize*scale\n      return {\n           // 背景大小必须小于盒子的大小 \n          width:`${this.width*scale}px`,\n          height:`${this.height*scale}px`,\n          backgroundSize: `${2*size}px ${2*size}px`,\n          // 第二种渐变的偏移必须为为背景大小的一半 \n          backgroundPosition: `0 0 , ${size}px ${size}px`\n      }\n    },\n  },\n  \n  mounted() {\n    this.init()\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n    this.$refs.realViewport.addEventListener('scroll', this.viewportScroll);\n\n  },\n  unmounted(){\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n    if(this.$refs.realViewport){\n      this.$refs.realViewport.removeEventListener('scroll', this.viewportScroll);\n    }\n    // document.removeEventListener('click', this.offColorToolsEdit)\n    document.removeEventListener('click',this.closeDropDownBox)\n  },\n  methods: {\n    changeMyColor(index){\n      if(index == 0){\n        this.myColors = this.defaultColors\n      }else if(index == 1){\n        this.myColors = this.pix8Colors\n      }\n    },\n    newFile(){\n      this.cols = Math.floor(this.newFileForm.cols)\n      this.gridSize = Math.floor(this.newFileForm.gridSize)\n      this.rows = Math.floor(this.newFileForm.rows)\n      this.outputSize = Math.floor(this.newFileForm.outputSize)\n      this.historys = []\n      this.clearAll()\n      if(this.modal_show.newFileModalShow){\n        this.modal_show.newFileModalShow = false\n      }\n    },\n    //颜色卡片长按事件\n    handleStart(event,index){\n        \n        this.pressTimer = setTimeout(() => {\n          // this.colorToolsEdited = true\n          this.dragedColorIndex = index\n          const el = event.target\n          this.disx = event.pageX - el.offsetLeft\n          this.disy = event.pageY - el.offsetTop\n          const dragedEl = this.$refs.dragedColor\n          dragedEl.style.backgroundColor = this.myColors[this.dragedColorIndex]\n          dragedEl.style.left = `${event.pageX - this.disx}px`\n          dragedEl.style.top = `${event.pageY - this.disy}px`\n          // document.addEventListener(\"click\",this.offColorToolsEdit)\n          clearTimeout(this.pressTimer)\n          this.pressTimer = null\n        }, 500);\n    },\n    handleMove(event,index){\n      if (this.pressTimer) {\n        clearTimeout(this.pressTimer);\n        this.pressTimer = null;\n      }\n      if(this.dragedColorIndex != null){\n        const dragedEl = this.$refs.dragedColor\n        dragedEl.style.backgroundColor = this.myColors[this.dragedColorIndex]\n        dragedEl.style.left = `${event.pageX - this.disx}px`\n        dragedEl.style.top = `${event.pageY - this.disy}px`\n      }\n    },\n    handleEnd(event,index){\n      // 如果定时器还在，说明是点击事件\n      if (this.pressTimer) {\n        clearTimeout(this.pressTimer);\n        this.pressTimer = null;\n        this.selectColor(index)\n      }\n      if(this.dragedColorIndex != null){\n        if(index == -1){\n          this.myColors.splice(this.dragedColorIndex,1)\n          this.dragedColorIndex = null\n        }else{\n          const colorTem = this.myColors[index]\n          this.myColors[index] = this.myColors[this.dragedColorIndex]\n          this.myColors[this.dragedColorIndex] = colorTem\n          this.dragedColorIndex = null\n        }\n      }\n    },\n    selectColor(index){\n      this.currentColor = this.myColors[index]\n    },\n    addColor(event){\n      const colorDom = event.currentTarget\n      const colorValue = colorDom.value\n      if(!this.myColors.includes(colorValue)){\n        this.myColors.push(colorValue)\n      }\n      this.currentColor = colorValue\n      \n    },\n    switchTool(index){\n      if(this.tool!= index){\n        if(this.tool == 7){\n          this.selectedImgData = null\n          this.selectedRect = {x:0,y:0,width:0,height:0}\n          cancelAnimationFrame(this.selectRectAnimateId)\n          this.selectRectAnimateId = 0\n          this.showLastHistory()\n        }\n        if(index == 7){\n          this.selectedBgData = this.ctx.getImageData(0,0,this.width,this.height)\n        }\n        this.tool = index\n      }\n    },\n    updateOverview(){\n      this.ovCtx.clearRect(0,0,this.overviewSize.width,this.overviewSize.height)\n      this.ovCtx.drawImage(\n        this.maincanvas,\n        0,0,this.width,this.height,\n        0,0,this.overviewSize.width,this.overviewSize.height\n      )\n    },\n    dropDown(event, keyname){\n      this.dropDownBox = event.target\n      const keys = Object.keys(this.dropDownBoxShow)\n      keys.forEach(key => {\n        this.dropDownBoxShow[key] = false\n      })\n      this.dropDownBoxShow[keyname] = true\n      document.addEventListener('click',this.closeDropDownBox)\n    },\n    closeDropDownBox(e){\n      if(!this.dropDownBox.contains(e.target)){\n        const keys = Object.keys(this.dropDownBoxShow)\n        keys.forEach(key => {\n          this.dropDownBoxShow[key] = false\n        })\n        document.removeEventListener('click',this.closeDropDownBox)\n      }\n    },\n    // switchColor(point){\n    //   const color = this.getColorAtPixel(point)\n    //   const currentColor = 'rgba('+color.r+','+color.g+','+color.b+','+color.a+')'\n    //   if(currentColor != 'rgba(0,0,0,0)'){\n    //     this.currentColor = currentColor\n    //   }\n    // },\n    handleKeyDown(event) {\n      if (event.key === 'Shift') {\n        this.shiftdown = true;\n      }\n    },\n    handleKeyUp(event) {\n      if (event.key === 'Shift') {\n        this.shiftdown = false;\n      }\n    },\n    init(){\n      if (window.PointerEvent) { \n        // Pointer events are supported. \n        this.log=\"Pointer events are supported.\"\n      }\n      this.maincanvas = this.$refs.canvas;\n      const overview = this.$refs.canvas_overview\n      this.ctx = this.maincanvas.getContext('2d');\n\n      // this.ctx.imageSmoothingEnabled = true;\n      this.ctx.lineWidth = 1\n      // this.ctx.strokeRect(10.5,10.5,9,9)\n      this.ovCtx = overview.getContext('2d')\n      this.addHistory()\n      this.resizeViewport()\n      this.getMinScale()\n      this.scaleCount = this.minScaleCount\n      this.offscreenCanvas = document.createElement('canvas');\n    },\n    getMinScale(){\n      const realViewport = this.$refs.realViewport\n      let width = realViewport.clientWidth - 5\n      let height = width/this.cols*this.rows\n      if(height > realViewport.clientHeight){\n        height = realViewport.clientHeight - 2\n        width = height/this.rows*this.cols\n      }\n      this.minScaleCount = Math.floor(100*width/this.width)\n      this.log = this.minScaleCount\n    },\n    \n    handlePointerDown(event){\n      \n      this.endPoints = this.getPoint({x:event.clientX,y:event.clientY})\n\n      if(this.tool == 2) {\n        this.isDrawing = true\n        this.clearPixel(this.endPoints)\n      }else if(this.tool < 6) {\n        this.isDrawing = true\n        this.drawPixel(this.endPoints)\n      }else if(this.tool == 6){\n        this.ctx.fillStyle = this.currentColor\n        this.fillArea(this.endPoints);\n        this.addHistory()\n      }else if(this.tool == 7){\n        this.ctx.beginPath()\n        this.ctx.rect(this.selectedRect.x,this.selectedRect.y,this.selectedRect.width,this.selectedRect.height)\n        this.ctx.closePath()\n        const isPointInPath = this.ctx.isPointInPath(this.endPoints.x,this.endPoints.y)\n        if(isPointInPath){\n          //开始拖拽\n          if(!this.selectedImgData){\n            this.showLastHistory()\n            this.selectedImgData = this.ctx.getImageData(this.selectedRect.x,this.selectedRect.y,this.selectedRect.width,this.selectedRect.height)\n            this.offscreenCanvas.width = this.selectedRect.width;\n            this.offscreenCanvas.height = this.selectedRect.height;\n            const offscreenCtx = this.offscreenCanvas.getContext('2d');\n            this.showLastHistory()\n            this.ctx.clearRect(this.selectedRect.x,this.selectedRect.y,this.selectedRect.width,this.selectedRect.height)\n            this.selectedBgData = this.ctx.getImageData(0,0,this.width,this.height)\n            offscreenCtx.putImageData(this.selectedImgData,0,0)\n             \n          }else{\n            //如果已经选了图像了则不用重新绘制区域图片\n            this.ctx.putImageData(this.selectedBgData,0,0)\n          }\n          this.disx = this.endPoints.x - this.selectedRect.x\n          this.disy = this.endPoints.y - this.selectedRect.y\n          \n          this.isDragingSelectRect = true\n          \n          this.ctx.drawImage(this.offscreenCanvas, this.selectedRect.x-1, this.selectedRect.y-1)\n        }else{\n          //选择新的区域\n          this.showLastHistory()\n\n          if(this.selectRectAnimateId == 0){\n            this.selectRectAnimateId = requestAnimationFrame(this.dashedRectAnimate)\n          }\n          // this.newSelected = true\n          this.selectedImgData = null\n          this.selectedRect = {x:0,y:0,width:0,height:0}\n          this.selectedBgData = this.ctx.getImageData(0,0,this.width,this.height)\n          \n          //选择区域\n          this.isDrawing = true\n        }\n      }\n    },\n\n    handlePointerMove(event){\n      this.ctx.fillStyle = this.currentColor\n      this.ctx.strokeStyle = this.currentColor\n      const currPoint = this.getPoint({x:event.clientX,y:event.clientY})\n      if(this.isDrawing){\n        if(this.tool == 1){\n          this.drawLine(this.endPoints, currPoint)\n          this.endPoints = currPoint\n        }else if(this.tool == 2){\n          this.clearPixel(currPoint)\n        }else if(this.tool == 3){\n          this.showLastHistory()\n          this.drawLine(this.endPoints, currPoint)\n        }else if(this.tool == 4){\n          this.showLastHistory()\n          this.drawRect(this.endPoints, currPoint)\n        }else if(this.tool == 5){\n          this.showLastHistory()\n          this.drawPixelEllipse(this.endPoints, currPoint)\n        }else if(this.tool == 7){\n          this.showLastHistory()\n          this.select(this.endPoints, currPoint)\n        }\n      }else{\n        if(this.tool == 7 && this.isDragingSelectRect){\n          // this.ctx.putImageData(this.selectedBgData, 0, 0)\n          this.selectedRect.x = currPoint.x-this.disx\n          this.selectedRect.y = currPoint.y-this.disy\n          // window.cancelAnimationFrame(this.selectRectAnimateId)\n          // this.ctx.drawImage(this.offscreenCanvas,this.selectedRect.x-1, this.selectedRect.y-1)\n          \n        }else if(this.tool < 6 ){\n          this.showLastHistory()\n          this.overMove(currPoint)\n        }\n      }\n    },\n    select(start,end){\n      const x = Math.min(start.x,end.x)\n      const y = Math.min(start.y,end.y)\n      const width = Math.abs(end.x-start.x)+this.gridSize\n      const height = Math.abs(end.y-start.y)+this.gridSize\n      this.imgPointList = [[]]\n      this.selectedRect = {x, y, width, height}\n    },\n    drawDashedRect(){\n      this.ctx.lineDashOffset = (this.ctx.lineDashOffset+1)%100\n      this.ctx.setLineDash([0])\n      this.ctx.strokeStyle = \"#fff\"\n      this.ctx.strokeRect(this.selectedRect.x-5,this.selectedRect.y-5, this.selectedRect.width+10, this.selectedRect.height+10)\n      this.ctx.setLineDash([50])\n      this.ctx.strokeStyle = \"#000\"\n      this.ctx.strokeRect(this.selectedRect.x-5,this.selectedRect.y-5, this.selectedRect.width+10, this.selectedRect.height+10)\n      this.ctx.fillStyle = \"rgba(0,0,0,0.3)\"\n      this.ctx.fillRect(this.selectedRect.x,this.selectedRect.y, this.selectedRect.width, this.selectedRect.height)\n      this.ctx.fillStyle = this.currentColor\n    },\n    dashedRectAnimate(){\n      this.ctx.putImageData(this.selectedBgData,0,0)\n      if(this.selectedRect.width*this.selectedRect.height != 0 ){\n        this.drawDashedRect()\n      }\n      if(this.selectedImgData){\n        this.ctx.drawImage(this.offscreenCanvas,this.selectedRect.x, this.selectedRect.y)\n      }\n      this.selectRectAnimateId = requestAnimationFrame(this.dashedRectAnimate)\n    },\n    selectSave(){\n      this.ctx.putImageData(this.selectedBgData,0,0)\n      this.ctx.drawImage(\n        this.offscreenCanvas,\n        0,0,this.selectedRect.width, this.selectedRect.height,\n        this.selectedRect.x,this.selectedRect.y,this.selectedRect.width, this.selectedRect.height)\n      this.addHistory()\n      \n    },\n    handlePointerUp(){\n      if(this.isDrawing){\n        this.isDrawing = false\n        if(this.tool == 7){\n          //选择区域结束判断选择区域,如果长或宽小于0则关闭选择动画，取消选择\n          if(this.selectedRect.width*this.selectedRect.height == 0){\n            cancelAnimationFrame(this.selectRectAnimateId)\n            this.selectRectAnimateId = 0\n            this.selectedRect = {x:0,y:0,width:0,height:0}\n            this.selectedImgData = null\n          }\n        }else{\n          this.addHistory()\n        }\n      }\n      if(this.isDragingSelectRect){\n        this.isDragingSelectRect = false\n        this.selectSave()\n        // this.dashedRectAnimate()\n      }\n      \n    },\n    drawPixel(point, size=this.penSize, color = this.currentColor){\n      this.ctx.fillStyle = color\n      const x = point.x/this.gridSize - Math.floor(size/2)\n      const y = point.y/this.gridSize - Math.floor(size/2)\n      this.ctx.fillRect(this.gridSize*x,this.gridSize*y,this.gridSize*size,this.gridSize*size)\n      // this.ctx.font = \"40px serif\"\n      // this.ctx.fillStyle = \"#ffffff\"\n      // this.ctx.fillText(`${(x+y*this.cols)*30}`,this.gridSize*x,this.gridSize*y+30)\n    },\n    overMove(point){\n      this.ctx.fillStyle = 'rgba(0,0,0,0.3)'\n      const size = this.penSize\n      const x = point.x/this.gridSize - Math.floor(size/2)\n      const y = point.y/this.gridSize - Math.floor(size/2)\n      this.ctx.fillRect(this.gridSize*x,this.gridSize*y,this.gridSize*size,this.gridSize*size)\n    },\n    clearPixel(point){\n      const size = this.penSize\n      const x = point.x/this.gridSize - Math.floor(size/2)\n      const y = point.y/this.gridSize - Math.floor(size/2)\n      this.ctx.clearRect(this.gridSize*x,this.gridSize*y,this.gridSize*size,this.gridSize*size)\n    },\n    // 直线BH算法https://blog.csdn.net/myf_666/article/details/128164135\n    drawLine(start,end){\n      let x = start.x\n      let y = start.y\n      let dx = Math.abs(end.x - start.x)\n      let dy = Math.abs(end.y - start.y)\n      let sx = (start.x < end.x)? this.gridSize : -this.gridSize\n      let sy = (start.y < end.y)? this.gridSize : -this.gridSize\n      let err = dx - dy\n      while(true){\n        this.drawPixel({x,y})\n        if(x === end.x && y === end.y) break\n        let e2 = 2 * err;\n        if(e2 > -dy){\n          err -= dy;\n          x += sx;\n        }\n        if(e2 < dx){\n          err += dx;\n          y += sy\n        }\n      }\n    },\n    \n    drawRect(start,end){\n      let rightUp, leftDown;\n\n      if (this.shiftdown) {\n        // 计算水平和垂直距离\n        const deltaX = end.x - start.x;\n        const deltaY = end.y - start.y;\n\n        // 选择较小的距离作为正方形的边长\n        const sideLength = Math.min(Math.abs(deltaX), Math.abs(deltaY));\n\n        // 根据方向调整 end 点的位置\n        if (deltaX > 0 && deltaY > 0) {\n          end = { x: start.x + sideLength, y: start.y + sideLength };\n        } else if (deltaX > 0 && deltaY < 0) {\n          end = { x: start.x + sideLength, y: start.y - sideLength };\n        } else if (deltaX < 0 && deltaY > 0) {\n          end = { x: start.x - sideLength, y: start.y + sideLength };\n        } else {\n          end = { x: start.x - sideLength, y: start.y - sideLength };\n        }\n      }\n\n      rightUp = { x: end.x, y: start.y };\n      leftDown = { x: start.x, y: end.y };\n\n      this.drawLine(start, rightUp);\n      this.drawLine(leftDown, end);\n      this.drawLine(start, leftDown);\n      this.drawLine(rightUp, end);\n      \n    },\n    //椭圆BH算法https://www.cnblogs.com/fortunely/p/17681502.html\n     drawPixelEllipse(start, end) {\n      const xc = (start.x + end.x) / 2 / this.gridSize + 0.5\n      const rx = Math.abs((end.x - start.x) / this.gridSize / 2);\n      const drx = end.y>start.y ? rx : -rx\n      const yc = this.shiftdown ? start.y/this.gridSize + drx + 0.5 : (start.y + end.y) / 2 / this.gridSize + 0.5\n      const ry = this.shiftdown ? rx : Math.abs((end.y - start.y) / this.gridSize / 2);\n\n      let x = rx%1 ? 0.5 : 0;\n      let y = ry;\n      let d1 = Math.ceil(ry * ry - rx * rx * ry + 0.25 * rx * rx);\n      let dx = 2 * ry * ry * x;\n      let dy = 2 * rx * rx * y;\n      this.drawEllipsePoints(xc, yc, x, y)\n\n      while (dx < dy) {\n        x++\n        dx += 2 * ry * ry;\n        if (d1 <= 0) {\n          d1 += dx + ry * ry;\n        } else {\n          y--;\n          dy -= 2 * rx * rx;\n          d1 += dx - dy + ry * ry;\n        }\n        \n        this.drawEllipsePoints(xc, yc, x, y)\n      }\n\n      let d2 = Math.ceil(ry * ry * (x + 0.5) * (x + 0.5) + rx * rx * (y - 1) * (y - 1) - rx * rx * ry * ry);\n      while (y > 0) {\n        y--\n        dy -= 2 * rx * rx\n        if (d2 <= 0) {\n          x++\n          dx += 2 *ry*ry\n          d2 += ry*ry - dy + dx\n          \n        } else {\n          d2 += rx * rx - dy\n        }\n        this.drawEllipsePoints(xc, yc, x, y)\n      }\n    },\n    drawEllipsePoints(xc, yc, x, y) {\n      xc -= 0.5\n      yc -= 0.5\n      this.drawPixel({ x: (xc + x) * this.gridSize, y: (yc - y) * this.gridSize });\n      this.drawPixel({ x: (xc - x) * this.gridSize, y: (yc - y) * this.gridSize });\n      this.drawPixel({ x: (xc - x) * this.gridSize, y: (yc + y) * this.gridSize });\n      this.drawPixel({ x: (xc + x) * this.gridSize, y: (yc + y) * this.gridSize });\n    },\n    // 在你的像素画板中实现一个填充功能（类似于“油漆桶”工具），你需要用到一种称为“洪水填充”（Flood Fill）算法。这个算法将会递归地或使用队列填充相同颜色的相邻像素。为了避免递归深度过深导致栈溢出，我们可以使用队列来实现非递归的广度优先搜索（BFS）填充算法。\n    fillArea(startPoint) {\n      const targetColor = this.getColorAtPixel(startPoint);\n      const fillColor = this.hexToArgb(this.ctx.fillStyle);\n\n      if (this.colorsMatch(targetColor, fillColor)) {\n        return; // 避免填充相同颜色的区域\n      }\n\n      const stack = [startPoint];\n      const { width, height } = this.$refs.canvas;\n      const visited = new Set();\n\n      const key = (x, y) => `${x},${y}`;\n      \n      while (stack.length) {\n        const { x, y } = stack.pop();\n        const currentColor = this.getColorAtPixel({ x, y });\n\n        if (!visited.has(key(x, y)) && this.colorsMatch(currentColor, targetColor)) {\n          this.drawPixel({ x, y }, 1);\n          visited.add(key(x, y));\n\n          if (x > 0) stack.push({ x: x - this.gridSize, y });\n          if (x < width - this.gridSize) stack.push({ x: x + this.gridSize, y });\n          if (y > 0) stack.push({ x, y: y - this.gridSize });\n          if (y < height - this.gridSize) stack.push({ x, y: y + this.gridSize });\n\n        }\n      }\n    },\n    getColorAtPixel(point) {\n      const { data } = this.ctx.getImageData(point.x, point.y, 1, 1);\n      return data.slice(0, 4);\n    },\n    hexToArgb(hex) {\n      if (hex[0] === '#') hex = hex.slice(1);\n      const bigint = parseInt(hex, 16);\n      if (hex.length === 8) {\n        return [(bigint >> 24) & 255, (bigint >> 16) & 255, (bigint >> 8) & 255, bigint & 255];\n      } else if (hex.length === 6) {\n        return [255, (bigint >> 16) & 255, (bigint >> 8) & 255, bigint & 255];\n      } else if (hex.length === 4) {\n        return [(bigint >> 12) & 15 * 17, (bigint >> 8) & 15 * 17, (bigint >> 4) & 15 * 17, bigint & 15 * 17];\n      } else if (hex.length === 3) {\n        return [255, (bigint >> 8) & 15 * 17, (bigint >> 4) & 15 * 17, bigint & 15 * 17];\n      }\n      return [0, 0, 0, 0]; // 默认返回透明黑色\n    },\n    colorsMatch(color1, color2) {\n      return color1[0] === color2[0] && color1[1] === color2[1] && color1[2] === color2[2] && color1[3] === color2[3];\n    },\n    clearAll(){\n      this.selectedRect = {x:0,y:0,width:0,height:0}\n      this.selectedImgData = null\n      this.ctx.clearRect(0,0,this.width,this.height)\n      cancelAnimationFrame(this.selectRectAnimateId)\n      this.selectRectAnimateId = 0\n      this.addHistory()\n    },\n    isRectEqual(rect1, rect2) {\n      return rect1.x === rect2.x &&\n             rect1.y === rect2.y &&\n             rect1.width === rect2.width &&\n             rect1.height === rect2.height;\n    },\n    getPoint(point){\n      const scale = this.scaleCount/100\n      const rect = this.$refs.canvas.getBoundingClientRect();\n      const x = Math.floor((point.x - rect.left) / this.gridSize/scale)*this.gridSize\n      const y = Math.floor((point.y - rect.top) / this.gridSize/scale)*this.gridSize\n      this.coordinate = `x:${x / this.gridSize},y:${y / this.gridSize}`\n      return {x,y}\n    },\n    showLastHistory() {\n      const history = this.historys\n      const imageData = history[history.length - 1]['data']\n      this.ctx.putImageData(imageData, 0, 0)\n    },\n    addHistory() {\n      this.historys.push({\n        data: this.ctx.getImageData(0, 0, this.width, this.height)\n      })\n      this.updateOverview()\n      if(this.gifImageDataList.length > 0)\n        this.updateGifImage(this.gifImageDataIndex)\n    },\n    undo(){\n      var history = this.historys;\n      \n      if(history && history.length > 1){\n        history.pop();\n        this.showLastHistory();\n        this.updateOverview()\n      }\n\n      //清空选择区域\n      this.selectedImgData = null\n      this.selectedRect = {x:0,y:0,width:0,height:0}\n      cancelAnimationFrame(this.selectRectAnimateId)\n      this.selectRectAnimateId = 0\n    },\n    getPixelVector(pixel){\n      const pixelSize = this.outputSize\n      const color = `rgba(${pixel.r},${pixel.g},${pixel.b},${pixel.a})`\n      const x1 = {x:pixel.x, y:pixel.y}\n      const x2 = {x:pixel.x + pixelSize, y:pixel.y}\n      const x3 = {x:pixel.x + pixelSize, y:pixel.y + pixelSize}\n      const x4 = {x:pixel.x, y:pixel.y + pixelSize}\n      const point2Num = (x,y)=>{\n        return x + y*this.cols\n      }\n      //定义了正方形的4个边向量[向量起点，向量终点，向量右边的颜色]\n      return [[point2Num(x1.x,x1.y),point2Num(x2.x,x2.y),color],\n              [point2Num(x2.x,x2.y),point2Num(x3.x,x3.y),color],\n              [point2Num(x3.x,x3.y),point2Num(x4.x,x4.y),color],\n              [point2Num(x4.x,x4.y),point2Num(x1.x,x1.y),color]]\n    },\n    getpathContent(pixelData){\n      let pathLists = [] \n      //这三个list的index代表同一条路径的集合、开始点、结束点\n\n      let pointWithNextPoints  = new Map()\n      pixelData.forEach(pixel => {\n        // console.log(pixel)\n        const pixelVectors = this.getPixelVector(pixel)\n        //生成一个单向的相邻点的map\n        pixelVectors.forEach(vector => {\n          // console.log(`开始添加向量：（${vector[0]},${vector[1]}）`)\n          if(pointWithNextPoints.has(vector[0])){\n            if(pointWithNextPoints.has(vector[1])){\n              // console.log(`${vector[0]},${vector[1]}=======>${vector[1]},${vector[0]}`)\n              let nextPoints = pointWithNextPoints.get(vector[1])\n              \n              // nextPoints.forEach(nextpoint=>{\n              //   console.log(nextpoint)\n              // })\n              let findSameVector = null\n              for(var i=0; i < nextPoints.length ; i++){\n                // console.log(`${nextPoints[i]},${vector[0]},${vector[2]}`)\n                // console.log(nextPoints[i][0] == vector[0] && nextPoints[i][1] == vector[2])\n                if(nextPoints[i][0] == vector[0] && nextPoints[i][1] == vector[2]){\n                  findSameVector = nextPoints.splice(i,1)\n                  // console.log(\"存在同一条线，不添加\")\n                  if(nextPoints.length > 0){\n                    pointWithNextPoints.set(vector[1],nextPoints)\n                    // console.log(\"删除已经存在的线段\")\n                  }else{\n                    pointWithNextPoints.delete(vector[1])\n                    // console.log(\"删除已经存在的线段,起始点没有相邻点，删除起始点\")\n                  }\n                  \n                  break;\n                }\n              }\n\n              if(findSameVector == null){\n                let newValue = pointWithNextPoints.get(vector[0]).push([vector[1],vector[2]])\n                pointWithNextPoints[vector[0], newValue]\n                // console.log(\"添加成功\")\n              }\n            }else{\n              let newValue = pointWithNextPoints.get(vector[0]).push([vector[1],vector[2]])\n              pointWithNextPoints[vector[0], newValue]\n              // console.log(\"添加成功\")\n            }\n          }else{\n            pointWithNextPoints.set(vector[0], [[vector[1],vector[2]]])\n            // console.log(\"添加成功\")\n          }\n        })\n      });\n      // console.log(pointWithNextPoints)\n      // for(const [key,value] of pointWithNextPoints){\n      //   console.log(key+\":\")\n      //   value.forEach(v => {\n      //     console.log(`point:${v[0]},color:${v[1]}`)\n      //   })\n      //   console.log(\"=============================\")\n      // }\n      //遍历pointWithNextPoints得到路径\n\n      const findPath = (point,path=null, color=null)=>{\n        console.log(`findPath(\\n${point},\\n${path},\\n${color})`)\n        if(pointWithNextPoints.has(point)){\n          let nextPoints = pointWithNextPoints.get(point)\n          if(color == null){\n            let nextPoint = nextPoints.splice(0,1)[0]\n            pointWithNextPoints.set(point,nextPoints)\n            if(nextPoints.length <= 0){\n              pointWithNextPoints.delete(point)\n              // console.log(`这个点是路径起始点，且只有一个继点，移除${point}`)\n            }\n            path = [point,nextPoint[0]]\n            findPath(nextPoint[0], path, nextPoint[1])\n          }else{\n            let nextPoints = pointWithNextPoints.get(point)\n            let nextPoint = null\n            for(var i=0 ; i < nextPoints.length ; i++){\n              if(nextPoints[i][1] == color){\n\n                nextPoint = nextPoints.splice(i, 1)[0]\n                pointWithNextPoints.set(point,nextPoints)\n                if(nextPoints.length <= 0){\n                  pointWithNextPoints.delete(point)\n                  // console.log(`这个点的继点被全部匹配完了，移除${point}`)\n                }\n                break\n              }\n            }\n            if(nextPoint){\n              path.push(nextPoint[0])\n              findPath(nextPoint[0], path, nextPoint[1])\n            }else{\n              path.push(color)\n              // console.log(`map里有thispoint:${point},当时相同颜色:${color}没有可以找的点`)\n              pathLists.push(path)\n              if(pointWithNextPoints.size > 0){\n                const newkey = pointWithNextPoints.keys().next().value\n                const newstart = pointWithNextPoints.get(newkey)[0]\n\n                findPath(newstart[0])\n              }else{\n                return\n              }\n            }\n          }\n        }else{\n          if(color){\n            path.push(color)\n            pathLists.push(path)\n            // console.log(`map里找不到thispoint:${point}了`)\n            if(pointWithNextPoints.size > 0){\n              const newkey = pointWithNextPoints.keys().next().value\n              const newstart = pointWithNextPoints.get(newkey)[0]\n              // console.log(`**********newstart[0]:${newstart[0]}`)\n              findPath(newstart[0])\n            }else{\n              return\n            }\n          }\n          return\n        }\n        \n      }\n      const start = pointWithNextPoints.keys().next().value\n      // console.log(`start:${start}-----------`)\n      findPath(start)\n      let pathContent = ``\n      let colorWithPath = new Map() //保存颜色-路径的映射，用于合并相同颜色的路径\n      const num2Point = (num)=>{\n        const x = num%(this.cols*30)\n        return {x,y:Math.floor((num-x)/this.cols)}\n      }\n\n      pathLists.forEach((pathList)=>{\n        // console.log(pathList)\n        let p1 = num2Point(pathList[0])\n        // console.log(pathList[0],p1)\n        let step = {direction:\"M\",step:0}\n        let path = `M${p1.x} ${p1.y}`\n        for(var i=1; i<pathList.length-1 ;i++){\n          let p2 = num2Point(pathList[i])\n          // console.log(p2)\n          if(p1.x == p2.x){\n            if(step.direction == \"v\"){\n              step.step += (p2.y - p1.y)\n              // console.log(`1:::::::::${step.direction},${step.step}`)\n            }else{\n              if(step.step != 0){\n                path += `${step.direction}${step.step}`\n              }\n              step.direction = \"v\"\n              step.step = (p2.y - p1.y)\n              // console.log(`2:::::::::${step.direction},${step.step}`)\n            }\n          }else{\n            if(step.direction == \"h\"){\n              step.step += (p2.x - p1.x)\n              // console.log(`3:::::::::${step.direction},${step.step}`)\n            }else{\n              if(step.step != 0){\n                path += `${step.direction}${step.step}`\n                \n              }\n              step.direction = \"h\"\n              step.step = (p2.x - p1.x)\n              // console.log(`${p2.y},${p1.y},${p2.y-p1.y}`)\n              // console.log(`4:::::::::${step.direction},${step.step}`)\n            }\n          }\n          p1.x = p2.x\n          p1.y = p2.y\n          // console.log(`step:\"${step.direction}\",${step.step}`)\n        }\n        path += \"z\"\n        const colorKey = pathList[pathList.length-1]\n        if(colorWithPath.has(colorKey)){\n          let newValue = colorWithPath.get(colorKey)\n          newValue.push(path) \n          colorWithPath.set(colorKey, newValue)\n        }else{\n          colorWithPath.set(colorKey, [path])\n        }\n      })\n      for(var [key,value] of colorWithPath){\n        let colorPath = `<path d=\"`\n        value.forEach((path)=>{\n          // console.log(key,path)\n          colorPath += path\n        })\n        colorPath += `\" fill=\"${key=='rgba(0,0,0,255)' || key=='rgba(0,0,1,255)' ?'currentColor':key}\"/>`\n        pathContent += colorPath\n      }\n      console.log(pathContent)\n      return pathContent\n    },\n    getSvgContent(filled=false){\n      const width = this.width;\n      const height = this.height;\n      const imageData = this.ctx.getImageData(0, 0, width, height)\n\n      //解析像素数据，gpt生成代码\n      const pixels = imageData.data;\n\n      let pixelData = [];\n      for (let y = 0; y < height; y+=this.gridSize) {\n        for (let x = 0; x < width; x+=this.gridSize) {\n          const index = (y * width + x) * 4;\n          const r = pixels[index];\n          const g = pixels[index + 1];\n          const b = pixels[index + 2];\n          const a = pixels[index + 3];\n\n          // 只保存非透明像素\n          if (a > 0) {\n            pixelData.push({ x:x/this.gridSize*this.outputSize, y:y/this.gridSize*this.outputSize, r, g, b, a });\n          }\n        } \n      }\n    \n      //生成svg文件,gpt生成代码\n      let svgContent = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${this.cols*this.outputSize} ${this.rows*this.outputSize}\">`;\n      \n      if(false){\n        pixelData.forEach(pixel => {\n          let color = `rgba(${pixel.r},${pixel.g},${pixel.b},${pixel.a})`\n          if(color =='rgba(0,0,1,255)' || color == 'rgba(0,0,0,255)'){\n            color = \"currentColor\"\n          }\n          svgContent += `<rect x=\"${pixel.x}\" y=\"${pixel.y}\" width=\"${this.outputSize}\" height=\"${this.outputSize}\" fill=\"${color}\" />`;\n        });\n      }else{\n        svgContent += this.getpathContent(pixelData)\n      }\n      \n\n      svgContent += '</svg>';\n      return svgContent\n      \n    },\n    copySvgCode(){\n      const content = this.getSvgContent()\n      this.copyToClipboard(content)\n    },\n    saveAsSvg(){\n      const svgContent = this.getSvgContent()\n      //保存svg文件\n      const blob = new Blob([svgContent], { type: 'image/svg+xml' });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = 'drawing.svg';\n      link.click();\n      URL.revokeObjectURL(url);\n    },\n    saveAsPng(){\n      const link = document.createElement('a');\n      const url =  this.maincanvas.toDataURL(\"image/png\");\n      link.href = url;\n      link.download = 'drawing.png';\n      link.click();\n      URL.revokeObjectURL(url);\n    },\n    saveAsGif(){\n      if(this.gifImageDataIndex == -1){\n        this.$toast.show('没有创建gif图片数据序列','error')\n        return\n      }\n\n      // 假设你已经有一个数组保存了所有的 ImageData 对象\n      const imageDataArray = this.gifImageDataList\n\n      // 创建一个 GIF 对象\n      const gif = new GIF({\n        workers: 2,\n        quality: 10,\n        workerScript: `${process.env.BASE_URL}js/gifjs/gif.worker.js`,\n        transparent: 'rgba(0,0,0,0)',\n      });\n\n      \n\n      // 遍历 ImageData 数组，并将每个 ImageData 添加为一帧\n      imageDataArray.forEach(imageData => {\n        gif.addFrame(imageData, {delay: Math.floor(this.animateSpeed)});\n      });\n\n      // 生成并导出 GIF\n      gif.on('finished', function(blob) {\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = 'output.gif';\n        a.click();\n        URL.revokeObjectURL(url);\n      });\n\n      gif.render();\n\n    },\n    async copyToClipboard(content) {\n      try {\n        await navigator.clipboard.writeText(content);\n        this.$toast.show('复制成功','success')\n      } catch (err) {\n        this.$toast.show(err,'error')\n      }\n    },\n    dragViewportDown(e){\n      this.$refs.realViewport.removeEventListener('scroll', this.viewportScroll);\n      this.viewport = this.$refs.viewport\n      this.disx = e.pageX - this.viewport.offsetLeft\n      this.disy = e.pageY - this.viewport.offsetTop\n      this.resizeViewport()\n    },\n    dragViewportMove(e){\n      if(this.viewport){\n        const overview = this.$refs.canvas_overview\n        const realViewport = this.$refs.realViewport\n        const scale = overview.clientWidth/this.maincanvas.clientWidth\n\n        var left = e.pageX - this.disx\n        var top = e.pageY - this.disy\n        const leftmax = overview.offsetLeft +  overview.clientWidth - this.viewport.clientWidth - 2\n        const topmax = overview.offsetTop + this.viewport.parentElement.clientHeight - this.viewport.clientHeight - 2\n        left = Math.max(overview.offsetLeft, Math.min(left, leftmax));\n        top = Math.max(overview.offsetTop, Math.min(top, topmax));\n        this.viewport.style.left = left + 'px';\n        this.viewport.style.top = top + 'px';\n        this.log = `${overview.offsetLeft}`\n        const scrollLeft = (left - overview.offsetLeft)/scale\n        const scrollTop = (top - overview.offsetTop)/scale\n        realViewport.scrollTop = scrollTop\n        realViewport.scrollLeft = scrollLeft\n      }\n    },\n    dragViewportUp(){\n      this.$refs.realViewport.addEventListener('scroll', this.viewportScroll);\n      if(this.viewport)\n        this.viewport=null\n    },\n    viewportScroll(){\n      this.log = `${this.$refs.realViewport.scrollTop},${this.$refs.realViewport.scrollLeft}`\n      this.resizeViewport()\n    },\n    zoomWheel(event){\n      event.preventDefault()\n      const deltaY = event.deltaY\n      if(deltaY < 0){\n        var scale = Number(this.scaleCount) + 1\n        this.scaleCount = Math.min(scale,100)\n      }else{\n        var scale = Number(this.scaleCount) - 1\n        this.scaleCount = Math.max(scale,10)\n      }\n      this.resizeViewport()\n    },\n    zoomIn(){\n      var scale = Number(this.scaleCount) + 10\n      this.scaleCount = Math.min(scale,100)\n      this.resizeViewport()\n    },\n    zoomOut(){\n      var scale = Number(this.scaleCount) - 10\n      this.scaleCount = Math.max(scale,10)\n      this.resizeViewport()\n    },\n    zoomFit(){\n      this.getMinScale()\n      this.scaleCount = this.minScaleCount\n      this.resizeViewport()\n    },\n    resizeViewport(){\n      //设置viewport大小\n      const overview = this.$refs.canvas_overview\n      const realViewport = this.$refs.realViewport\n      const scale = overview.clientWidth/this.maincanvas.clientWidth\n      this.$nextTick(()=>{\n        const viewportWidth = realViewport.clientWidth*scale\n        const viewportHeight = realViewport.clientHeight*scale\n        this.$refs.viewport.style.width = `${Math.floor(Math.min(viewportWidth,overview.clientWidth))}px`\n        this.$refs.viewport.style.height = `${Math.floor(Math.min(viewportHeight,overview.clientHeight)-1)}px`\n        const viewportTop = this.$refs.canvas_overview.offsetTop + this.$refs.realViewport.scrollTop*scale\n        const viewportLeft = this.$refs.canvas_overview.offsetLeft + this.$refs.realViewport.scrollLeft*scale\n        this.$refs.viewport.style.top = `${viewportTop}px`\n        this.$refs.viewport.style.left = `${viewportLeft}px`\n      })\n    },\n    pushGifImgList(){\n      const imageData= this.ctx.getImageData(0, 0, this.width, this.height)\n      this.gifImageDataList.splice(this.gifImageDataIndex,0,imageData)\n      this.gifImageDataIndex++\n      const that = this\n      this.$nextTick(()=>{\n        for(var i = that.gifImageDataList.length-1 ; i > that.gifImageDataIndex ; i--){\n          const canvas = that.$refs.gifCanvas[i]\n          const canvasBefore = that.$refs.gifCanvas[i-1]\n          const ctx = canvas.getContext(\"2d\")\n          ctx.clearRect(0,0,100*that.cols/that.rows,100)\n          ctx.drawImage(canvasBefore,0,0)\n        }\n        const canvas = that.$refs.gifCanvas[that.gifImageDataIndex]\n        const ctx = canvas.getContext(\"2d\")\n        ctx.clearRect(0,0,100*that.cols/that.rows,100)\n        ctx.drawImage(\n          that.maincanvas,\n          0,0,that.width,that.height,\n          0,0,100*that.cols/that.rows,100\n        )\n      })\n    },\n    deleteGifImgList(){\n      for(var i = this.gifImageDataIndex ; i < this.gifImageDataList.length-1 ; i++){\n        const canvas = this.$refs.gifCanvas[i]\n        const canvasNext = this.$refs.gifCanvas[i+1]\n        const ctx = canvas.getContext(\"2d\")\n        ctx.clearRect(0,0,100*this.cols/this.rows,100)\n        ctx.drawImage(canvasNext,0,0)\n      }\n      this.gifImageDataList.splice(this.gifImageDataIndex,1)\n      if(this.gifImageDataIndex >= this.gifImageDataList.length){\n        this.gifImageDataIndex = this.gifImageDataList.length-1\n      }else if(this.gifImageDataList.length < 1){\n        this.gifImageDataIndex = -1\n      }\n    },\n    startAnimate(){\n      if(this.animateId == 0){\n        if(this.gifImageDataList.length > 0){\n          this.animateStartTime = new Date().getTime()\n          this.animateId = requestAnimationFrame(this.updateMainCanvasAnimate)\n        }\n      }\n    },\n    stopAnimate(){\n      cancelAnimationFrame(this.animateId)\n      this.animateId = 0\n    },\n    updateMainCanvasAnimate(){\n      this.ctx.clearRect(0,0,this.width,this.height)\n      const data = this.gifImageDataList[this.gifImageDataIndex]\n      this.ctx.putImageData(data,0,0)\n      const nowTime = new Date().getTime()\n      const deltaTime = nowTime - this.animateStartTime\n      if(deltaTime > this.animateSpeed){\n        this.animateStartTime = nowTime\n        this.gifImageDataIndex = (this.gifImageDataIndex+1)%(this.gifImageDataList.length)\n      }\n      \n      this.animateId = requestAnimationFrame(this.updateMainCanvasAnimate)\n    },\n    putGifImage2MainCanvas(index){\n      this.stopAnimate()\n      this.gifImageDataIndex = index\n      const data = this.gifImageDataList[this.gifImageDataIndex]\n      this.ctx.putImageData(data,0,0)\n      this.addHistory()\n    },\n    updateGifImage(index){\n      const imageData= this.ctx.getImageData(0, 0, this.width, this.height)\n      this.gifImageDataList[index] = imageData\n      const that = this\n      this.$nextTick(()=>{\n        const canvas = that.$refs.gifCanvas[index]\n        const ctx = canvas.getContext(\"2d\")\n        ctx.clearRect(0,0,100*this.cols/this.rows,100)\n        ctx.drawImage(\n          that.maincanvas,\n          0,0,this.width,this.height,\n          0,0,100*this.cols/this.rows,100\n        )\n      })\n    },\n    changeSpeed(num){\n      this.animateFpsIndex = ((this.animateFpsIndex+num)<0 ? 5 : this.animateFpsIndex+num)%6\n      this.animateSpeed = 1000/this.animateFps[this.animateFpsIndex]\n    },\n    async saveGifNPngToFolder(imageDataArray) {\n        if(imageDataArray.length < 1){\n          this.$toast.show('没有可以导出的帧','error')\n          return\n        }\n        //利用 Canvas 元素将 ImageData 转换为图像的 Blob 对象。\n        const imageDataToBlob = (imageData) => {\n            return new Promise((resolve) => {\n                const canvas = document.createElement('canvas');\n                canvas.width = imageData.width;\n                canvas.height = imageData.height;\n\n                const ctx = canvas.getContext('2d');\n                ctx.putImageData(imageData, 0, 0);\n\n                canvas.toBlob((blob) => {\n                    resolve(blob);\n                });\n            });\n        }\n        try {\n            // 请求选择文件夹的权限\n            const dirHandle = await window.showDirectoryPicker();\n\n            // 遍历图片并保存到文件夹\n            for (let i = 0; i < imageDataArray.length; i++) {\n                const imageData = imageDataArray[i];\n                const blob = await imageDataToBlob(imageData);\n\n                // 创建文件名（可根据需要调整）\n                const fileName = `image_${i + 1}.png`;\n\n                // 在指定文件夹中创建文件\n                const fileHandle = await dirHandle.getFileHandle(fileName, { create: true });\n\n                // 写入 Blob 到文件\n                const writable = await fileHandle.createWritable();\n                await writable.write(blob);\n                await writable.close();\n            }\n            \n            console.log(\"图片已保存到文件夹中\");\n        } catch (err) {\n            console.error(\"保存图片时出错：\", err);\n        }\n    },\n    openFileInput(){\n      document.getElementById('fileInput').click()\n    },\n    importImg(){\n      const file = event.target.files[0];\n      const that = this\n      if (file && file.type.startsWith('image/')) {\n          const reader = new FileReader();\n\n          // 当文件读取完成时\n          reader.onload = function(e) {\n              const img = new Image();\n              img.src = e.target.result;\n\n              // 在图像加载完成后绘制到canvas上\n              img.onload = function() {\n                  that.selectedImgData = null\n                  that.selectedRect = {x:0,y:0,width:0,height:0}\n                  that.selectedBgData = that.ctx.getImageData(0,0,that.width,that.height)\n\n                  that.offscreenCanvas = document.createElement('canvas');\n                  const height = Math.floor(that.height/that.gridSize)*that.gridSize\n                  const width = Math.floor(that.height/img.height*img.width/that.gridSize)*that.gridSize\n                  that.offscreenCanvas.width = width\n                  that.offscreenCanvas.height = height\n                  \n                  const ctx = that.offscreenCanvas.getContext('2d');\n                  ctx.drawImage(img, 0, 0,img.width,img.height,0,0,width,height);\n                  that.selectedImgData = ctx.getImageData(0,0,width,height)\n                  // that.ctx.drawImage(that.offscreenCanvas,0,0)\n                  if(that.selectRectAnimateId == 0){\n                    that.selectRectAnimateId = requestAnimationFrame(that.dashedRectAnimate)\n                  }\n                  that.selectedRect={x:0,y:0,width,height}\n                  that.tool = 7\n                  // that.addHistory()\n              }\n          }\n\n          // 读取文件为Data URL\n          reader.readAsDataURL(file);\n      } else {\n          alert('请选择一个有效的图像文件。');\n      }\n    },\n    imgToPixel(){\n\n      if(this.offscreenCanvas){\n        const width = this.offscreenCanvas.width;\n        const height = this.offscreenCanvas.height; \n        const ctx = this.offscreenCanvas.getContext(\"2d\")\n        const imageData = ctx.getImageData(0, 0, width, height)\n\n        //解析像素数据，gpt生成代码\n        const pixels = imageData.data;\n        let r = 0;\n        let g = 0;\n        let b = 0;\n        let a = 0;\n        let count = 0\n        for (let y = 0; y < height; y+=this.gridSize) {\n          for (let x = 0; x < width; x+=this.gridSize) {\n            for(let i = 0;i < this.gridSize;i++){\n              for(let j = 0;j < this.gridSize;j++){\n                const index = ((y+i) * width + x+j) * 4;\n                r += pixels[index];\n                g += pixels[index + 1];\n                b += pixels[index + 2];\n                a += pixels[index + 3];\n                count++\n              }\n            }\n            r = Math.floor(r/count)\n            g = Math.floor(g/count)\n            b = Math.floor(b/count)\n            a = Math.floor(a/count)\n            ctx.clearRect(x,y,this.gridSize,this.gridSize)\n            ctx.fillStyle = `rgba(${r},${g},${b},${a})`\n            ctx.fillRect(x,y,this.gridSize,this.gridSize)\n            const y1 = Math.floor(y/this.gridSize)\n            const x1 = Math.floor(x/this.gridSize)\n            if(!this.imgPointList[y1])\n              this.imgPointList[y1] = []\n            this.imgPointList[y1][x1]=[r,g,b,a]\n            r = 0;\n            g = 0;\n            b = 0;\n            a = 0;\n            count = 0\n          } \n        }\n      }\n    },\n    adjustImg(){\n      if(this.offscreenCanvas){\n        const ctx = this.offscreenCanvas.getContext('2d')\n        const result = this.processColors()\n        for(var y=0;y<result.length;y++){\n          for(var x=0;x<result[y].length;x++){\n            // console.log(result[y][x])\n            const [r,g,b,a] = result[y][x]\n            ctx.fillStyle = `rgba(${r},${g},${b},${a})`\n            ctx.fillRect(x*this.gridSize,y*this.gridSize,this.gridSize,this.gridSize)\n          }\n        }\n      }\n      \n    },\n    processColors(colorArray = this.imgPointList, threshold = this.threshold){\n      const colorList = []\n      const colorDistance = (rgba1,rgba2)=>{\n        const [r1, g1, b1, a1] = rgba1;\n        const [r2, g2, b2, a2] = rgba2;\n        return Math.sqrt(\n          Math.pow(r1 - r2, 2) +\n          Math.pow(g1 - g2, 2) +\n          Math.pow(b1 - b2, 2) +\n          Math.pow((a1 * 255) - (a2 * 255), 2)\n        );\n      }\n      const averageColor = (rgba1, rgba2)=>{\n        const [r1, g1, b1, a1] = rgba1;\n        const [r2, g2, b2, a2] = rgba2;\n        return [\n          Math.round((r1 + r2) / 2),\n          Math.round((g1 + g2) / 2),\n          Math.round((b1 + b2) / 2),\n          Math.round((a1 + a2) / 2)\n        ];\n      }\n      console.log(colorArray)\n      const rows = colorArray.length;\n      const cols = colorArray[0].length;\n\n      // Create a new array to store the processed colors\n      const resultArray = JSON.parse(JSON.stringify(colorArray));\n\n      for (let i = 0; i < rows; i++) {\n        for (let j = 0; j < cols; j++) {\n          const currColor = colorArray[i][j]\n          let findFlag = false\n          for(let x=0; x<colorList.length; x++){\n\n            const color = colorList[x]\n\n            if(colorDistance(color, currColor) < threshold){\n              const average = averageColor(color, currColor)\n              resultArray[i][j] = x\n              console.log(resultArray[i][j])\n              colorList[x] = average\n              console.log(`find:${findFlag}`)\n              findFlag = x\n              break\n            }\n          }\n          \n          console.log(findFlag)\n          if(findFlag == false){\n            resultArray[i][j] = colorList.length\n            colorList.push(currColor)\n          }\n        }\n      }\n      console.log(colorList)\n      console.log(resultArray)\n      for (let i = 0; i < rows; i++) {\n          for (let j = 0; j < cols; j++) {\n            resultArray[i][j] = colorList[resultArray[i][j]]\n          }\n      }\n\n      return resultArray;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.drawing-area {\n/*  border: 0.5px solid #d9d9d9;*/\n/*  width: 100%;*/\n  font-size: 0;\n  height: 100%;\n}\ncanvas, .addcanvas {\n  position: relative;\n  z-index: 1;\n  touch-action: none;\n  border: 1px solid var(--canvas-grid-gray);\n}\n.canvas-grid {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n\n.tools-bar {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0.5rem;\n  padding-bottom: 1rem;\n  width: 84px;\n  height: fit-content;\n}\n\n.row .tools-bar{\n  flex-direction: column;\n  height: 84px;\n  width: auto;\n  padding-bottom: 0.5rem;\n}\n\n.tool-item{\n  width: 30px;\n  height: 30px;\n  display: flex;\n  padding: 5px;\n  margin: 1px;\n  border-radius: 5px;\n}\n\n.tool-item-fullscreen{\n  width: 84px;\n  height: 40px;\n  padding: 5px;\n  margin: 1px;\n  margin-top: 20px;\n  border-radius:5px;\n  position: relative;\n}\n\n.tool-item-fullscreen .color{\n  width: 30px;\n  height: 30px;\n  top:50%;\n  left: 50%;\n  position: absolute;\n  border: 2px solid var(--fontNormal);\n}\n.tool-item-fullscreen .color.front{\n  transform: translate(calc(-50% - 8px),calc(-50% - 8px));\n}\n\n.tool-item-fullscreen .color.back{\n  transform: translate(calc(-50% + 8px),calc(-50% + 8px));\n}\n\n\n\n\n.tool-item-svg {\n  width: 30px !important;\n  height: 30px !important;\n}\n\n.tool-item:hover , .tool-item.active{\n  background-color: var(--white-highlight);\n}\n.tool-item img{\n  width: 30px;\n  height: 30px;\n}\n\n.tool-setting-bar {\n  height: 30px;\n  border-bottom: var(--box-border);\n  display: flex;\n  justify-content: space-between;\n  font-size: 14px;\n  align-items: center;\n}\n.tool-setting-bar > div{\n  display: flex;\n  height: 100%\n}\n.work-area{\n  margin: 0 -30px;\n  display: flex;\n  flex-direction: column;\n/*  width: calc(100% + 60px);*/\n  overflow: hidden;\n  height: calc(100vh - 91px);\n  position: relative;\n\n}\n\n.work-area > div{\n  padding: 0 5px;\n}\n\n.work-area .middle{\n  flex: 1;\n  position: relative;\n  display: flex;\n  justify-content: space-around;\n  overflow: auto;\n  border-left: var(--box-border);\n  user-select: none;\n  padding: 0;\n\n}\n\n.work-area .right{\n  border-left: var(--box-border);\n  width: 180px\n}\n\n.overview {\n  width: 180px;\n  height: 140px;\n  background-color: var(--canvas-bgc);\n  display: flex;\n  justify-content: center;\n  position: relative;\n  overflow: hidden;\n}\n\n\n\n.viewport{\n  position: absolute;\n  width: 20px;\n  height: 30px;\n  background-color: transparent;\n  border: 1px solid #425aef;\n  box-shadow: 0 0 0 5000px rgba(0, 0, 0, 0.3); /* 创建透明区域 */\n  z-index: 2;\n}\n\n.overview-tools{\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n\n.icon-item-box{\n  position: relative;\n}\n\n\n.icon-item {\n  padding:2px;\n  width:26px;\n  height: 26px;\n}\n\n.icon-item:hover {\n  background-color: var(--white-highlight);\n}\n\n.size-setting {\n  position: absolute;\n  background-color: var(--box-bgc);\n  border: var(--box-border);\n  right: 0;\n  top: 30px;\n  border-radius: 8px;\n  padding: 8px;\n  z-index: 999;\n  opacity: 0;\n  transform: translateY(15%);\n  transition: opacity 0.5s ease,transform 0.5s ease;\n  pointer-events: none;\n\n}\n\n.size-setting.show{\n  pointer-events: all;\n  opacity: 1;\n  transform: translateY(0)\n}\n\n.size-setting .size{\n  display: flex;\n  width: 140px;\n  align-items: center;\n}\n\n.size-setting .size > input {\n  width: 40px;\n}\n\n.tool-option {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  margin: 2px;\n}\n\n.tool-option .label{\n  font-size: 15px;\n  line-height: 15px;\n}\n\n.tool-option input[type='range']{\n  width: 90px;\n  height: 15px;\n}\n\n.drop-down-option{\n  width: 120px;\n  padding: 5px;\n  cursor: pointer;\n}\n\n.drop-down-option:hover{\n  background-color: var(--white-highlight)\n}\n\n.gridstyle{\n  background: linear-gradient(\n      -45deg,\n      var(--canvas-grid-gray) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--canvas-grid-gray) 75%,\n      var(--canvas-grid-gray) 100%\n    ),\n    linear-gradient(\n      -45deg,\n      var(--canvas-grid-gray) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--canvas-grid-gray) 75%,\n      var(--canvas-grid-gray) 100%\n    );\n  background-color: var(--canvas-grid-bgc);\n}\n\n.color-tools {\n  display: flex;\n  flex-wrap: wrap;\n  user-select: none;\n  position: relative;\n}\n\n\n.color-item {\n  width: 28px;\n  height: 28px;\n  margin: 1px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  position: relative;\n  box-shadow: inset 0px 0px 0px 1px var(--fontNormal)\n}\n\n.color-item-svg {\n  width: 20px !important;\n}\n\n.color-item.active {\n  box-shadow: inset 0px 0px 0px 2px rgb(255, 255, 255);\n}\n\n.color-item:hover {\n  box-shadow: inset 0px 0px 0px 2px var(--fontNormal);\n}\n\n.color-item.delete {\n  width:100%;\n  height: 50px;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  cursor: auto;\n}\n\n.color-item.delete.show{\n  opacity: 1;\n}\n\n.color-item.delete:hover , .color-item.draged:hover{\n  box-shadow:none;\n}\n\n.color-item.draged {\n  opacity: 0.5;\n  position: absolute;\n  z-index: 99;\n  pointer-events: none;\n  box-shadow: inset 0px 0px 0px 2px var(--fontNormal)\n}\n\n.colorInput-hidden {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n/*  display: none;*/\n\n}\n\n.gif-tools-box {\n  background: var(--modal-bgc);\n  position: fixed;\n  width: 100%;\n/*  height: 100px;*/\n  bottom: 0;\n  z-index: 9;\n  flex-shrink: 0;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: 0.3s ease;\n  transform: translateY(100%);\n  opacity: 0;\n  padding: 10px!important;\n}\n\n.gif-tools-box.show {\n  opacity: 1;\n  transform: translateY(0);\n}\n\n.gif-tools{\n  width: 100%;\n  display: flex;\n  align-items: center;\n  overflow: auto;\n  padding: 2px 0;\n}\n.gif-tools > canvas,.addcanvas{\n  margin: 0 5px;\n  height: 60px;\n}\n\n.gifCanvas {\n  background:var(--canvas-grid-bgc);\n}\n\n.currentGifCanvas {\n  outline:2px solid var(--main-color);\n}\n\n.addcanvas{\n  width: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 2rem;\n}\n\n.gif-tools-item {\n  margin: 0 0.8rem;\n}\n\n</style>\n","import { render } from \"./pixelSvgEditor.vue?vue&type=template&id=d72f48ea&scoped=true\"\nimport script from \"./pixelSvgEditor.vue?vue&type=script&lang=js\"\nexport * from \"./pixelSvgEditor.vue?vue&type=script&lang=js\"\n\nimport \"./pixelSvgEditor.vue?vue&type=style&index=0&id=d72f48ea&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d72f48ea\"]])\n\nexport default __exports__"],"names":["f","module","exports","e","t","n","r","s","o","u","a","i","Error","code","l","call","length","require","EventEmitter","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","err","context","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","key","ret","listenerCount","evlistener","emitter","UA","browser","mode","platform","ua","navigator","userAgent","toLowerCase","match","document","documentMode","name","version","parseFloat","parseInt","GIF","extend","child","parent","hasProp","ctor","constructor","__super__","hasOwnProperty","indexOf","item","superClass","defaults","frameDefaults","options","base","value","running","frames","freeWorkers","activeWorkers","setOptions","workerScript","workers","repeat","background","quality","width","height","transparent","debug","dither","delay","copy","setOption","_canvas","results","addFrame","image","frame","ImageData","data","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","childNodes","getImageData","render","j","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","log","terminate","Math","min","forEach","_this","Worker","onmessage","event","frameFinished","index","finishRendering","k","len1","len2","len3","offset","page","ref1","ref2","pageSize","cursor","round","Uint8Array","set","Blob","task","getTask","postMessage","ctx","createElement","getContext","setFill","fillRect","drawImage","last","canTransfer","events","isCallable","$String","String","$TypeError","argument","ArrayBuffer","DataView","NAME","Constructor","Prototype","NATIVE_ARRAY_BUFFER","DESCRIPTORS","global","hasOwn","classof","tryToString","createNonEnumerableProperty","defineBuiltIn","defineBuiltInAccessor","isPrototypeOf","getPrototypeOf","setPrototypeOf","wellKnownSymbol","uid","InternalStateModule","enforceInternalState","enforce","getInternalState","get","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","Object","TO_STRING_TAG","TYPED_ARRAY_TAG","TYPED_ARRAY_CONSTRUCTOR","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQUIRED","TypedArrayConstructorsList","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isView","it","klass","getTypedArrayConstructor","proto","state","isTypedArray","aTypedArray","aTypedArrayConstructor","C","exportTypedArrayMethod","KEY","property","forced","ARRAY","TypedArrayConstructor","error2","exportTypedArrayStaticMethod","Function","configurable","this","lengthOfArrayLike","result","O","A","toIntegerOrInfinity","$RangeError","RangeError","relativeIndex","actualIndex","TO_STRING_TAG_SUPPORT","classofRaw","$Object","CORRECT_ARGUMENTS","tryGet","tag","callee","fails","F","makeBuiltIn","defineProperty","target","descriptor","getter","setter","uncurryThis","aCallable","object","method","getOwnPropertyDescriptor","toObject","sharedKey","CORRECT_PROTOTYPE_GETTER","IE_PROTO","uncurryThisAccessor","anObject","aPossiblePrototype","CORRECT_SETTER","test","__proto__","toPrimitive","prim","BigInt","passed","required","arrayToReversed","ArrayBufferViewCore","arrayFromConstructorAndList","sort","compareFn","arrayWith","isBigIntArray","toBigInt","PROPER_ORDER","valueOf","actualValue","toString","validateArgumentsLength","$URLSearchParams","URLSearchParams","URLSearchParamsPrototype","append","$delete","params","$value","entries","v","entry","dindex","found","entriesLength","enumerable","unsafe","getAll","$has","has","values","count","_createElementVNode","class","_hoisted_1","_createElementBlock","_normalizeClass","$data","dragedel","style","$props","dragable","onPointerdown","_cache","$event","$options","dragdown","onPointerup","dragup","_hoisted_3","_renderSlot","_ctx","$slots","props","modalKey","Boolean","default","modeless","draged","disx","disy","left","top","methods","$refs","modal","pageX","offsetLeft","pageY","offsetTop","addEventListener","dragmove","maxLeft","parentElement","clientWidth","maxTop","clientHeight","bottom","right","removeEventListener","__exports__","selectShow","onClick","openSelect","dataList","currIndex","_createVNode","_component_svg_icon","size","_Fragment","_renderList","changeIndex","_hoisted_2","mounted","unmounted","closeSelect","selectBox","contains","$emit","_component_my_model","show","modal_show","newFileModalShow","newFileForm","rows","_hoisted_4","cols","_hoisted_5","_hoisted_6","_normalizeStyle","fontSize","border","marginRight","_hoisted_8","_hoisted_9","_hoisted_10","gridSize","_hoisted_11","_hoisted_12","outputSize","_hoisted_13","newFile","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_toDisplayString","penSize","max","_hoisted_18","gifToolsShow","toolsShow","undo","dropDown","_hoisted_19","dropDownBoxShow","sizeSettingShow","_hoisted_20","_hoisted_21","_hoisted_22","downloadShow","saveAsSvg","copySvgCode","saveAsPng","saveAsGif","_hoisted_23","_hoisted_24","_component_auDraged","_hoisted_25","tool","switchTool","className","clearAll","openFileInput","id","onChange","importImg","accept","_hoisted_26","backgroundColor","bkgColor","currentColor","addColor","onPointermove","handlePointerMove","handlePointerUp","onWheel","zoomWheel","_hoisted_27","coordinate","handlePointerDown","canvasStyle","_hoisted_29","dragViewportMove","dragViewportUp","overviewStyle","overviewSize","dragViewportDown","_hoisted_31","zoomIn","zoomOut","scaleCount","onInput","resizeViewport","zoomFit","_component_au_select","changeMyColor","handleMove","_hoisted_32","dragedColorIndex","myColors","color","handleStart","handleEnd","_hoisted_34","_hoisted_35","step","threshold","imgToPixel","adjustImg","_hoisted_36","gifImageDataIndex","startAnimate","stopAnimate","changeSpeed","animateFps","animateFpsIndex","pushGifImgList","deleteGifImgList","saveGifNPngToFolder","gifImageDataList","_hoisted_37","putGifImage2MainCanvas","defaultColors","pix8Colors","colorIndex","isDrawing","pixels","endPoints","x","y","maincanvas","ovCtx","historys","shiftdown","dropDownBox","minScaleCount","viewport","selectedRect","offscreenCanvas","selectedImgData","selectedBgData","isDragingSelectRect","selectRectAnimateId","pressTimer","animateId","animateStartTime","animateSpeed","imgToPixelTools","imgPointList","components","auSelect","auDraged","computed","backgroundSize","backgroundPosition","scale","init","window","handleKeyDown","handleKeyUp","realViewport","viewportScroll","closeDropDownBox","floor","setTimeout","el","dragedEl","dragedColor","clearTimeout","selectColor","colorTem","colorDom","currentTarget","colorValue","includes","cancelAnimationFrame","showLastHistory","updateOverview","clearRect","keyname","keys","PointerEvent","canvas","overview","canvas_overview","lineWidth","addHistory","getMinScale","getPoint","clientX","clientY","clearPixel","drawPixel","fillStyle","fillArea","beginPath","rect","closePath","isPointInPath","putImageData","offscreenCtx","requestAnimationFrame","dashedRectAnimate","strokeStyle","currPoint","drawLine","drawRect","drawPixelEllipse","select","overMove","start","end","abs","drawDashedRect","lineDashOffset","setLineDash","strokeRect","selectSave","point","dx","dy","sx","sy","e2","rightUp","leftDown","deltaX","deltaY","sideLength","xc","rx","drx","yc","ry","d1","ceil","drawEllipsePoints","d2","startPoint","targetColor","getColorAtPixel","fillColor","hexToArgb","colorsMatch","stack","visited","Set","pop","add","hex","bigint","color1","color2","isRectEqual","rect1","rect2","getBoundingClientRect","history","imageData","updateGifImage","getPixelVector","pixel","pixelSize","b","x1","x2","x3","x4","point2Num","getpathContent","pixelData","pathLists","pointWithNextPoints","Map","pixelVectors","vector","nextPoints","findSameVector","delete","newValue","findPath","path","nextPoint","newkey","next","newstart","pathContent","colorWithPath","num2Point","num","pathList","p1","direction","p2","colorKey","colorPath","getSvgContent","filled","svgContent","content","copyToClipboard","blob","url","URL","createObjectURL","link","href","download","click","revokeObjectURL","toDataURL","$toast","imageDataArray","gif","process","BASE_URL","clipboard","writeText","leftmax","topmax","scrollLeft","scrollTop","preventDefault","Number","$nextTick","viewportWidth","viewportHeight","viewportTop","viewportLeft","that","gifCanvas","canvasBefore","canvasNext","Date","getTime","updateMainCanvasAnimate","nowTime","deltaTime","imageDataToBlob","Promise","resolve","toBlob","dirHandle","showDirectoryPicker","fileName","fileHandle","getFileHandle","create","writable","createWritable","write","close","getElementById","file","files","startsWith","reader","FileReader","onload","img","Image","src","readAsDataURL","alert","y1","processColors","colorArray","colorList","colorDistance","rgba1","rgba2","r1","g1","b1","a1","r2","g2","b2","a2","sqrt","pow","averageColor","resultArray","JSON","parse","stringify","currColor","findFlag","average"],"sourceRoot":""}