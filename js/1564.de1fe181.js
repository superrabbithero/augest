"use strict";(self["webpackChunkaugest"]=self["webpackChunkaugest"]||[]).push([[1564],{1564:function(s,a,l){l.r(a),l.d(a,{default:function(){return h}});var n=l(9812);const t=s=>((0,n.dD)("data-v-c6a31cde"),s=s(),(0,n.Cn)(),s),c=t((()=>(0,n._)("html",null,[(0,n._)("head"),(0,n._)("body",null,[(0,n._)("h3",null,"前言"),(0,n._)("p",null,[(0,n.Uk)("之前写了一个像素图标编辑器，生成svg图标保存在"),(0,n._)("code",null,"/icon"),(0,n.Uk)("路径下使用，就有两个问题：")]),(0,n._)("pre",null,[(0,n._)("code",{"v-pre":""},"问题1.如果使用`<img>`标签引入svg图标，则不能使用svg中currentColor属性自定义图标颜色  \n问题2.如果使用`<svg>`标签直接引入svg图标，则不方便使用，且代码看上去很不好看  \n")]),(0,n._)("p",null,[(0,n.Uk)("然后就查了资料，选择"),(0,n._)("code",null,"svg-sprite-loader"),(0,n.Uk)("来管理svg图标，这样可以在项目中直接使用svg的文件名来引用图标，非常方便。")]),(0,n._)("h3",null,"使用方法"),(0,n._)("h4",null,"安装svg-sprite-loader依赖"),(0,n._)("p",null,"将依赖包安装到devDependencies"),(0,n._)("pre",null,[(0,n._)("code",{"v-pre":""},"yarn add -d svg-sprite-loader\n")]),(0,n._)("h4",null,"配置vue.config.js"),(0,n._)("p",null,[(0,n.Uk)("通过webpack将指定目录下的svg文件进行处理，生成雪碧图，通过"),(0,n._)("code",null,"symbolId"),(0,n.Uk)("获得svg路径，用"),(0,n._)("code",null,"<use>"),(0,n.Uk)("标签绘制出来")]),(0,n._)("pre",null,[(0,n._)("code",{"v-pre":"",class:"language-javascript"},[(0,n._)("span",{class:"hljs-attr"},"chainWebpack"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-function"},[(0,n.Uk)("("),(0,n._)("span",{class:"hljs-params"},"config"),(0,n.Uk)(") =>")]),(0,n.Uk)(" {\n    "),(0,n._)("span",{class:"hljs-comment"},"// 清除默认的 svg 处理器"),(0,n.Uk)("\n    "),(0,n._)("span",{class:"hljs-keyword"},"const"),(0,n.Uk)(" svgRule = config."),(0,n._)("span",{class:"hljs-property"},"module"),(0,n.Uk)("."),(0,n._)("span",{class:"hljs-title function_"},"rule"),(0,n.Uk)("("),(0,n._)("span",{class:"hljs-string"},"'svg'"),(0,n.Uk)(");\n    svgRule."),(0,n._)("span",{class:"hljs-property"},"exclude"),(0,n.Uk)("."),(0,n._)("span",{class:"hljs-title function_"},"add"),(0,n.Uk)("(path."),(0,n._)("span",{class:"hljs-title function_"},"resolve"),(0,n.Uk)("("),(0,n._)("span",{class:"hljs-string"},"'src/icons'"),(0,n.Uk)("))."),(0,n._)("span",{class:"hljs-title function_"},"end"),(0,n.Uk)("()\n\n    "),(0,n._)("span",{class:"hljs-keyword"},"const"),(0,n.Uk)(" iconSvgRule = config."),(0,n._)("span",{class:"hljs-property"},"module"),(0,n.Uk)("."),(0,n._)("span",{class:"hljs-title function_"},"rule"),(0,n.Uk)("("),(0,n._)("span",{class:"hljs-string"},"'icons'"),(0,n.Uk)(")\n    iconSvgRule\n      ."),(0,n._)("span",{class:"hljs-title function_"},"test"),(0,n.Uk)("("),(0,n._)("span",{class:"hljs-regexp"},"/\\.svg$/"),(0,n.Uk)(")\n      ."),(0,n._)("span",{class:"hljs-property"},"include"),(0,n.Uk)("."),(0,n._)("span",{class:"hljs-title function_"},"add"),(0,n.Uk)("(path."),(0,n._)("span",{class:"hljs-title function_"},"resolve"),(0,n.Uk)("("),(0,n._)("span",{class:"hljs-string"},"'src/icons'"),(0,n.Uk)("))\n      ."),(0,n._)("span",{class:"hljs-title function_"},"end"),(0,n.Uk)("()\n      ."),(0,n._)("span",{class:"hljs-title function_"},"use"),(0,n.Uk)("("),(0,n._)("span",{class:"hljs-string"},"'svg-sprite-loader'"),(0,n.Uk)(")\n      ."),(0,n._)("span",{class:"hljs-title function_"},"loader"),(0,n.Uk)("("),(0,n._)("span",{class:"hljs-string"},"'svg-sprite-loader'"),(0,n.Uk)(")\n      ."),(0,n._)("span",{class:"hljs-title function_"},"options"),(0,n.Uk)("({\n        "),(0,n._)("span",{class:"hljs-attr"},"symbolId"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-string"},"'icon-[name]'"),(0,n.Uk)("\n      })\n      ."),(0,n._)("span",{class:"hljs-title function_"},"end"),(0,n.Uk)("()\n  },\n")])]),(0,n._)("p",null,"这里遇到一个问题，使用vue3的default配置，总是无法移除默认的svg处理器，导致调用失败，使用上述配置才可以成功。"),(0,n._)("h4",null,"创建svg组件并调用"),(0,n._)("p",null,"写一个简单的svg组件"),(0,n._)("pre",null,[(0,n._)("code",{"v-pre":"",class:"language-html"},[(0,n._)("span",{class:"hljs-tag"},[(0,n.Uk)("<"),(0,n._)("span",{class:"hljs-name"},"template"),(0,n.Uk)(">")]),(0,n.Uk)("\n  "),(0,n._)("span",{class:"hljs-tag"},[(0,n.Uk)("<"),(0,n._)("span",{class:"hljs-name"},"svg"),(0,n.Uk)(),(0,n._)("span",{class:"hljs-attr"},":class"),(0,n.Uk)("="),(0,n._)("span",{class:"hljs-string"},'"svgClass"'),(0,n.Uk)(),(0,n._)("span",{class:"hljs-attr"},"aria-hidden"),(0,n.Uk)("="),(0,n._)("span",{class:"hljs-string"},'"true"'),(0,n.Uk)(),(0,n._)("span",{class:"hljs-attr"},":style"),(0,n.Uk)("="),(0,n._)("span",{class:"hljs-string"},'"svgStyle"'),(0,n.Uk)(">")]),(0,n.Uk)("\n    "),(0,n._)("span",{class:"hljs-tag"},[(0,n.Uk)("<"),(0,n._)("span",{class:"hljs-name"},"use"),(0,n.Uk)(),(0,n._)("span",{class:"hljs-attr"},":xlink:href"),(0,n.Uk)("="),(0,n._)("span",{class:"hljs-string"},'"iconName"'),(0,n.Uk)(" />")]),(0,n.Uk)("\n  "),(0,n._)("span",{class:"hljs-tag"},[(0,n.Uk)("</"),(0,n._)("span",{class:"hljs-name"},"svg"),(0,n.Uk)(">")]),(0,n.Uk)("\n"),(0,n._)("span",{class:"hljs-tag"},[(0,n.Uk)("</"),(0,n._)("span",{class:"hljs-name"},"template"),(0,n.Uk)(">")]),(0,n.Uk)("\n\n"),(0,n._)("span",{class:"hljs-tag"},[(0,n.Uk)("<"),(0,n._)("span",{class:"hljs-name"},"script"),(0,n.Uk)(">")]),(0,n._)("span",{class:"language-javascript"},[(0,n.Uk)("\n"),(0,n._)("span",{class:"hljs-keyword"},"export"),(0,n.Uk)(),(0,n._)("span",{class:"hljs-keyword"},"default"),(0,n.Uk)(" {\n  "),(0,n._)("span",{class:"hljs-attr"},"props"),(0,n.Uk)(": {\n    "),(0,n._)("span",{class:"hljs-attr"},"name"),(0,n.Uk)(": {\n      "),(0,n._)("span",{class:"hljs-attr"},"type"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-title class_"},"String"),(0,n.Uk)(","),(0,n._)("span",{class:"hljs-comment"},"//文件名"),(0,n.Uk)("\n      "),(0,n._)("span",{class:"hljs-attr"},"required"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-literal"},"true"),(0,n.Uk)("\n    },\n    "),(0,n._)("span",{class:"hljs-attr"},"className"),(0,n.Uk)(": {\n      "),(0,n._)("span",{class:"hljs-attr"},"type"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-title class_"},"String"),(0,n.Uk)(","),(0,n._)("span",{class:"hljs-comment"},"//自定义样式类名"),(0,n.Uk)("\n      "),(0,n._)("span",{class:"hljs-attr"},"default"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-string"},"''"),(0,n.Uk)("\n    },\n    "),(0,n._)("span",{class:"hljs-attr"},"fill"),(0,n.Uk)(": {\n      "),(0,n._)("span",{class:"hljs-attr"},"type"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-title class_"},"String"),(0,n.Uk)(","),(0,n._)("span",{class:"hljs-comment"},"//像素填充色"),(0,n.Uk)("\n      "),(0,n._)("span",{class:"hljs-attr"},"default"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-string"},'"auto"'),(0,n.Uk)("\n    },\n    "),(0,n._)("span",{class:"hljs-attr"},"size"),(0,n.Uk)(": {\n      "),(0,n._)("span",{class:"hljs-attr"},"type"),(0,n.Uk)(": ["),(0,n._)("span",{class:"hljs-title class_"},"Number"),(0,n.Uk)(", "),(0,n._)("span",{class:"hljs-title class_"},"String"),(0,n.Uk)("],"),(0,n._)("span",{class:"hljs-comment"},"//自定义图标尺寸"),(0,n.Uk)("\n      "),(0,n._)("span",{class:"hljs-attr"},"default"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-number"},"25"),(0,n.Uk)("\n    }\n  },\n  "),(0,n._)("span",{class:"hljs-attr"},"computed"),(0,n.Uk)(": {\n    "),(0,n._)("span",{class:"hljs-title function_"},"iconName"),(0,n.Uk)("("),(0,n._)("span",{class:"hljs-params"}),(0,n.Uk)(") {\n      "),(0,n._)("span",{class:"hljs-keyword"},"return"),(0,n.Uk)(),(0,n._)("span",{class:"hljs-string"},[(0,n.Uk)("`#icon-"),(0,n._)("span",{class:"hljs-subst"},[(0,n.Uk)("${"),(0,n._)("span",{class:"hljs-variable language_"},"this"),(0,n.Uk)(".name}")]),(0,n.Uk)("`")]),(0,n.Uk)(";\n    },\n    "),(0,n._)("span",{class:"hljs-title function_"},"svgClass"),(0,n.Uk)("("),(0,n._)("span",{class:"hljs-params"}),(0,n.Uk)(") {\n      "),(0,n._)("span",{class:"hljs-keyword"},"if"),(0,n.Uk)(" ("),(0,n._)("span",{class:"hljs-variable language_"},"this"),(0,n.Uk)("."),(0,n._)("span",{class:"hljs-property"},"className"),(0,n.Uk)(") {\n        "),(0,n._)("span",{class:"hljs-keyword"},"return"),(0,n.Uk)(),(0,n._)("span",{class:"hljs-string"},"'svg-icon '"),(0,n.Uk)(" + "),(0,n._)("span",{class:"hljs-variable language_"},"this"),(0,n.Uk)("."),(0,n._)("span",{class:"hljs-property"},"className"),(0,n.Uk)(";\n      } "),(0,n._)("span",{class:"hljs-keyword"},"else"),(0,n.Uk)(" {\n        "),(0,n._)("span",{class:"hljs-keyword"},"return"),(0,n.Uk)(),(0,n._)("span",{class:"hljs-string"},"'svg-icon'"),(0,n.Uk)(";\n      }\n    },\n    "),(0,n._)("span",{class:"hljs-title function_"},"svgStyle"),(0,n.Uk)("("),(0,n._)("span",{class:"hljs-params"}),(0,n.Uk)(") {\n      "),(0,n._)("span",{class:"hljs-keyword"},"return"),(0,n.Uk)(" {\n        "),(0,n._)("span",{class:"hljs-attr"},"width"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-string"},[(0,n.Uk)("`"),(0,n._)("span",{class:"hljs-subst"},[(0,n.Uk)("${"),(0,n._)("span",{class:"hljs-variable language_"},"this"),(0,n.Uk)(".size}")]),(0,n.Uk)("px`")]),(0,n.Uk)(",\n        "),(0,n._)("span",{class:"hljs-attr"},"height"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-string"},[(0,n.Uk)("`"),(0,n._)("span",{class:"hljs-subst"},[(0,n.Uk)("${"),(0,n._)("span",{class:"hljs-variable language_"},"this"),(0,n.Uk)(".size}")]),(0,n.Uk)("px`")]),(0,n.Uk)(",\n        "),(0,n._)("span",{class:"hljs-attr"},"color"),(0,n.Uk)(": "),(0,n._)("span",{class:"hljs-string"},[(0,n.Uk)("`"),(0,n._)("span",{class:"hljs-subst"},[(0,n.Uk)("${"),(0,n._)("span",{class:"hljs-variable language_"},"this"),(0,n.Uk)(".fill}")]),(0,n.Uk)("`")]),(0,n.Uk)("\n      }\n    }\n\n  }\n};\n")]),(0,n._)("span",{class:"hljs-tag"},[(0,n.Uk)("</"),(0,n._)("span",{class:"hljs-name"},"script"),(0,n.Uk)(">")]),(0,n.Uk)("\n\n"),(0,n._)("span",{class:"hljs-tag"},[(0,n.Uk)("<"),(0,n._)("span",{class:"hljs-name"},"style"),(0,n.Uk)(),(0,n._)("span",{class:"hljs-attr"},"scoped"),(0,n.Uk)(">")]),(0,n._)("span",{class:"language-css"},[(0,n.Uk)("\n"),(0,n._)("span",{class:"hljs-selector-class"},".svg-icon"),(0,n.Uk)(" {\n  "),(0,n._)("span",{class:"hljs-attribute"},"vertical-align"),(0,n.Uk)(": middle;\n  fill: currentColor;\n}\n")]),(0,n._)("span",{class:"hljs-tag"},[(0,n.Uk)("</"),(0,n._)("span",{class:"hljs-name"},"style"),(0,n.Uk)(">")]),(0,n.Uk)("\n\n")])]),(0,n._)("p",null,"然后再需要使用的地方导入组件并引用就行了")])],-1))),e=[c];function p(s,a,l,t,c,p){return(0,n.wg)(),(0,n.iD)("section",null,e)}var _={props:{name:{type:String,required:!0},className:{type:String,default:""},fill:{type:String,default:"auto"},size:{type:[Number,String],default:25}},computed:{iconName(){return`#icon-${this.name}`},svgClass(){return this.className?"svg-icon "+this.className:"svg-icon"},svgStyle(){return{width:`${this.size}px`,height:`${this.size}px`,color:`${this.fill}`}}}},k=l(8998);const r=(0,k.Z)(_,[["render",p],["__scopeId","data-v-c6a31cde"]]);var h=r}}]);
//# sourceMappingURL=1564.de1fe181.js.map