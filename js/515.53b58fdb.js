"use strict";(self["webpackChunkaugest"]=self["webpackChunkaugest"]||[]).push([[515],{7186:function(s,e,t){t.r(e),t.d(e,{default:function(){return xs}});var n=t(9812),i=t(4220),o=t(5893);const a={class:"header",style:{background:"var(--content-bgc)"}},r={class:"head-item",style:{"margin-left":"auto"}},l={class:"buttonbox"},c={class:"head-item",style:{"margin-left":"auto"}},u={class:"exampaperbox"},p={class:"answercard",style:{flex:"1"}},h={class:"fillcard"},d={class:"fill-type",style:{"flex-basis":"100%"}},w=["onClick"],m={class:"circle-groups"},_={class:"circle-groups-item"},x=["onClick"],v={class:"fill-option"},C=["onClick"],g={class:"exampaperbox-right",ref:"right"},y={class:"exampaper"},k=["onClick"],f={class:"question_content"},D=["id"],b=["innerHTML"],T={key:0,class:"question_options"},L={class:"question_options_group"},I=["onClick","innerHTML"],q=["onClick","innerHTML"],H={class:"question_options_group"},A=["onClick","innerHTML"],M=["onClick","innerHTML"],N=["onClick"],j={class:"question_content"},J=["id"],$=["innerHTML"],K={class:"question_options"},z={class:"question_options_group"},Q=["onClick","innerHTML"],Y=["onClick","innerHTML"],B={class:"question_options_group"},F=["onClick","innerHTML"],S=["onClick","innerHTML"],E={class:"exampaperbox-bottom",ref:"bottom"},W={class:"fillcard"},O={class:"fill-type",style:{"flex-basis":"100%"}},R=["onClick"],P={class:"circle-groups"},U={class:"circle-groups-item"},Z=["onClick"],V={class:"report step1"},X={key:0,class:"report-content center"},G={key:1,class:"report-content center"},ss={class:"report-content center"},es={class:"report step2"},ts={class:"report-content"},ns={class:"report-content"},is={class:"report-content"},os={class:"fillcard"},as={class:"fill-type",style:{"flex-basis":"100%"}},rs=["onClick"],ls={class:"circle-groups"},cs={class:"circle-groups-item"},us=["onClick"];function ps(s,e,t,ps,hs,ds){const ws=(0,n.up)("svg-icon"),ms=(0,n.up)("timer"),_s=(0,n.up)("IconWrapper"),xs=(0,n.up)("pencanvas"),vs=(0,n.up)("my-model");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",a,[(0,n._)("div",{class:"head-item",onClick:e[0]||(e[0]=(...s)=>ds.goback&&ds.goback(...s)),id:"menuicon"},[(0,n.Wm)(ws,{name:"arrow-left"})]),(0,n._)("div",r,[(0,n.wy)((0,n._)("div",{onClick:e[1]||(e[1]=s=>ds.examstart()),class:"pagetitle",style:{cursor:"pointer"}},"开始考试",512),[[i.F8,0==hs.examstatus]]),(0,n.wy)((0,n._)("div",{onClick:e[2]||(e[2]=s=>ds.exampause()),class:"examtimer",style:{cursor:"pointer"}},[(0,n._)("div",l,[(0,n.Wm)(ms,{ref:"examtimer",class:"examtimer"},null,512)])],512),[[i.F8,hs.examstatus>0]])]),(0,n._)("div",c,[(0,n.wy)((0,n._)("button",{class:"button-item",onClick:e[3]||(e[3]=s=>ds.openReport())},"交卷",512),[[i.F8,0!=hs.examstatus]]),(0,n.Wm)(ws,{class:(0,o.C_)({"button-item":!0,active:hs.pencanvas_show}),onClick:ds.showPenCanvas,name:"canvas02"},null,8,["class","onClick"]),(0,n.Wm)(ws,{class:(0,o.C_)({"button-item":!0,active:!hs.exampaperbox_expand}),onClick:ds.exampaperboxExpand,name:"answerCard"},null,8,["class","onClick"]),(0,n.Wm)(ws,{class:"button-item",onClick:ds.gotoAnalysis,name:"bulb02"},null,8,["onClick"]),(0,n.Wm)(ws,{class:"button-item",onClick:ds.changeStyle,name:"dark"},null,8,["onClick"])])]),(0,n._)("div",{class:(0,o.C_)({"pause-screen":!0,show:2==hs.examstatus})},[(0,n.Wm)(_s,{class:"pause",iconName:"Play",onClick:e[4]||(e[4]=s=>ds.examstart()),theme:"filled",size:100})],2),(0,n._)("div",u,[(0,n._)("div",{class:(0,o.C_)({"exampaperbox-left":!0,expand:hs.exampaperbox_expand}),ref:"left"},[(0,n._)("div",p,[(0,n._)("div",h,[(0,n._)("ul",d,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(hs.questionTypeList,((s,e)=>((0,n.wg)(),(0,n.iD)("li",{class:(0,o.C_)({active:hs.currQTypeIndex==e}),onClick:s=>ds.switchType(e)},(0,o.zw)(s),11,w)))),256))]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(hs.answers,((s,e)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",m,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(s),((e,t)=>((0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("div",{class:(0,o.C_)({circle:!0,answered:s[e].mine,current:e==hs.currentNum}),onClick:s=>ds.rollTo(e)},(0,o.zw)(e),11,x)])))),256))],512)),[[i.F8,hs.currQTypeIndex==e]]))),256)),(0,n._)("div",v,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(["A","B","C","D"],((s,e)=>(0,n._)("div",{class:(0,o.C_)({item:!0,selected:hs.stuAnswerList[hs.currentNum]==s}),onClick:e=>ds.answer(s)},(0,o.zw)(s),11,C))),64))])])])],2),(0,n._)("div",g,[(0,n._)("div",y,[(0,n.Wm)(xs,{show:hs.pencanvas_show,switch:hs.currQTypeIndex},null,8,["show","switch"]),((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(["一、常识判断","二、言语理解","三、数量关系","四、推理判断","五、资料分析"],((s,e)=>(0,n.wy)((0,n._)("h3",null,(0,o.zw)(s),513),[[i.F8,hs.currQTypeIndex==e]]))),64)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(hs.questions,((s,e)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s,((s,e)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)({question:!0,active:!hs.pencanvas_show&&!s.sub_questions&&s.no==hs.currentNum}),onClick:e=>hs.currentNum=s.sub_questions?hs.currentNum:parseInt(s.no)},[(0,n._)("div",f,[s.sub_questions?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",{key:0,id:"ques_"+s.no},(0,o.zw)(s.no)+".",9,D)),(0,n._)("div",{innerHTML:" "+s.content},null,8,b)]),s.options?((0,n.wg)(),(0,n.iD)("div",T,[(0,n._)("div",L,[(0,n._)("div",{class:(0,o.C_)({option:!0,answered:"A"==hs.stuAnswerList[parseInt(s.no)]}),onClick:e=>ds.answerthis(parseInt(s.no),"A"),innerHTML:"A."+s.options[0]},null,10,I),(0,n._)("div",{class:(0,o.C_)({option:!0,answered:"B"==hs.stuAnswerList[parseInt(s.no)]}),onClick:e=>ds.answerthis(parseInt(s.no),"B"),innerHTML:"B."+s.options[1]},null,10,q)]),(0,n._)("div",H,[(0,n._)("div",{class:(0,o.C_)({option:!0,answered:"C"==hs.stuAnswerList[parseInt(s.no)]}),onClick:e=>ds.answerthis(parseInt(s.no),"C"),innerHTML:"C."+s.options[2]},null,10,A),(0,n._)("div",{class:(0,o.C_)({option:!0,answered:"D"==hs.stuAnswerList[parseInt(s.no)]}),onClick:e=>ds.answerthis(parseInt(s.no),"D"),innerHTML:"D."+s.options[3]},null,10,M)])])):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.sub_questions,(s=>((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)({question:!0,active:!hs.pencanvas_show&&s.no==hs.currentNum}),onClick:e=>hs.currentNum=parseInt(s.no)},[(0,n._)("div",j,[(0,n._)("span",{id:"ques_"+s.no},(0,o.zw)(s.no)+". ",9,J),(0,n._)("div",{innerHTML:" "+s.content},null,8,$)]),(0,n._)("div",K,[(0,n._)("div",z,[(0,n._)("div",{class:(0,o.C_)({option:!0,answered:"A"==hs.stuAnswerList[parseInt(s.no)]}),onClick:e=>ds.answerthis(parseInt(s.no),"A"),innerHTML:"A."+s.options[0]},null,10,Q),(0,n._)("div",{class:(0,o.C_)({option:!0,answered:"B"==hs.stuAnswerList[parseInt(s.no)]}),onClick:e=>ds.answerthis(parseInt(s.no),"B"),innerHTML:"B."+s.options[1]},null,10,Y)]),(0,n._)("div",B,[(0,n._)("div",{class:(0,o.C_)({option:!0,answered:"C"==hs.stuAnswerList[parseInt(s.no)]}),onClick:e=>ds.answerthis(parseInt(s.no),"C"),innerHTML:"C."+s.options[2]},null,10,F),(0,n._)("div",{class:(0,o.C_)({option:!0,answered:"D"==hs.stuAnswerList[parseInt(s.no)]}),onClick:e=>ds.answerthis(parseInt(s.no),"D"),innerHTML:"D."+s.options[3]},null,10,S)])])],10,N)))),256))],10,k)))),256))],512)),[[i.F8,hs.currQTypeIndex==e]]))),256))])],512),(0,n._)("div",E,[(0,n._)("div",{style:(0,o.j5)({lineHeight:"10px",padding:"0 10px",fontSize:"30px",transform:"rotate(90deg)"+(hs.exampaperbox_expand?"":" scaleX(-1)"),position:"absolute",top:"-10px"}),onClick:e[5]||(e[5]=s=>hs.exampaperbox_expand=!hs.exampaperbox_expand)}," › ",4),(0,n._)("div",W,[(0,n._)("ul",O,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(hs.questionTypeList,((s,e)=>((0,n.wg)(),(0,n.iD)("li",{class:(0,o.C_)({active:hs.currQTypeIndex==e}),onClick:s=>ds.switchType(e)},(0,o.zw)(s),11,R)))),256))]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(hs.answers,((s,e)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",P,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(s),((e,t)=>((0,n.wg)(),(0,n.iD)("div",U,[(0,n._)("div",{class:(0,o.C_)({circle:!0,answered:s[e].mine,current:e==hs.currentNum}),onClick:s=>ds.rollTo(e)},(0,o.zw)(e),11,Z)])))),256))],512)),[[i.F8,hs.exampaperbox_expand&&hs.currQTypeIndex==e]]))),256))])],512)]),(0,n.Wm)(vs,{show:hs.modal_show.report_show,modeless:!1,modalKey:"report_show"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",V,[ds.isFinished?((0,n.wg)(),(0,n.iD)("div",X," 已完成所有题目，用时"+(0,o.zw)(hs.timer)+"确认结束考试？ ",1)):((0,n.wg)(),(0,n.iD)("div",G," 还有题目未完成，是否确认结束考试？ ")),(0,n._)("div",ss,[(0,n._)("div",{class:"button",onClick:e[6]||(e[6]=s=>hs.modal_show.report_show=!1)},"取消"),(0,n._)("div",{class:"button",onClick:e[7]||(e[7]=s=>ds.examstop())},"确认")])],512),[[i.F8,1==hs.report_step]]),(0,n.wy)((0,n._)("div",es,[(0,n._)("div",ts," 正确率："+(0,o.zw)(ds.correctness)+"% ",1),(0,n._)("div",ns," 交卷时间："+(0,o.zw)(hs.reportDataJson.datetime),1),(0,n._)("div",is," 用时:"+(0,o.zw)(hs.reportDataJson.time),1),(0,n._)("div",os,[(0,n._)("ul",as,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(hs.questionTypeList,((s,e)=>((0,n.wg)(),(0,n.iD)("li",{class:(0,o.C_)({active:hs.currQTypeIndex==e}),onClick:s=>ds.switchType(e)},(0,o.zw)(s),11,rs)))),256))]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(hs.answers,((s,e)=>(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",ls,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(s),((e,t)=>((0,n.wg)(),(0,n.iD)("div",cs,[(0,n._)("div",{class:(0,o.C_)({circle:!0,right:s[e].mine==s[e].answer,wrong:s[e].mine&&s[e].mine!=s[e].answer,current:e==hs.currentNum}),onClick:s=>ds.rollTo(e)},(0,o.zw)(e),11,us)])))),256))],512)),[[i.F8,hs.currQTypeIndex==e]]))),256))])],512),[[i.F8,2==hs.report_step]])])),_:1},8,["show"])],64)}t(7658);var hs=t(5048),ds=t(4626),ws={components:{pencanvas:hs.Z,timer:ds.Z},computed:{correctness(){var s=0;return this.reportDataJson.correctCount.forEach((e=>{s+=e})),(s/this.questionCount*100).toFixed(2)},isFinished(){for(let s=1;s<this.questionCount;s++)if(!this.stuAnswerList[s])return!1;return!0}},data(){return{papername:this.$route.params.papername+".json",jsonData:null,questions:[],letters:["A.","B.","C.","D."],pencanvas_show:!1,stuAnswerList:[],currentNum:1,questionCount:null,questionTypeList:["常识","言语","数学","判推","资料"],currQTypeIndex:0,exampaperbox_expand:!0,examtimer:null,timer:"00:00:00",examstatus:0,answers:[{},{},{},{},{}],canvasWidth:0,canvasHeight:0,modal_show:{report_show:!1},report_step:1,reportDataJson:{correctCount:[],totalCount:[],time:"00:00:00",datetime:null}}},mounted(){this.loadJsonData().then((s=>{this.init(),this.TypeSet([document.getElementsByClassName("output")])})),window.addEventListener("beforeunload",this.handleBeforeUnload)},unmounted(){window.removeEventListener("beforeunload",this.handleBeforeUnload)},beforeRouteLeave(s,e,t){this.confirmLeave(s,e,t)},methods:{gotoAnalysis(){sessionStorage.setItem("currentAnswers",JSON.stringify({name:`${this.$route.params.papername}`,answerJson:this.answers})),sessionStorage.setItem("currentQuestions",JSON.stringify(this.jsonData)),this.$router.push(`/zhenti/analysis/${this.$route.params.papername}`)},confirmLeave(s,e,t){if(0!=this.examstatus){const s=window.confirm("考试进程中，直接离开会丢失当前草稿和答题内容");s?t():t(!1)}else t()},handleBeforeUnload(s){if(0!=this.examstatus){const e="考试进程中，直接离开会丢失当前草稿和答题内容";return s.returnValue=e,e}},async changeStyle(){this.$constants.DARK=!this.$constants.DARK,localStorage.setItem("isDark",this.$constants.DARK),this.$constants.DARK?document.body.classList.add("dark"):document.body.classList.remove("dark")},goback(){this.$router.back()},init(){this.examtimer=this.$refs.examtimer,this.questions=[this.jsonData.questions_1,this.jsonData.questions_2,this.jsonData.questions_3,this.jsonData.questions_4,this.jsonData.questions_5];var s=1;for(let e=1;e<=5;e++)this.jsonData[`questions_${e}`].forEach((t=>{t.answer&&(this.answers[e-1][s]={answer:t.answer,mine:""},s++),t.sub_questions&&t.sub_questions.forEach((t=>{t.answer&&(this.answers[e-1][s]={answer:t.answer,mine:""},s++)}))}));this.questionCount=s},answer(s){if(1==this.examstatus){Object.keys(this.answers[this.currQTypeIndex]).length;const e=this.answers[this.currQTypeIndex];e[this.currentNum].mine=s,this.stuAnswerList[this.currentNum]=s,e[this.currentNum+1]?(this.currentNum++,this.rollTo(this.currentNum)):this.answers[this.currQTypeIndex+1]?this.switchType(this.currQTypeIndex+1):alert("最后一道题了")}else this.$toast.show("考试还没有开始","warn")},exampaperboxExpand(){this.exampaperbox_expand=!this.exampaperbox_expand},examstart(){1!=this.examstatus&&(this.examstatus=1,this.examtimer.startTimer())},examstop(){if(0!=this.examstatus){this.examstatus=0,this.reportDataJson.time=this.timer,this.examtimer.resetTimer(),this.reportDataJson.datetime=(new Date).toLocaleString();for(let t=0;t<5;t++){var s=0,e=Object.keys(this.answers[t]);e.forEach((e=>{this.answers[t][e].answer==this.answers[t][e].mine&&s++})),this.reportDataJson.correctCount[t]=s,this.reportDataJson.totalCount[t]=e.length}this.report_step=2}},exampause(){1==this.examstatus&&(this.examstatus=2,this.examtimer.pause())},rollTo(s){this.currentNum=parseInt(s);const e=document.getElementById("ques_"+s);var t=e.offsetTop-this.$refs.right.scrollTop;this.$refs.right.scrollBy({top:t,behavior:"smooth"})},switchType(s){this.currQTypeIndex=s,this.currentNum=parseInt(Object.keys(this.answers[s])[0]),this.$refs.right.scrollTop=0},answerthis(s,e){if(this.currentNum==s&&1==this.examstatus){const t=this.answers[this.currQTypeIndex];t[s].mine=e,this.stuAnswerList[s]=e}},TypeSet(s){if(window.MathJax)return window.MathJax.startup.promise.then((()=>window.MathJax.typesetPromise(s))).catch((s=>console.log("Typeset failed: "+s.message))),window.MathJax.startup.promise;console.log("no window.MathJax")},async loadJsonData(){try{const s=`/json/zhenti/${this.$route.params.papername}.json`;console.log(s);const e=await fetch(s);if(!e.ok)throw new Error("Network response was not ok");this.jsonData=await e.json(),console.log(JSON.stringify(this.jsonData))}catch(s){console.error("Failed to load JSON data:",s)}},openReport(){this.modal_show.report_show||(this.report_step=1,this.modal_show.report_show=!0)},showPenCanvas(){this.pencanvas_show=!this.pencanvas_show},toggleHeader(s){this.$emit("toggle-header",s)}}},ms=t(8998);const _s=(0,ms.Z)(ws,[["render",ps],["__scopeId","data-v-3a0ba1f2"]]);var xs=_s}}]);
//# sourceMappingURL=515.53b58fdb.js.map