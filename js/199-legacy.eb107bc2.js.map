{"version":3,"file":"js/199-legacy.eb107bc2.js","mappings":"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","sources":["webpack://augest/node_modules/browser-pack/_prelude.js","webpack://augest/node_modules/events/events.js","webpack://augest/src/browser.coffee","webpack://augest/src/gif.coffee","webpack://augest/./src/components/Model/auDraged.vue","webpack://augest/./src/components/Model/auDraged.vue?105b","webpack://augest/./src/components/Model/auSelect.vue","webpack://augest/./src/components/Model/auSelect.vue?bd29","webpack://augest/./src/components/pixelSvgEditor.vue","webpack://augest/./src/components/pixelSvgEditor.vue?08ef"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","### CoffeeScript version of the browser detection from MooTools ###\n\nua = navigator.userAgent.toLowerCase()\nplatform = navigator.platform.toLowerCase()\nUA = ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/) or [null, 'unknown', 0]\nmode = UA[1] == 'ie' && document.documentMode\n\nbrowser =\n  name: if UA[1] is 'version' then UA[3] else UA[1]\n  version: mode or parseFloat(if UA[1] is 'opera' && UA[4] then UA[4] else UA[2])\n\n  platform:\n    name: if ua.match(/ip(?:ad|od|hone)/) then 'ios' else (ua.match(/(?:webos|android)/) or platform.match(/mac|win|linux/) or ['other'])[0]\n\nbrowser[browser.name] = true\nbrowser[browser.name + parseInt(browser.version, 10)] = true\nbrowser.platform[browser.platform.name] = true\n\nmodule.exports = browser\n","{EventEmitter} = require 'events'\nbrowser = require './browser.coffee'\n\nclass GIF extends EventEmitter\n\n  defaults =\n    workerScript: 'gif.worker.js'\n    workers: 2\n    repeat: 0 # repeat forever, -1 = repeat once\n    background: '#fff'\n    quality: 10 # pixel sample interval, lower is better\n    width: null # size derermined from first frame if possible\n    height: null\n    transparent: null\n    debug: false\n    dither: false # see GIFEncoder.js for dithering options\n\n  frameDefaults =\n    delay: 500 # ms\n    copy: false\n\n  constructor: (options) ->\n    @running = false\n\n    @options = {}\n    @frames = []\n\n    @freeWorkers = []\n    @activeWorkers = []\n\n    @setOptions options\n    for key, value of defaults\n      @options[key] ?= value\n\n  setOption: (key, value) ->\n    @options[key] = value\n    if @_canvas? and key in ['width', 'height']\n      @_canvas[key] = value\n\n  setOptions: (options) ->\n    @setOption key, value for own key, value of options\n\n  addFrame: (image, options={}) ->\n    frame = {}\n    frame.transparent = @options.transparent\n    for key of frameDefaults\n      frame[key] = options[key] or frameDefaults[key]\n\n    # use the images width and height for options unless already set\n    @setOption 'width', image.width unless @options.width?\n    @setOption 'height', image.height unless @options.height?\n\n    if ImageData? and image instanceof ImageData\n       frame.data = image.data\n    else if (CanvasRenderingContext2D? and image instanceof CanvasRenderingContext2D) or (WebGLRenderingContext? and image instanceof WebGLRenderingContext)\n      if options.copy\n        frame.data = @getContextData image\n      else\n        frame.context = image\n    else if image.childNodes?\n      if options.copy\n        frame.data = @getImageData image\n      else\n        frame.image = image\n    else\n      throw new Error 'Invalid image'\n\n    @frames.push frame\n\n  render: ->\n    throw new Error 'Already running' if @running\n\n    if not @options.width? or not @options.height?\n      throw new Error 'Width and height must be set prior to rendering'\n\n    @running = true\n    @nextFrame = 0\n    @finishedFrames = 0\n\n    @imageParts = (null for i in [0...@frames.length])\n    numWorkers = @spawnWorkers()\n    # we need to wait for the palette\n    if @options.globalPalette == true\n      @renderNextFrame()\n    else\n      @renderNextFrame() for i in [0...numWorkers]\n\n    @emit 'start'\n    @emit 'progress', 0\n\n  abort: ->\n    loop\n      worker = @activeWorkers.shift()\n      break unless worker?\n      @log 'killing active worker'\n      worker.terminate()\n    @running = false\n    @emit 'abort'\n\n  # private\n\n  spawnWorkers: ->\n    numWorkers = Math.min(@options.workers, @frames.length)\n    [@freeWorkers.length...numWorkers].forEach (i) =>\n      @log \"spawning worker #{ i }\"\n      worker = new Worker @options.workerScript\n      worker.onmessage = (event) =>\n        @activeWorkers.splice @activeWorkers.indexOf(worker), 1\n        @freeWorkers.push worker\n        @frameFinished event.data\n      @freeWorkers.push worker\n    return numWorkers\n\n  frameFinished: (frame) ->\n    @log \"frame #{ frame.index } finished - #{ @activeWorkers.length } active\"\n    @finishedFrames++\n    @emit 'progress', @finishedFrames / @frames.length\n    @imageParts[frame.index] = frame\n    # remember calculated palette, spawn the rest of the workers\n    if @options.globalPalette == true\n      @options.globalPalette = frame.globalPalette\n      @log 'global palette analyzed'\n      @renderNextFrame() for i in [1...@freeWorkers.length] if @frames.length > 2\n    if null in @imageParts\n      @renderNextFrame()\n    else\n      @finishRendering()\n\n  finishRendering: ->\n    len = 0\n    for frame in @imageParts\n      len += (frame.data.length - 1) * frame.pageSize + frame.cursor\n    len += frame.pageSize - frame.cursor\n    @log \"rendering finished - filesize #{ Math.round(len / 1000) }kb\"\n    data = new Uint8Array len\n    offset = 0\n    for frame in @imageParts\n      for page, i in frame.data\n        data.set page, offset\n        if i is frame.data.length - 1\n          offset += frame.cursor\n        else\n          offset += frame.pageSize\n\n    image = new Blob [data],\n      type: 'image/gif'\n\n    @emit 'finished', image, data\n\n  renderNextFrame: ->\n    throw new Error 'No free workers' if @freeWorkers.length is 0\n    return if @nextFrame >= @frames.length # no new frame to render\n\n    frame = @frames[@nextFrame++]\n    worker = @freeWorkers.shift()\n    task = @getTask frame\n\n    @log \"starting frame #{ task.index + 1 } of #{ @frames.length }\"\n    @activeWorkers.push worker\n    worker.postMessage task#, [task.data.buffer]\n\n  getContextData: (ctx) ->\n    return ctx.getImageData(0, 0, @options.width, @options.height).data\n\n  getImageData: (image) ->\n    if not @_canvas?\n      @_canvas = document.createElement 'canvas'\n      @_canvas.width = @options.width\n      @_canvas.height = @options.height\n\n    ctx = @_canvas.getContext '2d'\n    ctx.setFill = @options.background\n    ctx.fillRect 0, 0, @options.width, @options.height\n    ctx.drawImage image, 0, 0\n\n    return @getContextData ctx\n\n  getTask: (frame) ->\n    index = @frames.indexOf frame\n    task =\n      index: index\n      last: index is (@frames.length - 1)\n      delay: frame.delay\n      transparent: frame.transparent\n      width: @options.width\n      height: @options.height\n      quality: @options.quality\n      dither: @options.dither\n      globalPalette: @options.globalPalette\n      repeat: @options.repeat\n      canTransfer: (browser.name is 'chrome')\n\n    if frame.data?\n      task.data = frame.data\n    else if frame.context?\n      task.data = @getContextData frame.context\n    else if frame.image?\n      task.data = @getImageData frame.image\n    else\n      throw new Error 'Invalid frame'\n\n    return task\n\n  log: (args...) ->\n    return unless @options.debug\n    console.log args...\n\n\nmodule.exports = GIF\n","<template>\n  <div :class=\"{'au-draged':true,'dragging':dragedel,'row':style == 1||style == 3}\" ref=\"modal\">     \n    <div :class=\"{'draged-bar':true,'draged':dragable}\" @pointerdown=\"dragdown($event)\"  @pointerup=\"dragup\">\n      <div class=\"draged-bar-handle\"></div>\n    </div>\n    <div class=\"modal-slot\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default({\n  props:{\n    modalKey: {\n      type: String,\n      required: true\n    },\n    dragable: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    modeless: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n  },\n  data(){\n    return{\n      draged: false,\n      dragedel: null,\n      disx: 0,\n      disy: 0,\n      left: 0,\n      top:0,\n      style:0 //1、2、3、4代表上右下左\n    }\n  },\n\n  methods:{\n    dragdown(e) {\n      if(this.dragable){\n        this.dragedel = this.$refs.modal\n        \n        this.disx = e.pageX - this.dragedel.offsetLeft\n        this.disy = e.pageY - this.dragedel.offsetTop\n        document.addEventListener('pointermove', this.dragmove)\n\n      }\n    },\n    dragup() {\n      if(this.top < 50){\n        this.dragedel.style.top = '0px';\n        this.style = 1\n      }\n\n      if(this.left < 50){\n        this.dragedel.style.left = '0px';\n        this.style = 4\n      }\n\n      const maxLeft = this.dragedel.parentElement.clientWidth - this.dragedel.clientWidth\n      const maxTop = this.dragedel.parentElement.clientHeight - this.dragedel.clientHeight\n\n      if(this.top > maxTop - 50){\n        this.dragedel.style.top = 'unset';\n        this.dragedel.style.bottom = '0';\n        this.style = 3\n      }\n\n      if(this.left > maxLeft - 50){\n        this.dragedel.style.left = 'unset';\n        this.dragedel.style.right = '0';\n        this.style = 2\n      }\n\n      this.dragedel = null\n      document.removeEventListener('pointermove',this.dragmove)\n    },\n    dragmove(e) {\n      // var scrolltop = document.documentElement.scrollTop||document.body.scrollTop;\n      if(this.dragedel){\n        this.dragedel.style.bottom = 'unset';\n        this.dragedel.style.right = 'unset'\n        this.left = e.pageX - this.disx\n        this.top = e.pageY - this.disy\n        this.dragedel.style.left = this.left + 'px';\n        this.dragedel.style.top = this.top + 'px';\n      }      \n    }\n  }\n})\n\n\n</script>\n\n<style scoped>\n\n.modal-slot{\n  overflow: hidden;\n}\n\n\n.draged-bar {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 1.2rem;\n}\n\n.draged-bar.draged:active {\n    background-color: var(--modal-bgc-bar);\n}\n\n.au-draged {\n  background: var(--modal-bgc);\n  position: absolute;\n  box-shadow: 0px 0px 0px 0 #0002;\n  transition: box-shadow 0.1s ease-in-out;\n  border-radius: 0.5rem;\n  overflow: hidden;\n  touch-action: none;\n  z-index:10;\n  display: flex;\n  flex-direction: column;\n}\n\n.au-draged.row{\n  flex-direction: row-reverse\n}\n\n.au-draged.row .draged-bar {\n  width: 1.2rem;\n  height: auto;\n}\n\n\n\n.au-draged.dragging {\n  box-shadow: 2px 2px 5px 2px #0002;\n}\n\n.draged-bar-handle {\n  height: 4px;\n  border-radius: 2px;\n  background-color: #0004;\n  width: 60%;\n}\n\n.au-draged.row .draged-bar .draged-bar-handle{\n  height: 60%;\n  width: 4px;\n}\n\n\n\n\n</style>","import { render } from \"./auDraged.vue?vue&type=template&id=548b4f26&scoped=true\"\nimport script from \"./auDraged.vue?vue&type=script&lang=js\"\nexport * from \"./auDraged.vue?vue&type=script&lang=js\"\n\nimport \"./auDraged.vue?vue&type=style&index=0&id=548b4f26&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-548b4f26\"]])\n\nexport default __exports__","<template>\n  <div class=\"select-box\" ref=\"selectBox\">\n    <div :class=\"{'input-area':true,'active':selectShow}\" @click=\"openSelect\">\n      {{dataList[currIndex]}}\n      <svg-icon name=\"arrow-down\" size=\"16\" :class=\"{'icon':true,'show':selectShow}\" ></svg-icon>\n    </div>\n    <div :class=\"{'select-item-group':true,'show':selectShow}\" ref=\"options\">\n      <div :class=\"{'options':true,'show':selectShow}\">\n        <div :class=\"{'select-item':true,'active':index == currIndex}\" v-for=\"(item,index) in dataList\" @click=\"changeIndex(index)\">\n          {{ item }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    dataList:{\n      type: Array,\n      required: true\n    },\n  },\n  data(){\n    return{\n      selectShow:false,\n      currIndex:0\n    }\n  },\n  mounted(){\n\n  },\n  unmounted(){\n    document.removeEventListener('click',this.closeSelect)\n  },\n  methods: {\n    openSelect(){\n      if(!this.selectShow){\n        this.selectShow = true\n        document.addEventListener('click',this.closeSelect)\n      }else{\n        this.selectShow = false\n        document.removeEventListener('click',this.closeSelect)\n      }\n    },\n    closeSelect(){\n      if(!this.$refs.selectBox.contains(event.target)){\n        this.selectShow = false\n        document.removeEventListener('click',this.closeSelect)\n      }\n    },\n    changeIndex(index){\n      this.currIndex = index\n      this.selectShow = false\n      document.removeEventListener('click',this.closeSelect)\n      this.$emit('change', this.currIndex);\n    }\n  }  \n};\n</script>\n\n<style scoped>\n  .select-box {\n    width: 100%;\n    position: relative;\n  }\n  .input-area {\n    border: var(--box-border);\n    padding: 0 5px;\n    font-size: 15px;\n    border-radius: 5px;\n    height: 28px;\n    line-height: 28px;\n  }\n  .input-area.active{\n    outline: 2px solid var(--main-color);\n  }\n\n  .icon {\n    position: absolute;\n    right: 6px;\n    top: 50%;\n    transform: translateY(-50%) ;\n    transition: transform 0.3s ease;\n  }\n\n  .icon.show{\n    transform: translateY(-50%) rotate(180deg);\n  }\n  .select-item-group{\n    padding: 4px 0;\n    top: 36px;\n    position: absolute;\n    z-index: 999;\n    width: 100%;\n    background-color: var(--box-bgc);\n    font-size: 15px;\n    border-radius: 5px;\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  .select-item-group.show{\n    pointer-events: auto;\n    box-shadow: var(--box-shadow);\n    opacity: 1;\n  }\n  .options {\n    overflow: auto;\n    max-height: 0px;\n    transition: max-height 0.1s ease;\n  }\n  .options.show {\n    max-height: 140px;\n  }\n\n  .select-item{\n    padding: 4px 5px;\n  }\n\n  .select-item.active{\n    color: var(--main-color);\n  }\n\n  @media(any-hover:hover){\n    .select-item:hover{\n      background-color: var(--white-highlight);\n    }\n    .input-area:hover{\n      outline: 2px solid var(--main-color);\n    }\n  }\n</style>","import { render } from \"./auSelect.vue?vue&type=template&id=2ee630a8&scoped=true\"\nimport script from \"./auSelect.vue?vue&type=script&lang=js\"\nexport * from \"./auSelect.vue?vue&type=script&lang=js\"\n\nimport \"./auSelect.vue?vue&type=style&index=0&id=2ee630a8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ee630a8\"]])\n\nexport default __exports__","<template>\n  <my-model :show=\"modal_show.newFileModalShow\" :modeless=\"false\" modalKey=\"newFileModalShow\">\n    <div class=\"center-h\">\n      <label>画布大小：</label>\n      <div class=\"size\">\n        <input type=\"text\" v-model=\"newFileForm.rows\"  >\n        <span>x</span>\n        <input type=\"text\" v-model=\"newFileForm.cols\"  >\n      </div>\n    </div>\n    <div class=\"center-h\" style=\"align-items: flex-end\">\n      <label>画布预设：</label>\n      <div v-for=\"size in [64,32,16,13,11]\" @click=\"newFileForm.rows = size,newFileForm.cols = size\" :style=\"{width: `${size}px`,height: `${size}px`,fontSize: `${size*0.5}px`,border: `1px solid var(--fontNormal)`,marginRight: `4px`,cursor: `pointer`}\">\n        {{size}}<sup>2</sup>\n      </div>\n    </div>\n    <div class=\"center-h\"> \n      <label>网格大小:</label>\n      <input type=\"text\" v-model=\"newFileForm.gridSize\"  >\n    </div>\n    <div class=\"center-h\">\n      <label>导出网格大小:</label>\n      <input type=\"text\" v-model=\"newFileForm.outputSize\"  >\n    </div>\n    <div class=\"center-h left\">\n      <button class=\"fill\" @click=\"newFile()\">新  建</button>\n    </div>\n  </my-model>\n  <div class=\"tool-setting-bar\">\n    <div class=\"left\">\n      <div class=\"tool-option\" @click=\"modal_show.newFileModalShow = true\">\n        <svg-icon name=\"file-create01\"></svg-icon>\n      </div>\n      <div class=\"tool-option\">\n        <div class=\"label\" style=\"width: 91px\">画笔大小({{penSize}}):</div>\n        <input type=\"range\" style=\"color: currentColor\" v-model=\"penSize\" min=\"1\" max=\"20\">\n      </div>\n    </div>\n    <div class=\"right\">\n      <div class=\"icon-item\" @click=\"gifToolsShow=!gifToolsShow\">\n        <svg-icon name=\"file-gif\"></svg-icon>\n      </div>\n      <div class=\"icon-item\" @click=\"toolsShow=!toolsShow\">\n        <svg-icon name=\"phone\"></svg-icon>\n      </div>\n      <div class=\"icon-item\" @click=\"undo\">\n        <svg-icon name=\"undo01\"></svg-icon>\n      </div>\n      <div class=\"icon-item-box\"  @click=\"dropDown($event,'sizeSettingShow')\">\n        <div class=\"icon-item\">\n          <svg-icon name=\"canvas01\"></svg-icon>\n        </div>\n        <div :class=\"{'size-setting':true,'show':dropDownBoxShow.sizeSettingShow} \" >\n          画布大小：\n          <div class=\"size\">\n            <input type=\"number\" v-model=\"rows\"  >\n            <span>x</span>\n            <input type=\"number\" v-model=\"cols\"  >\n          </div>\n        </div>\n      </div>\n\n      <div class=\"icon-item-box\" @click=\"dropDown($event,'downloadShow')\">\n        <div class=\"icon-item\" >\n          <svg-icon name=\"download01\"></svg-icon>\n        </div>\n        <div :class=\"{'size-setting':true,'show':dropDownBoxShow.downloadShow} \" >\n          <div class=\"drop-down-option\" @click=\"saveAsSvg\">保存成 svg</div>\n          <div class=\"drop-down-option\" @click=\"copySvgCode\">复制 svg 代码</div>\n          <div class=\"drop-down-option\" @click=\"saveAsPng\">保存成 png</div>\n          <div class=\"drop-down-option\" @click=\"saveAsGif\">保存成 gif</div>\n        </div>\n      </div>\n        \n    </div>\n  </div>\n  <div class=\"work-area\">\n    <div style=\"display: flex;flex-grow: 1;overflow: hidden;\">\n      <auDraged>\n\n        <div class=\"tools-bar\">\n          <div :class=\"{'tool-item':true,'active':tool == 1}\" @click=\"switchTool(1)\">\n            <svg-icon name=\"pencil\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 2}\" @click=\"switchTool(2)\">\n            <svg-icon name=\"eraser\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 3}\" @click=\"switchTool(3)\">\n            <svg-icon name=\"line\" className=\"tool-item-svg\"></svg-icon> \n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 4}\" @click=\"switchTool(4)\">\n            <svg-icon name=\"rect\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 5}\" @click=\"switchTool(5)\">\n            <svg-icon name=\"circle\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 6}\" @click=\"switchTool(6)\">\n            <svg-icon name=\"paintBuckets\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div :class=\"{'tool-item':true,'active':tool == 7}\" @click=\"switchTool(7)\">\n            <svg-icon name=\"select\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div class=\"tool-item\" @click=\"clearAll\">\n            <svg-icon name=\"delete02\" className=\"tool-item-svg\"></svg-icon>\n          </div>\n          <div class=\"tool-item\" @click=\"openFileInput\">\n            <svg-icon name=\"picture-add\" className=\"tool-item-svg\"></svg-icon>\n            <!-- 文件上传按钮 -->\n            <input v-show=\"false\" type=\"file\" id=\"fileInput\" @change=\"importImg\" accept=\"image/*\">\n          </div>\n          <div class=\"tool-item-fullscreen\">\n            <div class=\"color back\" :style=\"{backgroundColor:bkgColor}\" @click=\"[currentColor,bkgColor] = [bkgColor,currentColor]\"></div>\n            <div class=\"color front\" :style=\"{backgroundColor:currentColor}\">\n              <input type=\"color\" class=\"colorInput-hidden\" ref=\"addColor1\" @change=\"addColor($event)\">\n            </div>\n          </div>\n        </div>\n      </auDraged>\n      <div class=\"middle\" \n                          @pointermove=\"handlePointerMove\"\n                          @pointerup=\"handlePointerUp\" ref=\"realViewport\" @wheel=\"zoomWheel\">\n        <div style=\"position: absolute;left: 1rem\">{{coordinate}}</div>\n          <div class=\"drawing-area\" @pointerdown=\"handlePointerDown\">\n            <canvas :width=\"width\" :height=\"height\"  class=\"gridstyle\" :style=\"canvasStyle\" ref=\"canvas\">\n              \n            </canvas>\n          </div>\n        \n      </div>\n      <div class=\"right\" v-show=\"toolsShow\">\n        <div class=\"overview\" @pointermove=\"dragViewportMove\" @pointerup=\"dragViewportUp\" @wheel=\"zoomWheel\">\n          <canvas class=\"gridstyle\" ref=\"canvas_overview\" :style=\"overviewStyle\" :width=\"overviewSize.width\" :height=\"overviewSize.height\"></canvas>\n          <div class=\"viewport\" ref=\"viewport\" @pointerdown=\"dragViewportDown\"></div>\n        </div>\n        <div class=\"overview-tools\">\n          <div class=\"icon-item\" @click=\"zoomIn\">\n            <svg-icon name=\"zoomIn11-1\"></svg-icon>\n          </div>\n          <div class=\"icon-item\" @click=\"zoomOut\">\n            <svg-icon name=\"zoomOut11-1\"></svg-icon>\n          </div>\n          <input type=\"range\" style=\"width: 80px; color: currentColor;\" min=\"10\" max=\"100\" v-model=\"scaleCount\" @input=\"resizeViewport\">\n          <div class=\"icon-item\" @click=\"zoomFit\">\n            <svg-icon name=\"zoomFit11-1\"></svg-icon>\n          </div>\n        </div>\n        <au-select :dataList=\"['默认','Pixel-8']\" @change=\"changeMyColor\" style=\"margin-bottom: 5px;\"></au-select>\n        <div class=\"color-tools\" ref=\"colorTools\" @pointermove=\"handleMove($event,index)\">\n          <div class=\"color-item draged\" v-show=\"dragedColorIndex != null\" ref=\"dragedColor\"></div>\n          <div v-for=\"(color,index) in myColors\" class=\"color-item\" ref=\"colorItem\" :style=\"{backgroundColor:color}\" \n                @pointerdown=\"handleStart($event,index)\"\n                @pointerup=\"handleEnd($event,index)\"\n                ></div>\n          <div class=\"color-item\">+\n            <input type=\"color\" class=\"colorInput-hidden\" ref=\"addColor2\" @change=\"addColor($event)\">\n          </div>\n          <div :class=\"{'color-item delete':true,'show':dragedColorIndex!=null }\" @pointerup=\"handleEnd(event,-1)\">\n            <svg-icon name=\"delete02\" className=\"color-item-svg\"></svg-icon>\n          </div>\n        </div>\n        <div class=\"color-tools\">\n          融合阈值：<input type=\"number\" min=\"0\" max=\"100\" step=\"10\" v-model=\"threshold\" />\n          <button @click=\"imgToPixel\">像素转换</button>\n          <button @click=\"adjustImg\">像素融合</button>\n        </div>\n      </div>\n    </div>\n    <div :class=\"{'gif-tools-box':true,'show':gifToolsShow}\">\n      <div class=\"gif-tools\" style=\"justify-content: center\">\n        <svg-icon class=\"gif-tools-item\" name=\"replay02\" @click=\"gifImageDataIndex=0,startAnimate()\"></svg-icon>\n        <!-- <svg-icon name=\"play01\" @click=\"startAnimate\"></svg-icon> -->\n        <svg-icon class=\"gif-tools-item\" name=\"pause01\" @click=\"stopAnimate\"></svg-icon>\n        <!-- <svg-icon class=\"gif-tools-item\" name=\"play-slower01\" @click=\"changeSpeed(-1)\"></svg-icon>\n        <svg-icon class=\"gif-tools-item\" name=\"play-faster01\" @click=\"changeSpeed(1)\"></svg-icon> -->\n        <button class=\"gif-tools-item has-icon-button\" @click=\"changeSpeed(1)\">\n          <svg-icon style=\"margin-right: 0.5rem;\" size='16' name=\"film11-1\"></svg-icon>\n          {{`${animateFps[animateFpsIndex]}fps`}}\n        </button>\n        <svg-icon class=\"gif-tools-item\" @click=\"pushGifImgList()\" name=\"letter-plus01\"></svg-icon>\n        <svg-icon class=\"gif-tools-item\" @click=\"deleteGifImgList()\" name=\"letter-minus01\"></svg-icon>\n        <button class=\"gif-tools-item\" @click=\"saveGifNPngToFolder(gifImageDataList)\">导出</button>\n      </div>\n      <div class=\"gif-tools\" style=\"height:80px\">\n        \n        <canvas ref=\"gifCanvas\" :width=\"100*cols/rows\" height=\"100\" v-for=\"index in gifImageDataList.length\" :class=\"{'gifCanvas':true,'currentGifCanvas':index-1 == gifImageDataIndex}\" @click=\"putGifImage2MainCanvas(index-1)\"></canvas>\n\n        <div class=\"addcanvas\" @click=\"pushGifImgList()\" v-show=\"gifImageDataList.length==0\">+</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport GIF from 'gif.js'\nimport auSelect from \"./Model/auSelect.vue\"\nimport auDraged from \"./Model/auDraged.vue\"\n\nexport default {\n  data() {\n    return {\n      tool:1,\n      rows:11,\n      cols:11,\n      gridSize:100,\n      outputSize:30,\n      coordinate:'x:0,y:0',\n      currentColor:'#000001',\n      bkgColor:\"#fff\",\n      // colorToolsEdited:false,\n      myColors:['#000001','#ffffff','#F96635','#f9A822','#FAEC86','#93d3a2','#2bbaa5','#008080'],\n      defaultColors:['#000001','#ffffff','#F96635','#f9A822','#FAEC86','#93d3a2','#2bbaa5','#008080'],\n      pix8Colors:['#000001','#ffffff',\"#202952\",\"#762b52\",\"#398557\",'#a1573e','#605750','#c4c3c8','#fef1eb','#eb3452','#f1a73c','#fcee5a','#67e055','#57a8f7','#807498','#ee7dab','#f6cdb1'],\n      colorIndex:0,\n      dragedColorIndex:null,\n      isDrawing: false,\n      pixels: [],\n      endPoints:{x:0,y:0},\n      maincanvas:null,\n      ctx:null,\n      ovCtx:null,\n      historys:[],\n      log:\"\",\n      shiftdown:false,\n      dropDownBox:null,\n      dropDownBoxShow:{\n        sizeSettingShow:false,\n        downloadShow:false\n      },\n      penSize:1,\n      scaleCount:30,\n      minScaleCount:30,\n      viewport:null,\n      disx:0,\n      disy:0,\n      selectedRect:{x:0,y:0,width:0,height:0},\n      offscreenCanvas:null,\n      selectedImgData:null,\n      selectedBgData:null,\n      isDragingSelectRect:false,\n      selectRectAnimateId:0,\n      pressTimer:null,\n      toolsShow:true,\n      modal_show:{\n        newFileModalShow:false,\n      },\n      newFileForm:{\n        cols:13,\n        rows:13,\n        gridSize:100,\n        outputSize:30\n      },\n      gifToolsShow:false,\n      gifImageDataList:[],\n      animateId:0,\n      gifImageDataIndex:-1,\n      animateStartTime:null,\n      animateFps:[3,4,5,10,30,60],\n      animateFpsIndex:0,\n      animateSpeed:300,\n      imgToPixelTools:false,\n      threshold:0, //min0,max100 \n      // imgToPixelColorList\n      imgPointList:[[]]\n    };\n  },\n  components:{\n    auSelect,auDraged\n  },\n  computed: {\n    width() {\n      return this.cols*this.gridSize;\n    },\n    height() {\n      return this.rows*this.gridSize;\n    },\n    overviewSize() {\n      let width = 180\n      let height = width/this.cols*this.rows\n      if(height > 140){\n        height = 140\n        width = height/this.rows*this.cols\n      }\n      return {width,height}\n    },\n    overviewStyle(){\n      const size = this.overviewSize.width/this.cols\n      return {\n           // 背景大小必须小于盒子的大小 \n          backgroundSize: `${2*size}px ${2*size}px`,\n          // 第二种渐变的偏移必须为为背景大小的一半 \n          backgroundPosition: `0 0 , ${size}px ${size}px`\n      }\n    },\n    canvasStyle(){\n      const scale = this.scaleCount/100\n      const size = this.gridSize*scale\n      return {\n           // 背景大小必须小于盒子的大小 \n          width:`${this.width*scale}px`,\n          height:`${this.height*scale}px`,\n          backgroundSize: `${2*size}px ${2*size}px`,\n          // 第二种渐变的偏移必须为为背景大小的一半 \n          backgroundPosition: `0 0 , ${size}px ${size}px`\n      }\n    },\n  },\n  \n  mounted() {\n    this.init()\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n    this.$refs.realViewport.addEventListener('scroll', this.viewportScroll);\n\n  },\n  unmounted(){\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n    if(this.$refs.realViewport){\n      this.$refs.realViewport.removeEventListener('scroll', this.viewportScroll);\n    }\n    // document.removeEventListener('click', this.offColorToolsEdit)\n    document.removeEventListener('click',this.closeDropDownBox)\n  },\n  methods: {\n    changeMyColor(index){\n      if(index == 0){\n        this.myColors = this.defaultColors\n      }else if(index == 1){\n        this.myColors = this.pix8Colors\n      }\n    },\n    newFile(){\n      this.cols = Math.floor(this.newFileForm.cols)\n      this.gridSize = Math.floor(this.newFileForm.gridSize)\n      this.rows = Math.floor(this.newFileForm.rows)\n      this.outputSize = Math.floor(this.newFileForm.outputSize)\n      this.historys = []\n      this.clearAll()\n      if(this.modal_show.newFileModalShow){\n        this.modal_show.newFileModalShow = false\n      }\n    },\n    //颜色卡片长按事件\n    handleStart(event,index){\n        \n        this.pressTimer = setTimeout(() => {\n          // this.colorToolsEdited = true\n          this.dragedColorIndex = index\n          const el = event.target\n          this.disx = event.pageX - el.offsetLeft\n          this.disy = event.pageY - el.offsetTop\n          const dragedEl = this.$refs.dragedColor\n          dragedEl.style.backgroundColor = this.myColors[this.dragedColorIndex]\n          dragedEl.style.left = `${event.pageX - this.disx}px`\n          dragedEl.style.top = `${event.pageY - this.disy}px`\n          // document.addEventListener(\"click\",this.offColorToolsEdit)\n          clearTimeout(this.pressTimer)\n          this.pressTimer = null\n        }, 500);\n    },\n    handleMove(event,index){\n      if (this.pressTimer) {\n        clearTimeout(this.pressTimer);\n        this.pressTimer = null;\n      }\n      if(this.dragedColorIndex != null){\n        const dragedEl = this.$refs.dragedColor\n        dragedEl.style.backgroundColor = this.myColors[this.dragedColorIndex]\n        dragedEl.style.left = `${event.pageX - this.disx}px`\n        dragedEl.style.top = `${event.pageY - this.disy}px`\n      }\n    },\n    handleEnd(event,index){\n      // 如果定时器还在，说明是点击事件\n      if (this.pressTimer) {\n        clearTimeout(this.pressTimer);\n        this.pressTimer = null;\n        this.selectColor(index)\n      }\n      if(this.dragedColorIndex != null){\n        if(index == -1){\n          this.myColors.splice(this.dragedColorIndex,1)\n          this.dragedColorIndex = null\n        }else{\n          const colorTem = this.myColors[index]\n          this.myColors[index] = this.myColors[this.dragedColorIndex]\n          this.myColors[this.dragedColorIndex] = colorTem\n          this.dragedColorIndex = null\n        }\n      }\n    },\n    selectColor(index){\n      this.currentColor = this.myColors[index]\n    },\n    addColor(event){\n      const colorDom = event.currentTarget\n      const colorValue = colorDom.value\n      if(!this.myColors.includes(colorValue)){\n        this.myColors.push(colorValue)\n      }\n      this.currentColor = colorValue\n      \n    },\n    switchTool(index){\n      if(this.tool!= index){\n        if(this.tool == 7){\n          this.selectedImgData = null\n          this.selectedRect = {x:0,y:0,width:0,height:0}\n          cancelAnimationFrame(this.selectRectAnimateId)\n          this.selectRectAnimateId = 0\n          this.showLastHistory()\n        }\n        if(index == 7){\n          this.selectedBgData = this.ctx.getImageData(0,0,this.width,this.height)\n        }\n        this.tool = index\n      }\n    },\n    updateOverview(){\n      this.ovCtx.clearRect(0,0,this.overviewSize.width,this.overviewSize.height)\n      this.ovCtx.drawImage(\n        this.maincanvas,\n        0,0,this.width,this.height,\n        0,0,this.overviewSize.width,this.overviewSize.height\n      )\n    },\n    dropDown(event, keyname){\n      this.dropDownBox = event.target\n      const keys = Object.keys(this.dropDownBoxShow)\n      keys.forEach(key => {\n        this.dropDownBoxShow[key] = false\n      })\n      this.dropDownBoxShow[keyname] = true\n      document.addEventListener('click',this.closeDropDownBox)\n    },\n    closeDropDownBox(e){\n      if(!this.dropDownBox.contains(e.target)){\n        const keys = Object.keys(this.dropDownBoxShow)\n        keys.forEach(key => {\n          this.dropDownBoxShow[key] = false\n        })\n        document.removeEventListener('click',this.closeDropDownBox)\n      }\n    },\n    // switchColor(point){\n    //   const color = this.getColorAtPixel(point)\n    //   const currentColor = 'rgba('+color.r+','+color.g+','+color.b+','+color.a+')'\n    //   if(currentColor != 'rgba(0,0,0,0)'){\n    //     this.currentColor = currentColor\n    //   }\n    // },\n    handleKeyDown(event) {\n      if (event.key === 'Shift') {\n        this.shiftdown = true;\n      }\n    },\n    handleKeyUp(event) {\n      if (event.key === 'Shift') {\n        this.shiftdown = false;\n      }\n    },\n    init(){\n      if (window.PointerEvent) { \n        // Pointer events are supported. \n        this.log=\"Pointer events are supported.\"\n      }\n      this.maincanvas = this.$refs.canvas;\n      const overview = this.$refs.canvas_overview\n      this.ctx = this.maincanvas.getContext('2d');\n\n      // this.ctx.imageSmoothingEnabled = true;\n      this.ctx.lineWidth = 1\n      // this.ctx.strokeRect(10.5,10.5,9,9)\n      this.ovCtx = overview.getContext('2d')\n      this.addHistory()\n      this.resizeViewport()\n      this.getMinScale()\n      this.scaleCount = this.minScaleCount\n      this.offscreenCanvas = document.createElement('canvas');\n    },\n    getMinScale(){\n      const realViewport = this.$refs.realViewport\n      let width = realViewport.clientWidth - 5\n      let height = width/this.cols*this.rows\n      if(height > realViewport.clientHeight){\n        height = realViewport.clientHeight - 2\n        width = height/this.rows*this.cols\n      }\n      this.minScaleCount = Math.floor(100*width/this.width)\n      this.log = this.minScaleCount\n    },\n    \n    handlePointerDown(event){\n      \n      this.endPoints = this.getPoint({x:event.clientX,y:event.clientY})\n\n      if(this.tool == 2) {\n        this.isDrawing = true\n        this.clearPixel(this.endPoints)\n      }else if(this.tool < 6) {\n        this.isDrawing = true\n        this.drawPixel(this.endPoints)\n      }else if(this.tool == 6){\n        this.ctx.fillStyle = this.currentColor\n        this.fillArea(this.endPoints);\n        this.addHistory()\n      }else if(this.tool == 7){\n        this.ctx.beginPath()\n        this.ctx.rect(this.selectedRect.x,this.selectedRect.y,this.selectedRect.width,this.selectedRect.height)\n        this.ctx.closePath()\n        const isPointInPath = this.ctx.isPointInPath(this.endPoints.x,this.endPoints.y)\n        if(isPointInPath){\n          //开始拖拽\n          if(!this.selectedImgData){\n            this.showLastHistory()\n            this.selectedImgData = this.ctx.getImageData(this.selectedRect.x,this.selectedRect.y,this.selectedRect.width,this.selectedRect.height)\n            this.offscreenCanvas.width = this.selectedRect.width;\n            this.offscreenCanvas.height = this.selectedRect.height;\n            const offscreenCtx = this.offscreenCanvas.getContext('2d');\n            this.showLastHistory()\n            this.ctx.clearRect(this.selectedRect.x,this.selectedRect.y,this.selectedRect.width,this.selectedRect.height)\n            this.selectedBgData = this.ctx.getImageData(0,0,this.width,this.height)\n            offscreenCtx.putImageData(this.selectedImgData,0,0)\n             \n          }else{\n            //如果已经选了图像了则不用重新绘制区域图片\n            this.ctx.putImageData(this.selectedBgData,0,0)\n          }\n          this.disx = this.endPoints.x - this.selectedRect.x\n          this.disy = this.endPoints.y - this.selectedRect.y\n          \n          this.isDragingSelectRect = true\n          \n          this.ctx.drawImage(this.offscreenCanvas, this.selectedRect.x-1, this.selectedRect.y-1)\n        }else{\n          //选择新的区域\n          this.showLastHistory()\n\n          if(this.selectRectAnimateId == 0){\n            this.selectRectAnimateId = requestAnimationFrame(this.dashedRectAnimate)\n          }\n          // this.newSelected = true\n          this.selectedImgData = null\n          this.selectedRect = {x:0,y:0,width:0,height:0}\n          this.selectedBgData = this.ctx.getImageData(0,0,this.width,this.height)\n          \n          //选择区域\n          this.isDrawing = true\n        }\n      }\n    },\n\n    handlePointerMove(event){\n      this.ctx.fillStyle = this.currentColor\n      this.ctx.strokeStyle = this.currentColor\n      const currPoint = this.getPoint({x:event.clientX,y:event.clientY})\n      if(this.isDrawing){\n        if(this.tool == 1){\n          this.drawLine(this.endPoints, currPoint)\n          this.endPoints = currPoint\n        }else if(this.tool == 2){\n          this.clearPixel(currPoint)\n        }else if(this.tool == 3){\n          this.showLastHistory()\n          this.drawLine(this.endPoints, currPoint)\n        }else if(this.tool == 4){\n          this.showLastHistory()\n          this.drawRect(this.endPoints, currPoint)\n        }else if(this.tool == 5){\n          this.showLastHistory()\n          this.drawPixelEllipse(this.endPoints, currPoint)\n        }else if(this.tool == 7){\n          this.showLastHistory()\n          this.select(this.endPoints, currPoint)\n        }\n      }else{\n        if(this.tool == 7 && this.isDragingSelectRect){\n          // this.ctx.putImageData(this.selectedBgData, 0, 0)\n          this.selectedRect.x = currPoint.x-this.disx\n          this.selectedRect.y = currPoint.y-this.disy\n          // window.cancelAnimationFrame(this.selectRectAnimateId)\n          // this.ctx.drawImage(this.offscreenCanvas,this.selectedRect.x-1, this.selectedRect.y-1)\n          \n        }else if(this.tool < 6 ){\n          this.showLastHistory()\n          this.overMove(currPoint)\n        }\n      }\n    },\n    select(start,end){\n      const x = Math.min(start.x,end.x)\n      const y = Math.min(start.y,end.y)\n      const width = Math.abs(end.x-start.x)+this.gridSize\n      const height = Math.abs(end.y-start.y)+this.gridSize\n      this.imgPointList = [[]]\n      this.selectedRect = {x, y, width, height}\n    },\n    drawDashedRect(){\n      this.ctx.lineDashOffset = (this.ctx.lineDashOffset+1)%100\n      this.ctx.setLineDash([0])\n      this.ctx.strokeStyle = \"#fff\"\n      this.ctx.strokeRect(this.selectedRect.x-5,this.selectedRect.y-5, this.selectedRect.width+10, this.selectedRect.height+10)\n      this.ctx.setLineDash([50])\n      this.ctx.strokeStyle = \"#000\"\n      this.ctx.strokeRect(this.selectedRect.x-5,this.selectedRect.y-5, this.selectedRect.width+10, this.selectedRect.height+10)\n      this.ctx.fillStyle = \"rgba(0,0,0,0.3)\"\n      this.ctx.fillRect(this.selectedRect.x,this.selectedRect.y, this.selectedRect.width, this.selectedRect.height)\n      this.ctx.fillStyle = this.currentColor\n    },\n    dashedRectAnimate(){\n      this.ctx.putImageData(this.selectedBgData,0,0)\n      if(this.selectedRect.width*this.selectedRect.height != 0 ){\n        this.drawDashedRect()\n      }\n      if(this.selectedImgData){\n        this.ctx.drawImage(this.offscreenCanvas,this.selectedRect.x, this.selectedRect.y)\n      }\n      this.selectRectAnimateId = requestAnimationFrame(this.dashedRectAnimate)\n    },\n    selectSave(){\n      this.ctx.putImageData(this.selectedBgData,0,0)\n      this.ctx.drawImage(\n        this.offscreenCanvas,\n        0,0,this.selectedRect.width, this.selectedRect.height,\n        this.selectedRect.x,this.selectedRect.y,this.selectedRect.width, this.selectedRect.height)\n      this.addHistory()\n      \n    },\n    handlePointerUp(){\n      if(this.isDrawing){\n        this.isDrawing = false\n        if(this.tool == 7){\n          //选择区域结束判断选择区域,如果长或宽小于0则关闭选择动画，取消选择\n          if(this.selectedRect.width*this.selectedRect.height == 0){\n            cancelAnimationFrame(this.selectRectAnimateId)\n            this.selectRectAnimateId = 0\n            this.selectedRect = {x:0,y:0,width:0,height:0}\n            this.selectedImgData = null\n          }\n        }else{\n          this.addHistory()\n        }\n      }\n      if(this.isDragingSelectRect){\n        this.isDragingSelectRect = false\n        this.selectSave()\n        // this.dashedRectAnimate()\n      }\n      \n    },\n    drawPixel(point, size=this.penSize, color = this.currentColor){\n      this.ctx.fillStyle = color\n      const x = point.x/this.gridSize - Math.floor(size/2)\n      const y = point.y/this.gridSize - Math.floor(size/2)\n      this.ctx.fillRect(this.gridSize*x,this.gridSize*y,this.gridSize*size,this.gridSize*size)\n      // this.ctx.font = \"40px serif\"\n      // this.ctx.fillStyle = \"#ffffff\"\n      // this.ctx.fillText(`${(x+y*this.cols)*30}`,this.gridSize*x,this.gridSize*y+30)\n    },\n    overMove(point){\n      this.ctx.fillStyle = 'rgba(0,0,0,0.3)'\n      const size = this.penSize\n      const x = point.x/this.gridSize - Math.floor(size/2)\n      const y = point.y/this.gridSize - Math.floor(size/2)\n      this.ctx.fillRect(this.gridSize*x,this.gridSize*y,this.gridSize*size,this.gridSize*size)\n    },\n    clearPixel(point){\n      const size = this.penSize\n      const x = point.x/this.gridSize - Math.floor(size/2)\n      const y = point.y/this.gridSize - Math.floor(size/2)\n      this.ctx.clearRect(this.gridSize*x,this.gridSize*y,this.gridSize*size,this.gridSize*size)\n    },\n    // 直线BH算法https://blog.csdn.net/myf_666/article/details/128164135\n    drawLine(start,end){\n      let x = start.x\n      let y = start.y\n      let dx = Math.abs(end.x - start.x)\n      let dy = Math.abs(end.y - start.y)\n      let sx = (start.x < end.x)? this.gridSize : -this.gridSize\n      let sy = (start.y < end.y)? this.gridSize : -this.gridSize\n      let err = dx - dy\n      while(true){\n        this.drawPixel({x,y})\n        if(x === end.x && y === end.y) break\n        let e2 = 2 * err;\n        if(e2 > -dy){\n          err -= dy;\n          x += sx;\n        }\n        if(e2 < dx){\n          err += dx;\n          y += sy\n        }\n      }\n    },\n    \n    drawRect(start,end){\n      let rightUp, leftDown;\n\n      if (this.shiftdown) {\n        // 计算水平和垂直距离\n        const deltaX = end.x - start.x;\n        const deltaY = end.y - start.y;\n\n        // 选择较小的距离作为正方形的边长\n        const sideLength = Math.min(Math.abs(deltaX), Math.abs(deltaY));\n\n        // 根据方向调整 end 点的位置\n        if (deltaX > 0 && deltaY > 0) {\n          end = { x: start.x + sideLength, y: start.y + sideLength };\n        } else if (deltaX > 0 && deltaY < 0) {\n          end = { x: start.x + sideLength, y: start.y - sideLength };\n        } else if (deltaX < 0 && deltaY > 0) {\n          end = { x: start.x - sideLength, y: start.y + sideLength };\n        } else {\n          end = { x: start.x - sideLength, y: start.y - sideLength };\n        }\n      }\n\n      rightUp = { x: end.x, y: start.y };\n      leftDown = { x: start.x, y: end.y };\n\n      this.drawLine(start, rightUp);\n      this.drawLine(leftDown, end);\n      this.drawLine(start, leftDown);\n      this.drawLine(rightUp, end);\n      \n    },\n    //椭圆BH算法https://www.cnblogs.com/fortunely/p/17681502.html\n     drawPixelEllipse(start, end) {\n      const xc = (start.x + end.x) / 2 / this.gridSize + 0.5\n      const rx = Math.abs((end.x - start.x) / this.gridSize / 2);\n      const drx = end.y>start.y ? rx : -rx\n      const yc = this.shiftdown ? start.y/this.gridSize + drx + 0.5 : (start.y + end.y) / 2 / this.gridSize + 0.5\n      const ry = this.shiftdown ? rx : Math.abs((end.y - start.y) / this.gridSize / 2);\n\n      let x = rx%1 ? 0.5 : 0;\n      let y = ry;\n      let d1 = Math.ceil(ry * ry - rx * rx * ry + 0.25 * rx * rx);\n      let dx = 2 * ry * ry * x;\n      let dy = 2 * rx * rx * y;\n      this.drawEllipsePoints(xc, yc, x, y)\n\n      while (dx < dy) {\n        x++\n        dx += 2 * ry * ry;\n        if (d1 <= 0) {\n          d1 += dx + ry * ry;\n        } else {\n          y--;\n          dy -= 2 * rx * rx;\n          d1 += dx - dy + ry * ry;\n        }\n        \n        this.drawEllipsePoints(xc, yc, x, y)\n      }\n\n      let d2 = Math.ceil(ry * ry * (x + 0.5) * (x + 0.5) + rx * rx * (y - 1) * (y - 1) - rx * rx * ry * ry);\n      while (y > 0) {\n        y--\n        dy -= 2 * rx * rx\n        if (d2 <= 0) {\n          x++\n          dx += 2 *ry*ry\n          d2 += ry*ry - dy + dx\n          \n        } else {\n          d2 += rx * rx - dy\n        }\n        this.drawEllipsePoints(xc, yc, x, y)\n      }\n    },\n    drawEllipsePoints(xc, yc, x, y) {\n      xc -= 0.5\n      yc -= 0.5\n      this.drawPixel({ x: (xc + x) * this.gridSize, y: (yc - y) * this.gridSize });\n      this.drawPixel({ x: (xc - x) * this.gridSize, y: (yc - y) * this.gridSize });\n      this.drawPixel({ x: (xc - x) * this.gridSize, y: (yc + y) * this.gridSize });\n      this.drawPixel({ x: (xc + x) * this.gridSize, y: (yc + y) * this.gridSize });\n    },\n    // 在你的像素画板中实现一个填充功能（类似于“油漆桶”工具），你需要用到一种称为“洪水填充”（Flood Fill）算法。这个算法将会递归地或使用队列填充相同颜色的相邻像素。为了避免递归深度过深导致栈溢出，我们可以使用队列来实现非递归的广度优先搜索（BFS）填充算法。\n    fillArea(startPoint) {\n      const targetColor = this.getColorAtPixel(startPoint);\n      const fillColor = this.hexToArgb(this.ctx.fillStyle);\n\n      if (this.colorsMatch(targetColor, fillColor)) {\n        return; // 避免填充相同颜色的区域\n      }\n\n      const stack = [startPoint];\n      const { width, height } = this.$refs.canvas;\n      const visited = new Set();\n\n      const key = (x, y) => `${x},${y}`;\n      \n      while (stack.length) {\n        const { x, y } = stack.pop();\n        const currentColor = this.getColorAtPixel({ x, y });\n\n        if (!visited.has(key(x, y)) && this.colorsMatch(currentColor, targetColor)) {\n          this.drawPixel({ x, y }, 1);\n          visited.add(key(x, y));\n\n          if (x > 0) stack.push({ x: x - this.gridSize, y });\n          if (x < width - this.gridSize) stack.push({ x: x + this.gridSize, y });\n          if (y > 0) stack.push({ x, y: y - this.gridSize });\n          if (y < height - this.gridSize) stack.push({ x, y: y + this.gridSize });\n\n        }\n      }\n    },\n    getColorAtPixel(point) {\n      const { data } = this.ctx.getImageData(point.x, point.y, 1, 1);\n      return data.slice(0, 4);\n    },\n    hexToArgb(hex) {\n      if (hex[0] === '#') hex = hex.slice(1);\n      const bigint = parseInt(hex, 16);\n      if (hex.length === 8) {\n        return [(bigint >> 24) & 255, (bigint >> 16) & 255, (bigint >> 8) & 255, bigint & 255];\n      } else if (hex.length === 6) {\n        return [255, (bigint >> 16) & 255, (bigint >> 8) & 255, bigint & 255];\n      } else if (hex.length === 4) {\n        return [(bigint >> 12) & 15 * 17, (bigint >> 8) & 15 * 17, (bigint >> 4) & 15 * 17, bigint & 15 * 17];\n      } else if (hex.length === 3) {\n        return [255, (bigint >> 8) & 15 * 17, (bigint >> 4) & 15 * 17, bigint & 15 * 17];\n      }\n      return [0, 0, 0, 0]; // 默认返回透明黑色\n    },\n    colorsMatch(color1, color2) {\n      return color1[0] === color2[0] && color1[1] === color2[1] && color1[2] === color2[2] && color1[3] === color2[3];\n    },\n    clearAll(){\n      this.selectedRect = {x:0,y:0,width:0,height:0}\n      this.selectedImgData = null\n      this.ctx.clearRect(0,0,this.width,this.height)\n      cancelAnimationFrame(this.selectRectAnimateId)\n      this.selectRectAnimateId = 0\n      this.addHistory()\n    },\n    isRectEqual(rect1, rect2) {\n      return rect1.x === rect2.x &&\n             rect1.y === rect2.y &&\n             rect1.width === rect2.width &&\n             rect1.height === rect2.height;\n    },\n    getPoint(point){\n      const scale = this.scaleCount/100\n      const rect = this.$refs.canvas.getBoundingClientRect();\n      const x = Math.floor((point.x - rect.left) / this.gridSize/scale)*this.gridSize\n      const y = Math.floor((point.y - rect.top) / this.gridSize/scale)*this.gridSize\n      this.coordinate = `x:${x / this.gridSize},y:${y / this.gridSize}`\n      return {x,y}\n    },\n    showLastHistory() {\n      const history = this.historys\n      const imageData = history[history.length - 1]['data']\n      this.ctx.putImageData(imageData, 0, 0)\n    },\n    addHistory() {\n      this.historys.push({\n        data: this.ctx.getImageData(0, 0, this.width, this.height)\n      })\n      this.updateOverview()\n      if(this.gifImageDataList.length > 0)\n        this.updateGifImage(this.gifImageDataIndex)\n    },\n    undo(){\n      var history = this.historys;\n      \n      if(history && history.length > 1){\n        history.pop();\n        this.showLastHistory();\n        this.updateOverview()\n      }\n\n      //清空选择区域\n      this.selectedImgData = null\n      this.selectedRect = {x:0,y:0,width:0,height:0}\n      cancelAnimationFrame(this.selectRectAnimateId)\n      this.selectRectAnimateId = 0\n    },\n    getPixelVector(pixel){\n      const pixelSize = this.outputSize\n      const color = `rgba(${pixel.r},${pixel.g},${pixel.b},${pixel.a})`\n      const x1 = {x:pixel.x, y:pixel.y}\n      const x2 = {x:pixel.x + pixelSize, y:pixel.y}\n      const x3 = {x:pixel.x + pixelSize, y:pixel.y + pixelSize}\n      const x4 = {x:pixel.x, y:pixel.y + pixelSize}\n      const point2Num = (x,y)=>{\n        return x + y*this.cols\n      }\n      //定义了正方形的4个边向量[向量起点，向量终点，向量右边的颜色]\n      return [[point2Num(x1.x,x1.y),point2Num(x2.x,x2.y),color],\n              [point2Num(x2.x,x2.y),point2Num(x3.x,x3.y),color],\n              [point2Num(x3.x,x3.y),point2Num(x4.x,x4.y),color],\n              [point2Num(x4.x,x4.y),point2Num(x1.x,x1.y),color]]\n    },\n    getpathContent(pixelData){\n      let pathLists = [] \n      //这三个list的index代表同一条路径的集合、开始点、结束点\n\n      let pointWithNextPoints  = new Map()\n      pixelData.forEach(pixel => {\n        // console.log(pixel)\n        const pixelVectors = this.getPixelVector(pixel)\n        //生成一个单向的相邻点的map\n        pixelVectors.forEach(vector => {\n          // console.log(`开始添加向量：（${vector[0]},${vector[1]}）`)\n          if(pointWithNextPoints.has(vector[0])){\n            if(pointWithNextPoints.has(vector[1])){\n              // console.log(`${vector[0]},${vector[1]}=======>${vector[1]},${vector[0]}`)\n              let nextPoints = pointWithNextPoints.get(vector[1])\n              \n              // nextPoints.forEach(nextpoint=>{\n              //   console.log(nextpoint)\n              // })\n              let findSameVector = null\n              for(var i=0; i < nextPoints.length ; i++){\n                // console.log(`${nextPoints[i]},${vector[0]},${vector[2]}`)\n                // console.log(nextPoints[i][0] == vector[0] && nextPoints[i][1] == vector[2])\n                if(nextPoints[i][0] == vector[0] && nextPoints[i][1] == vector[2]){\n                  findSameVector = nextPoints.splice(i,1)\n                  // console.log(\"存在同一条线，不添加\")\n                  if(nextPoints.length > 0){\n                    pointWithNextPoints.set(vector[1],nextPoints)\n                    // console.log(\"删除已经存在的线段\")\n                  }else{\n                    pointWithNextPoints.delete(vector[1])\n                    // console.log(\"删除已经存在的线段,起始点没有相邻点，删除起始点\")\n                  }\n                  \n                  break;\n                }\n              }\n\n              if(findSameVector == null){\n                let newValue = pointWithNextPoints.get(vector[0]).push([vector[1],vector[2]])\n                pointWithNextPoints[vector[0], newValue]\n                // console.log(\"添加成功\")\n              }\n            }else{\n              let newValue = pointWithNextPoints.get(vector[0]).push([vector[1],vector[2]])\n              pointWithNextPoints[vector[0], newValue]\n              // console.log(\"添加成功\")\n            }\n          }else{\n            pointWithNextPoints.set(vector[0], [[vector[1],vector[2]]])\n            // console.log(\"添加成功\")\n          }\n        })\n      });\n      // console.log(pointWithNextPoints)\n      // for(const [key,value] of pointWithNextPoints){\n      //   console.log(key+\":\")\n      //   value.forEach(v => {\n      //     console.log(`point:${v[0]},color:${v[1]}`)\n      //   })\n      //   console.log(\"=============================\")\n      // }\n      //遍历pointWithNextPoints得到路径\n\n      const findPath = (point,path=null, color=null)=>{\n        console.log(`findPath(\\n${point},\\n${path},\\n${color})`)\n        if(pointWithNextPoints.has(point)){\n          let nextPoints = pointWithNextPoints.get(point)\n          if(color == null){\n            let nextPoint = nextPoints.splice(0,1)[0]\n            pointWithNextPoints.set(point,nextPoints)\n            if(nextPoints.length <= 0){\n              pointWithNextPoints.delete(point)\n              // console.log(`这个点是路径起始点，且只有一个继点，移除${point}`)\n            }\n            path = [point,nextPoint[0]]\n            findPath(nextPoint[0], path, nextPoint[1])\n          }else{\n            let nextPoints = pointWithNextPoints.get(point)\n            let nextPoint = null\n            for(var i=0 ; i < nextPoints.length ; i++){\n              if(nextPoints[i][1] == color){\n\n                nextPoint = nextPoints.splice(i, 1)[0]\n                pointWithNextPoints.set(point,nextPoints)\n                if(nextPoints.length <= 0){\n                  pointWithNextPoints.delete(point)\n                  // console.log(`这个点的继点被全部匹配完了，移除${point}`)\n                }\n                break\n              }\n            }\n            if(nextPoint){\n              path.push(nextPoint[0])\n              findPath(nextPoint[0], path, nextPoint[1])\n            }else{\n              path.push(color)\n              // console.log(`map里有thispoint:${point},当时相同颜色:${color}没有可以找的点`)\n              pathLists.push(path)\n              if(pointWithNextPoints.size > 0){\n                const newkey = pointWithNextPoints.keys().next().value\n                const newstart = pointWithNextPoints.get(newkey)[0]\n\n                findPath(newstart[0])\n              }else{\n                return\n              }\n            }\n          }\n        }else{\n          if(color){\n            path.push(color)\n            pathLists.push(path)\n            // console.log(`map里找不到thispoint:${point}了`)\n            if(pointWithNextPoints.size > 0){\n              const newkey = pointWithNextPoints.keys().next().value\n              const newstart = pointWithNextPoints.get(newkey)[0]\n              // console.log(`**********newstart[0]:${newstart[0]}`)\n              findPath(newstart[0])\n            }else{\n              return\n            }\n          }\n          return\n        }\n        \n      }\n      const start = pointWithNextPoints.keys().next().value\n      // console.log(`start:${start}-----------`)\n      findPath(start)\n      let pathContent = ``\n      let colorWithPath = new Map() //保存颜色-路径的映射，用于合并相同颜色的路径\n      const num2Point = (num)=>{\n        const x = num%(this.cols*30)\n        return {x,y:Math.floor((num-x)/this.cols)}\n      }\n\n      pathLists.forEach((pathList)=>{\n        // console.log(pathList)\n        let p1 = num2Point(pathList[0])\n        // console.log(pathList[0],p1)\n        let step = {direction:\"M\",step:0}\n        let path = `M${p1.x} ${p1.y}`\n        for(var i=1; i<pathList.length-1 ;i++){\n          let p2 = num2Point(pathList[i])\n          // console.log(p2)\n          if(p1.x == p2.x){\n            if(step.direction == \"v\"){\n              step.step += (p2.y - p1.y)\n              // console.log(`1:::::::::${step.direction},${step.step}`)\n            }else{\n              if(step.step != 0){\n                path += `${step.direction}${step.step}`\n              }\n              step.direction = \"v\"\n              step.step = (p2.y - p1.y)\n              // console.log(`2:::::::::${step.direction},${step.step}`)\n            }\n          }else{\n            if(step.direction == \"h\"){\n              step.step += (p2.x - p1.x)\n              // console.log(`3:::::::::${step.direction},${step.step}`)\n            }else{\n              if(step.step != 0){\n                path += `${step.direction}${step.step}`\n                \n              }\n              step.direction = \"h\"\n              step.step = (p2.x - p1.x)\n              // console.log(`${p2.y},${p1.y},${p2.y-p1.y}`)\n              // console.log(`4:::::::::${step.direction},${step.step}`)\n            }\n          }\n          p1.x = p2.x\n          p1.y = p2.y\n          // console.log(`step:\"${step.direction}\",${step.step}`)\n        }\n        path += \"z\"\n        const colorKey = pathList[pathList.length-1]\n        if(colorWithPath.has(colorKey)){\n          let newValue = colorWithPath.get(colorKey)\n          newValue.push(path) \n          colorWithPath.set(colorKey, newValue)\n        }else{\n          colorWithPath.set(colorKey, [path])\n        }\n      })\n      for(var [key,value] of colorWithPath){\n        let colorPath = `<path d=\"`\n        value.forEach((path)=>{\n          // console.log(key,path)\n          colorPath += path\n        })\n        colorPath += `\" fill=\"${key=='rgba(0,0,0,255)' || key=='rgba(0,0,1,255)' ?'currentColor':key}\"/>`\n        pathContent += colorPath\n      }\n      console.log(pathContent)\n      return pathContent\n    },\n    getSvgContent(filled=false){\n      const width = this.width;\n      const height = this.height;\n      const imageData = this.ctx.getImageData(0, 0, width, height)\n\n      //解析像素数据，gpt生成代码\n      const pixels = imageData.data;\n\n      let pixelData = [];\n      for (let y = 0; y < height; y+=this.gridSize) {\n        for (let x = 0; x < width; x+=this.gridSize) {\n          const index = (y * width + x) * 4;\n          const r = pixels[index];\n          const g = pixels[index + 1];\n          const b = pixels[index + 2];\n          const a = pixels[index + 3];\n\n          // 只保存非透明像素\n          if (a > 0) {\n            pixelData.push({ x:x/this.gridSize*this.outputSize, y:y/this.gridSize*this.outputSize, r, g, b, a });\n          }\n        } \n      }\n    \n      //生成svg文件,gpt生成代码\n      let svgContent = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${this.cols*this.outputSize} ${this.rows*this.outputSize}\">`;\n      \n      if(false){\n        pixelData.forEach(pixel => {\n          let color = `rgba(${pixel.r},${pixel.g},${pixel.b},${pixel.a})`\n          if(color =='rgba(0,0,1,255)' || color == 'rgba(0,0,0,255)'){\n            color = \"currentColor\"\n          }\n          svgContent += `<rect x=\"${pixel.x}\" y=\"${pixel.y}\" width=\"${this.outputSize}\" height=\"${this.outputSize}\" fill=\"${color}\" />`;\n        });\n      }else{\n        svgContent += this.getpathContent(pixelData)\n      }\n      \n\n      svgContent += '</svg>';\n      return svgContent\n      \n    },\n    copySvgCode(){\n      const content = this.getSvgContent()\n      this.copyToClipboard(content)\n    },\n    saveAsSvg(){\n      const svgContent = this.getSvgContent()\n      //保存svg文件\n      const blob = new Blob([svgContent], { type: 'image/svg+xml' });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = 'drawing.svg';\n      link.click();\n      URL.revokeObjectURL(url);\n    },\n    saveAsPng(){\n      const link = document.createElement('a');\n      const url =  this.maincanvas.toDataURL(\"image/png\");\n      link.href = url;\n      link.download = 'drawing.png';\n      link.click();\n      URL.revokeObjectURL(url);\n    },\n    saveAsGif(){\n      if(this.gifImageDataIndex == -1){\n        this.$toast.show('没有创建gif图片数据序列','error')\n        return\n      }\n\n      // 假设你已经有一个数组保存了所有的 ImageData 对象\n      const imageDataArray = this.gifImageDataList\n\n      // 创建一个 GIF 对象\n      const gif = new GIF({\n        workers: 2,\n        quality: 10,\n        workerScript: `${process.env.BASE_URL}js/gifjs/gif.worker.js`,\n        transparent: 'rgba(0,0,0,0)',\n      });\n\n      \n\n      // 遍历 ImageData 数组，并将每个 ImageData 添加为一帧\n      imageDataArray.forEach(imageData => {\n        gif.addFrame(imageData, {delay: Math.floor(this.animateSpeed)});\n      });\n\n      // 生成并导出 GIF\n      gif.on('finished', function(blob) {\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = 'output.gif';\n        a.click();\n        URL.revokeObjectURL(url);\n      });\n\n      gif.render();\n\n    },\n    async copyToClipboard(content) {\n      try {\n        await navigator.clipboard.writeText(content);\n        this.$toast.show('复制成功','success')\n      } catch (err) {\n        this.$toast.show(err,'error')\n      }\n    },\n    dragViewportDown(e){\n      this.$refs.realViewport.removeEventListener('scroll', this.viewportScroll);\n      this.viewport = this.$refs.viewport\n      this.disx = e.pageX - this.viewport.offsetLeft\n      this.disy = e.pageY - this.viewport.offsetTop\n      this.resizeViewport()\n    },\n    dragViewportMove(e){\n      if(this.viewport){\n        const overview = this.$refs.canvas_overview\n        const realViewport = this.$refs.realViewport\n        const scale = overview.clientWidth/this.maincanvas.clientWidth\n\n        var left = e.pageX - this.disx\n        var top = e.pageY - this.disy\n        const leftmax = overview.offsetLeft +  overview.clientWidth - this.viewport.clientWidth - 2\n        const topmax = overview.offsetTop + this.viewport.parentElement.clientHeight - this.viewport.clientHeight - 2\n        left = Math.max(overview.offsetLeft, Math.min(left, leftmax));\n        top = Math.max(overview.offsetTop, Math.min(top, topmax));\n        this.viewport.style.left = left + 'px';\n        this.viewport.style.top = top + 'px';\n        this.log = `${overview.offsetLeft}`\n        const scrollLeft = (left - overview.offsetLeft)/scale\n        const scrollTop = (top - overview.offsetTop)/scale\n        realViewport.scrollTop = scrollTop\n        realViewport.scrollLeft = scrollLeft\n      }\n    },\n    dragViewportUp(){\n      this.$refs.realViewport.addEventListener('scroll', this.viewportScroll);\n      if(this.viewport)\n        this.viewport=null\n    },\n    viewportScroll(){\n      this.log = `${this.$refs.realViewport.scrollTop},${this.$refs.realViewport.scrollLeft}`\n      this.resizeViewport()\n    },\n    zoomWheel(event){\n      event.preventDefault()\n      const deltaY = event.deltaY\n      if(deltaY < 0){\n        var scale = Number(this.scaleCount) + 1\n        this.scaleCount = Math.min(scale,100)\n      }else{\n        var scale = Number(this.scaleCount) - 1\n        this.scaleCount = Math.max(scale,10)\n      }\n      this.resizeViewport()\n    },\n    zoomIn(){\n      var scale = Number(this.scaleCount) + 10\n      this.scaleCount = Math.min(scale,100)\n      this.resizeViewport()\n    },\n    zoomOut(){\n      var scale = Number(this.scaleCount) - 10\n      this.scaleCount = Math.max(scale,10)\n      this.resizeViewport()\n    },\n    zoomFit(){\n      this.getMinScale()\n      this.scaleCount = this.minScaleCount\n      this.resizeViewport()\n    },\n    resizeViewport(){\n      //设置viewport大小\n      const overview = this.$refs.canvas_overview\n      const realViewport = this.$refs.realViewport\n      const scale = overview.clientWidth/this.maincanvas.clientWidth\n      this.$nextTick(()=>{\n        const viewportWidth = realViewport.clientWidth*scale\n        const viewportHeight = realViewport.clientHeight*scale\n        this.$refs.viewport.style.width = `${Math.floor(Math.min(viewportWidth,overview.clientWidth))}px`\n        this.$refs.viewport.style.height = `${Math.floor(Math.min(viewportHeight,overview.clientHeight)-1)}px`\n        const viewportTop = this.$refs.canvas_overview.offsetTop + this.$refs.realViewport.scrollTop*scale\n        const viewportLeft = this.$refs.canvas_overview.offsetLeft + this.$refs.realViewport.scrollLeft*scale\n        this.$refs.viewport.style.top = `${viewportTop}px`\n        this.$refs.viewport.style.left = `${viewportLeft}px`\n      })\n    },\n    pushGifImgList(){\n      const imageData= this.ctx.getImageData(0, 0, this.width, this.height)\n      this.gifImageDataList.splice(this.gifImageDataIndex,0,imageData)\n      this.gifImageDataIndex++\n      const that = this\n      this.$nextTick(()=>{\n        for(var i = that.gifImageDataList.length-1 ; i > that.gifImageDataIndex ; i--){\n          const canvas = that.$refs.gifCanvas[i]\n          const canvasBefore = that.$refs.gifCanvas[i-1]\n          const ctx = canvas.getContext(\"2d\")\n          ctx.clearRect(0,0,100*that.cols/that.rows,100)\n          ctx.drawImage(canvasBefore,0,0)\n        }\n        const canvas = that.$refs.gifCanvas[that.gifImageDataIndex]\n        const ctx = canvas.getContext(\"2d\")\n        ctx.clearRect(0,0,100*that.cols/that.rows,100)\n        ctx.drawImage(\n          that.maincanvas,\n          0,0,that.width,that.height,\n          0,0,100*that.cols/that.rows,100\n        )\n      })\n    },\n    deleteGifImgList(){\n      for(var i = this.gifImageDataIndex ; i < this.gifImageDataList.length-1 ; i++){\n        const canvas = this.$refs.gifCanvas[i]\n        const canvasNext = this.$refs.gifCanvas[i+1]\n        const ctx = canvas.getContext(\"2d\")\n        ctx.clearRect(0,0,100*this.cols/this.rows,100)\n        ctx.drawImage(canvasNext,0,0)\n      }\n      this.gifImageDataList.splice(this.gifImageDataIndex,1)\n      if(this.gifImageDataIndex >= this.gifImageDataList.length){\n        this.gifImageDataIndex = this.gifImageDataList.length-1\n      }else if(this.gifImageDataList.length < 1){\n        this.gifImageDataIndex = -1\n      }\n    },\n    startAnimate(){\n      if(this.animateId == 0){\n        if(this.gifImageDataList.length > 0){\n          this.animateStartTime = new Date().getTime()\n          this.animateId = requestAnimationFrame(this.updateMainCanvasAnimate)\n        }\n      }\n    },\n    stopAnimate(){\n      cancelAnimationFrame(this.animateId)\n      this.animateId = 0\n    },\n    updateMainCanvasAnimate(){\n      this.ctx.clearRect(0,0,this.width,this.height)\n      const data = this.gifImageDataList[this.gifImageDataIndex]\n      this.ctx.putImageData(data,0,0)\n      const nowTime = new Date().getTime()\n      const deltaTime = nowTime - this.animateStartTime\n      if(deltaTime > this.animateSpeed){\n        this.animateStartTime = nowTime\n        this.gifImageDataIndex = (this.gifImageDataIndex+1)%(this.gifImageDataList.length)\n      }\n      \n      this.animateId = requestAnimationFrame(this.updateMainCanvasAnimate)\n    },\n    putGifImage2MainCanvas(index){\n      this.stopAnimate()\n      this.gifImageDataIndex = index\n      const data = this.gifImageDataList[this.gifImageDataIndex]\n      this.ctx.putImageData(data,0,0)\n      this.addHistory()\n    },\n    updateGifImage(index){\n      const imageData= this.ctx.getImageData(0, 0, this.width, this.height)\n      this.gifImageDataList[index] = imageData\n      const that = this\n      this.$nextTick(()=>{\n        const canvas = that.$refs.gifCanvas[index]\n        const ctx = canvas.getContext(\"2d\")\n        ctx.clearRect(0,0,100*this.cols/this.rows,100)\n        ctx.drawImage(\n          that.maincanvas,\n          0,0,this.width,this.height,\n          0,0,100*this.cols/this.rows,100\n        )\n      })\n    },\n    changeSpeed(num){\n      this.animateFpsIndex = ((this.animateFpsIndex+num)<0 ? 5 : this.animateFpsIndex+num)%6\n      this.animateSpeed = 1000/this.animateFps[this.animateFpsIndex]\n    },\n    async saveGifNPngToFolder(imageDataArray) {\n        if(imageDataArray.length < 1){\n          this.$toast.show('没有可以导出的帧','error')\n          return\n        }\n        //利用 Canvas 元素将 ImageData 转换为图像的 Blob 对象。\n        const imageDataToBlob = (imageData) => {\n            return new Promise((resolve) => {\n                const canvas = document.createElement('canvas');\n                canvas.width = imageData.width;\n                canvas.height = imageData.height;\n\n                const ctx = canvas.getContext('2d');\n                ctx.putImageData(imageData, 0, 0);\n\n                canvas.toBlob((blob) => {\n                    resolve(blob);\n                });\n            });\n        }\n        try {\n            // 请求选择文件夹的权限\n            const dirHandle = await window.showDirectoryPicker();\n\n            // 遍历图片并保存到文件夹\n            for (let i = 0; i < imageDataArray.length; i++) {\n                const imageData = imageDataArray[i];\n                const blob = await imageDataToBlob(imageData);\n\n                // 创建文件名（可根据需要调整）\n                const fileName = `image_${i + 1}.png`;\n\n                // 在指定文件夹中创建文件\n                const fileHandle = await dirHandle.getFileHandle(fileName, { create: true });\n\n                // 写入 Blob 到文件\n                const writable = await fileHandle.createWritable();\n                await writable.write(blob);\n                await writable.close();\n            }\n            \n            console.log(\"图片已保存到文件夹中\");\n        } catch (err) {\n            console.error(\"保存图片时出错：\", err);\n        }\n    },\n    openFileInput(){\n      document.getElementById('fileInput').click()\n    },\n    importImg(){\n      const file = event.target.files[0];\n      const that = this\n      if (file && file.type.startsWith('image/')) {\n          const reader = new FileReader();\n\n          // 当文件读取完成时\n          reader.onload = function(e) {\n              const img = new Image();\n              img.src = e.target.result;\n\n              // 在图像加载完成后绘制到canvas上\n              img.onload = function() {\n                  that.selectedImgData = null\n                  that.selectedRect = {x:0,y:0,width:0,height:0}\n                  that.selectedBgData = that.ctx.getImageData(0,0,that.width,that.height)\n\n                  that.offscreenCanvas = document.createElement('canvas');\n                  const height = Math.floor(that.height/that.gridSize)*that.gridSize\n                  const width = Math.floor(that.height/img.height*img.width/that.gridSize)*that.gridSize\n                  that.offscreenCanvas.width = width\n                  that.offscreenCanvas.height = height\n                  \n                  const ctx = that.offscreenCanvas.getContext('2d');\n                  ctx.drawImage(img, 0, 0,img.width,img.height,0,0,width,height);\n                  that.selectedImgData = ctx.getImageData(0,0,width,height)\n                  // that.ctx.drawImage(that.offscreenCanvas,0,0)\n                  if(that.selectRectAnimateId == 0){\n                    that.selectRectAnimateId = requestAnimationFrame(that.dashedRectAnimate)\n                  }\n                  that.selectedRect={x:0,y:0,width,height}\n                  that.tool = 7\n                  // that.addHistory()\n              }\n          }\n\n          // 读取文件为Data URL\n          reader.readAsDataURL(file);\n      } else {\n          alert('请选择一个有效的图像文件。');\n      }\n    },\n    imgToPixel(){\n\n      if(this.offscreenCanvas){\n        const width = this.offscreenCanvas.width;\n        const height = this.offscreenCanvas.height; \n        const ctx = this.offscreenCanvas.getContext(\"2d\")\n        const imageData = ctx.getImageData(0, 0, width, height)\n\n        //解析像素数据，gpt生成代码\n        const pixels = imageData.data;\n        let r = 0;\n        let g = 0;\n        let b = 0;\n        let a = 0;\n        let count = 0\n        for (let y = 0; y < height; y+=this.gridSize) {\n          for (let x = 0; x < width; x+=this.gridSize) {\n            for(let i = 0;i < this.gridSize;i++){\n              for(let j = 0;j < this.gridSize;j++){\n                const index = ((y+i) * width + x+j) * 4;\n                r += pixels[index];\n                g += pixels[index + 1];\n                b += pixels[index + 2];\n                a += pixels[index + 3];\n                count++\n              }\n            }\n            r = Math.floor(r/count)\n            g = Math.floor(g/count)\n            b = Math.floor(b/count)\n            a = Math.floor(a/count)\n            ctx.clearRect(x,y,this.gridSize,this.gridSize)\n            ctx.fillStyle = `rgba(${r},${g},${b},${a})`\n            ctx.fillRect(x,y,this.gridSize,this.gridSize)\n            const y1 = Math.floor(y/this.gridSize)\n            const x1 = Math.floor(x/this.gridSize)\n            if(!this.imgPointList[y1])\n              this.imgPointList[y1] = []\n            this.imgPointList[y1][x1]=[r,g,b,a]\n            r = 0;\n            g = 0;\n            b = 0;\n            a = 0;\n            count = 0\n          } \n        }\n      }\n    },\n    adjustImg(){\n      if(this.offscreenCanvas){\n        const ctx = this.offscreenCanvas.getContext('2d')\n        const result = this.processColors()\n        for(var y=0;y<result.length;y++){\n          for(var x=0;x<result[y].length;x++){\n            // console.log(result[y][x])\n            const [r,g,b,a] = result[y][x]\n            ctx.fillStyle = `rgba(${r},${g},${b},${a})`\n            ctx.fillRect(x*this.gridSize,y*this.gridSize,this.gridSize,this.gridSize)\n          }\n        }\n      }\n      \n    },\n    processColors(colorArray = this.imgPointList, threshold = this.threshold){\n      const colorList = []\n      const colorDistance = (rgba1,rgba2)=>{\n        const [r1, g1, b1, a1] = rgba1;\n        const [r2, g2, b2, a2] = rgba2;\n        return Math.sqrt(\n          Math.pow(r1 - r2, 2) +\n          Math.pow(g1 - g2, 2) +\n          Math.pow(b1 - b2, 2) +\n          Math.pow((a1 * 255) - (a2 * 255), 2)\n        );\n      }\n      const averageColor = (rgba1, rgba2)=>{\n        const [r1, g1, b1, a1] = rgba1;\n        const [r2, g2, b2, a2] = rgba2;\n        return [\n          Math.round((r1 + r2) / 2),\n          Math.round((g1 + g2) / 2),\n          Math.round((b1 + b2) / 2),\n          Math.round((a1 + a2) / 2)\n        ];\n      }\n      console.log(colorArray)\n      const rows = colorArray.length;\n      const cols = colorArray[0].length;\n\n      // Create a new array to store the processed colors\n      const resultArray = JSON.parse(JSON.stringify(colorArray));\n\n      for (let i = 0; i < rows; i++) {\n        for (let j = 0; j < cols; j++) {\n          const currColor = colorArray[i][j]\n          let findFlag = false\n          for(let x=0; x<colorList.length; x++){\n\n            const color = colorList[x]\n\n            if(colorDistance(color, currColor) < threshold){\n              const average = averageColor(color, currColor)\n              resultArray[i][j] = x\n              console.log(resultArray[i][j])\n              colorList[x] = average\n              console.log(`find:${findFlag}`)\n              findFlag = x\n              break\n            }\n          }\n          \n          console.log(findFlag)\n          if(findFlag == false){\n            resultArray[i][j] = colorList.length\n            colorList.push(currColor)\n          }\n        }\n      }\n      console.log(colorList)\n      console.log(resultArray)\n      for (let i = 0; i < rows; i++) {\n          for (let j = 0; j < cols; j++) {\n            resultArray[i][j] = colorList[resultArray[i][j]]\n          }\n      }\n\n      return resultArray;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.drawing-area {\n/*  border: 0.5px solid #d9d9d9;*/\n/*  width: 100%;*/\n  font-size: 0;\n  height: 100%;\n}\ncanvas, .addcanvas {\n  position: relative;\n  z-index: 1;\n  touch-action: none;\n  border: 1px solid var(--canvas-grid-gray);\n}\n.canvas-grid {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n\n.tools-bar {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0.5rem;\n  padding-bottom: 1rem;\n  width: 84px;\n  height: fit-content;\n}\n\n.row .tools-bar{\n  flex-direction: column;\n  height: 84px;\n  width: auto;\n  padding-bottom: 0.5rem;\n}\n\n.tool-item{\n  width: 30px;\n  height: 30px;\n  display: flex;\n  padding: 5px;\n  margin: 1px;\n  border-radius: 5px;\n}\n\n.tool-item-fullscreen{\n  width: 84px;\n  height: 40px;\n  padding: 5px;\n  margin: 1px;\n  margin-top: 20px;\n  border-radius:5px;\n  position: relative;\n}\n\n.tool-item-fullscreen .color{\n  width: 30px;\n  height: 30px;\n  top:50%;\n  left: 50%;\n  position: absolute;\n  border: 2px solid var(--fontNormal);\n}\n.tool-item-fullscreen .color.front{\n  transform: translate(calc(-50% - 8px),calc(-50% - 8px));\n}\n\n.tool-item-fullscreen .color.back{\n  transform: translate(calc(-50% + 8px),calc(-50% + 8px));\n}\n\n\n\n\n.tool-item-svg {\n  width: 30px !important;\n  height: 30px !important;\n}\n\n.tool-item:hover , .tool-item.active{\n  background-color: var(--white-highlight);\n}\n.tool-item img{\n  width: 30px;\n  height: 30px;\n}\n\n.tool-setting-bar {\n  height: 30px;\n  border-bottom: var(--box-border);\n  display: flex;\n  justify-content: space-between;\n  font-size: 14px;\n  align-items: center;\n}\n.tool-setting-bar > div{\n  display: flex;\n  height: 100%\n}\n.work-area{\n  margin: 0 -30px;\n  display: flex;\n  flex-direction: column;\n/*  width: calc(100% + 60px);*/\n  overflow: hidden;\n  height: calc(100vh - 91px);\n  position: relative;\n\n}\n\n.work-area > div{\n  padding: 0 5px;\n}\n\n.work-area .middle{\n  flex: 1;\n  position: relative;\n  display: flex;\n  justify-content: space-around;\n  overflow: auto;\n  border-left: var(--box-border);\n  user-select: none;\n  padding: 0;\n\n}\n\n.work-area .right{\n  border-left: var(--box-border);\n  width: 180px\n}\n\n.overview {\n  width: 180px;\n  height: 140px;\n  background-color: var(--canvas-bgc);\n  display: flex;\n  justify-content: center;\n  position: relative;\n  overflow: hidden;\n}\n\n\n\n.viewport{\n  position: absolute;\n  width: 20px;\n  height: 30px;\n  background-color: transparent;\n  border: 1px solid #425aef;\n  box-shadow: 0 0 0 5000px rgba(0, 0, 0, 0.3); /* 创建透明区域 */\n  z-index: 2;\n}\n\n.overview-tools{\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n\n.icon-item-box{\n  position: relative;\n}\n\n\n.icon-item {\n  padding:2px;\n  width:26px;\n  height: 26px;\n}\n\n.icon-item:hover {\n  background-color: var(--white-highlight);\n}\n\n.size-setting {\n  position: absolute;\n  background-color: var(--box-bgc);\n  border: var(--box-border);\n  right: 0;\n  top: 30px;\n  border-radius: 8px;\n  padding: 8px;\n  z-index: 999;\n  opacity: 0;\n  transform: translateY(15%);\n  transition: opacity 0.5s ease,transform 0.5s ease;\n  pointer-events: none;\n\n}\n\n.size-setting.show{\n  pointer-events: all;\n  opacity: 1;\n  transform: translateY(0)\n}\n\n.size-setting .size{\n  display: flex;\n  width: 140px;\n  align-items: center;\n}\n\n.size-setting .size > input {\n  width: 40px;\n}\n\n.tool-option {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  margin: 2px;\n}\n\n.tool-option .label{\n  font-size: 15px;\n  line-height: 15px;\n}\n\n.tool-option input[type='range']{\n  width: 90px;\n  height: 15px;\n}\n\n.drop-down-option{\n  width: 120px;\n  padding: 5px;\n  cursor: pointer;\n}\n\n.drop-down-option:hover{\n  background-color: var(--white-highlight)\n}\n\n.gridstyle{\n  background: linear-gradient(\n      -45deg,\n      var(--canvas-grid-gray) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--canvas-grid-gray) 75%,\n      var(--canvas-grid-gray) 100%\n    ),\n    linear-gradient(\n      -45deg,\n      var(--canvas-grid-gray) 25%,\n      transparent 25%,\n      transparent 75%,\n      var(--canvas-grid-gray) 75%,\n      var(--canvas-grid-gray) 100%\n    );\n  background-color: var(--canvas-grid-bgc);\n}\n\n.color-tools {\n  display: flex;\n  flex-wrap: wrap;\n  user-select: none;\n  position: relative;\n}\n\n\n.color-item {\n  width: 28px;\n  height: 28px;\n  margin: 1px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 25px;\n  position: relative;\n  box-shadow: inset 0px 0px 0px 1px var(--fontNormal)\n}\n\n.color-item-svg {\n  width: 20px !important;\n}\n\n.color-item.active {\n  box-shadow: inset 0px 0px 0px 2px rgb(255, 255, 255);\n}\n\n.color-item:hover {\n  box-shadow: inset 0px 0px 0px 2px var(--fontNormal);\n}\n\n.color-item.delete {\n  width:100%;\n  height: 50px;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  cursor: auto;\n}\n\n.color-item.delete.show{\n  opacity: 1;\n}\n\n.color-item.delete:hover , .color-item.draged:hover{\n  box-shadow:none;\n}\n\n.color-item.draged {\n  opacity: 0.5;\n  position: absolute;\n  z-index: 99;\n  pointer-events: none;\n  box-shadow: inset 0px 0px 0px 2px var(--fontNormal)\n}\n\n.colorInput-hidden {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n/*  display: none;*/\n\n}\n\n.gif-tools-box {\n  background: var(--modal-bgc);\n  position: fixed;\n  width: 100%;\n/*  height: 100px;*/\n  bottom: 0;\n  z-index: 9;\n  flex-shrink: 0;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: 0.3s ease;\n  transform: translateY(100%);\n  opacity: 0;\n  padding: 10px!important;\n}\n\n.gif-tools-box.show {\n  opacity: 1;\n  transform: translateY(0);\n}\n\n.gif-tools{\n  width: 100%;\n  display: flex;\n  align-items: center;\n  overflow: auto;\n  padding: 2px 0;\n}\n.gif-tools > canvas,.addcanvas{\n  margin: 0 5px;\n  height: 60px;\n}\n\n.gifCanvas {\n  background:var(--canvas-grid-bgc);\n}\n\n.currentGifCanvas {\n  outline:2px solid var(--main-color);\n}\n\n.addcanvas{\n  width: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 2rem;\n}\n\n.gif-tools-item {\n  margin: 0 0.8rem;\n}\n\n</style>\n","import { render } from \"./pixelSvgEditor.vue?vue&type=template&id=d72f48ea&scoped=true\"\nimport script from \"./pixelSvgEditor.vue?vue&type=script&lang=js\"\nexport * from \"./pixelSvgEditor.vue?vue&type=script&lang=js\"\n\nimport \"./pixelSvgEditor.vue?vue&type=style&index=0&id=d72f48ea&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d72f48ea\"]])\n\nexport default __exports__"],"names":["f","_typeof","exports","module","define","e","t","n","r","s","o","u","a","i","Error","code","l","call","length","require","EventEmitter","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","err","context","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","key","ret","listenerCount","evlistener","emitter","UA","browser","mode","platform","ua","navigator","userAgent","toLowerCase","match","document","documentMode","name","version","parseFloat","parseInt","GIF","extend","child","parent","hasProp","ctor","constructor","__super__","hasOwnProperty","indexOf","item","superClass","defaults","frameDefaults","options","base","value","running","frames","freeWorkers","activeWorkers","setOptions","workerScript","workers","repeat","background","quality","width","height","transparent","debug","dither","delay","copy","setOption","_canvas","results","addFrame","image","frame","ImageData","data","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","childNodes","getImageData","render","j","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","log","terminate","Math","min","forEach","_this","Worker","onmessage","event","frameFinished","index","finishRendering","k","len1","len2","len3","offset","page","ref1","ref2","pageSize","cursor","round","Uint8Array","set","Blob","task","getTask","postMessage","ctx","createElement","getContext","setFill","fillRect","drawImage","last","canTransfer","events","_createElementVNode","class","_hoisted_1","_createElementBlock","_normalizeClass","$data","dragedel","style","$props","dragable","onPointerdown","_cache","$event","$options","dragdown","onPointerup","dragup","_hoisted_3","_renderSlot","_ctx","$slots","props","modalKey","String","required","Boolean","default","modeless","draged","disx","disy","left","top","methods","this","$refs","modal","pageX","offsetLeft","pageY","offsetTop","addEventListener","dragmove","maxLeft","parentElement","clientWidth","maxTop","clientHeight","bottom","right","removeEventListener","__exports__","selectShow","onClick","openSelect","dataList","currIndex","_createVNode","_component_svg_icon","size","_Fragment","_renderList","changeIndex","_hoisted_2","mounted","unmounted","closeSelect","selectBox","contains","target","$emit","_component_my_model","show","modal_show","newFileModalShow","newFileForm","rows","_hoisted_4","cols","_hoisted_5","_hoisted_6","_normalizeStyle","concat","fontSize","border","marginRight","_hoisted_8","_hoisted_9","_hoisted_10","gridSize","_hoisted_11","_hoisted_12","outputSize","_hoisted_13","newFile","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_toDisplayString","penSize","max","_hoisted_18","gifToolsShow","toolsShow","undo","dropDown","_hoisted_19","dropDownBoxShow","sizeSettingShow","_hoisted_20","_hoisted_21","_hoisted_22","downloadShow","saveAsSvg","copySvgCode","saveAsPng","saveAsGif","_hoisted_23","_hoisted_24","_component_auDraged","_hoisted_25","tool","switchTool","className","clearAll","openFileInput","id","onChange","importImg","accept","_hoisted_26","backgroundColor","bkgColor","_ref","currentColor","addColor","onPointermove","handlePointerMove","handlePointerUp","onWheel","zoomWheel","_hoisted_27","coordinate","handlePointerDown","canvasStyle","_hoisted_29","dragViewportMove","dragViewportUp","overviewStyle","overviewSize","dragViewportDown","_hoisted_31","zoomIn","zoomOut","scaleCount","onInput","resizeViewport","zoomFit","_component_au_select","changeMyColor","handleMove","_hoisted_32","dragedColorIndex","myColors","color","handleStart","handleEnd","_hoisted_34","_hoisted_35","step","threshold","imgToPixel","adjustImg","_hoisted_36","gifImageDataIndex","startAnimate","stopAnimate","changeSpeed","animateFps","animateFpsIndex","pushGifImgList","deleteGifImgList","saveGifNPngToFolder","gifImageDataList","_hoisted_37","putGifImage2MainCanvas","defaultColors","pix8Colors","colorIndex","isDrawing","pixels","endPoints","x","y","maincanvas","ovCtx","historys","shiftdown","dropDownBox","minScaleCount","viewport","selectedRect","offscreenCanvas","selectedImgData","selectedBgData","isDragingSelectRect","selectRectAnimateId","pressTimer","animateId","animateStartTime","animateSpeed","imgToPixelTools","imgPointList","components","auSelect","auDraged","computed","backgroundSize","backgroundPosition","scale","init","window","handleKeyDown","handleKeyUp","realViewport","viewportScroll","closeDropDownBox","floor","setTimeout","el","dragedEl","dragedColor","clearTimeout","selectColor","colorTem","colorDom","currentTarget","colorValue","includes","cancelAnimationFrame","showLastHistory","updateOverview","clearRect","keyname","_this2","keys","Object","_this3","PointerEvent","canvas","overview","canvas_overview","lineWidth","addHistory","getMinScale","getPoint","clientX","clientY","clearPixel","drawPixel","fillStyle","fillArea","beginPath","rect","closePath","isPointInPath","putImageData","offscreenCtx","requestAnimationFrame","dashedRectAnimate","strokeStyle","currPoint","drawLine","drawRect","drawPixelEllipse","select","overMove","start","end","abs","drawDashedRect","lineDashOffset","setLineDash","strokeRect","selectSave","point","dx","dy","sx","sy","e2","rightUp","leftDown","deltaX","deltaY","sideLength","xc","rx","drx","yc","ry","d1","ceil","drawEllipsePoints","d2","startPoint","targetColor","getColorAtPixel","fillColor","hexToArgb","colorsMatch","stack","_this$$refs$canvas","visited","Set","_stack$pop","pop","has","add","_this$ctx$getImageDat","hex","bigint","color1","color2","isRectEqual","rect1","rect2","getBoundingClientRect","history","imageData","updateGifImage","getPixelVector","pixel","_this4","pixelSize","b","x1","x2","x3","x4","point2Num","getpathContent","pixelData","_this5","pathLists","pointWithNextPoints","Map","pixelVectors","vector","nextPoints","get","findSameVector","delete","newValue","findPath","path","nextPoint","newkey","next","newstart","pathContent","colorWithPath","num2Point","num","pathList","p1","direction","p2","colorKey","_step","_iterator","_createForOfIteratorHelper","_loop","_step$value","_slicedToArray","colorPath","done","getSvgContent","svgContent","content","copyToClipboard","blob","url","URL","createObjectURL","link","href","download","click","revokeObjectURL","toDataURL","_this7","imageDataArray","gif","process","BASE_URL","$toast","_this8","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","clipboard","writeText","t0","stop","leftmax","topmax","scrollLeft","scrollTop","preventDefault","Number","_this9","$nextTick","viewportWidth","viewportHeight","viewportTop","viewportLeft","that","gifCanvas","canvasBefore","canvasNext","Date","getTime","updateMainCanvasAnimate","nowTime","deltaTime","_this10","_this11","_callee2","imageDataToBlob","dirHandle","fileName","fileHandle","writable","_context2","abrupt","Promise","resolve","toBlob","showDirectoryPicker","sent","getFileHandle","create","createWritable","write","close","getElementById","file","files","startsWith","reader","FileReader","onload","img","Image","src","result","readAsDataURL","alert","count","y1","processColors","_result$y$x","colorArray","colorList","colorDistance","rgba1","rgba2","_rgba","r1","g1","b1","a1","_rgba2","r2","g2","b2","a2","sqrt","pow","averageColor","_rgba3","_rgba4","resultArray","JSON","parse","stringify","currColor","findFlag","average"],"sourceRoot":""}