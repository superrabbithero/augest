{"version":3,"file":"js/6599-legacy.0ed83bf8.js","mappings":"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","sources":["webpack://augest/./src/components/Model/PenCanvas.vue","webpack://augest/./src/components/Model/PenCanvas.vue?3a04","webpack://augest/./src/components/Model/Time.vue","webpack://augest/./src/components/Model/Time.vue?87cd"],"sourcesContent":["<template>\n    <canvas v-show=\"show\" ref=\"canvas\"\n               @pointerdown=\"handlePointerDown\"\n               @pointermove=\"handlePointerMove\"\n               @pointerup=\"handlePointerUp\"></canvas>\n    <div v-show=\"show\" :class=\"{'edit-tools-fixedbox':true,'show':editTools_show}\">\n      <div :class=\"{'edit-tools-handle':true,'show':!editTools_show}\" \n               @pointerdown=\"handleStart\"\n               @pointermove=\"handleMove\"\n               @pointerup=\"handleEnd\"\n               @pointerleave=\"handleCancel\">\n        <img v-show=\"!erasing\" src=\"@/assets/imgs/canvastools/pen.png\"/>\n        <img v-show=\"erasing\" src=\"@/assets/imgs/canvastools/eraser.png\"/>\n\n      </div>\n      <div class=\"edit-tools\">\n        <div style=\"height: 100%;font-size: 18px;line-height: 50px;padding: 0 2px 0 2px;color:#252525\" @click=\"editTools_show = false\">&times;</div>\n        <div class=\"edit-tools-group\">\n          <div :class=\"{'edit-tools-item':true,'active':!erasing}\" @click=\"getcanvastool('pencil')\">\n            <img draggable=\"false\" src=\"@/assets/imgs/canvastools/pen.png\"/>\n          </div>\n          <div :class=\"{'edit-tools-item':true,'active':erasing}\" @click=\"getcanvastool('eraser')\">\n            <img draggable=\"false\" src=\"@/assets/imgs/canvastools/eraser.png\"/>\n          </div>\n        </div>\n        <div style=\"width:25px;display:flex;color:#252525;margin-left:15px\" @click=\"setting_show = true\">\n          <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"> <path d=\"M15 1v6H9V1h6zm-2 2h-2v2h2V3zm2 6v6H9V9h6zm-2 2h-2v2h2v-2zm2 6v6H9v-6h6zm-2 2h-2v2h2v-2z\" fill=\"currentColor\"/> </svg>\n        </div>\n      </div>\n    </div>\n\n    <div v-show=\"show && setting_show\" class=\"canvas-setting\">\n      <div style=\"position: absolute;top: 5px;right: 5px;width: 20px;color: #ff5252;\" @click=\"setting_show = false\">\n        <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"> <path d=\"M5 3H3v18h18V3H5zm14 2v14H5V5h14zm-8 4H9V7H7v2h2v2h2v2H9v2H7v2h2v-2h2v-2h2v2h2v2h2v-2h-2v-2h-2v-2h2V9h2V7h-2v2h-2v2h-2V9z\" fill=\"currentColor\"/> </svg>\n      </div>\n      \n      <div class=\"content-items\">\n        画笔大小：\n        <input type=\"range\" class=\"custom-range\" v-model=\"penWidth\" min=\"1\" max=\"15\">  {{penWidth}}\n      </div>\n      <div class=\"content-items\">\n        橡皮大小：\n        <input type=\"range\" class=\"custom-range\" v-model=\"eraserWidth\" min=\"5\" max=\"30\">   {{eraserWidth}}\n      </div>\n      <div class=\"content-items\">\n        画笔颜色：\n        <div v-for=\"color in colorList\" @click=\"penColor = color\" class=\"color-item\" :style=\"{backgroundColor:color,height: color==penColor ? '20px':'15px'}\"></div>\n      </div>\n      <div class=\"content-items\">\n        仅触控笔：\n        <div @click=\"switchmode()\" :class=\"{'switch-botton':true, 'close':mode=='all touch'}\"></div>\n        {{mode=='only pen' ? '开' : '关' }}\n      </div>\n    </div>\n</template>\n\n<script>\n\nexport default {\n  props:{\n    show:{\n      type: Boolean,\n      required: true,\n      default: false\n    },\n    width: Number,\n    height: Number,\n    switch: Number,\n  },\n  watch: {\n    switch(newval, oldval){\n      this.changeCanvas(newval, oldval)\n      console.log(newval, oldval)\n    },\n    show(newval, oldval){\n      if(newval){\n        this.resize()\n        document.body.classList.add('none-select')\n      }else{\n        document.body.classList.remove('none-select')\n      }\n    }\n  },\n  data(){\n    return{\n      log:\"\",\n      mode:\"all touch\",\n      isDrawing: false,\n      drawData: null,\n      isScroll: 0,\n      context: null,\n      currentPointerType: null,\n      multiLastPt:{},\n      offsetTop:0,\n      offsetLeft:0,\n      isScroll:false,\n      startY:0,\n      scrolltop:0,\n     \n      editTools_show:false,\n\n      erasing:false,\n      el:null,\n      points:[],\n      beginPoint:{x:0,y:0},\n\n      penWidth: 5,\n      eraserWidth: 10,\n      penColor: '#f00',\n      canvasWidth:0,\n      canvasHeight:0,\n\n      pressTimer:null,\n\n      imgDataList:[],\n\n      setting_show:false,\n\n      colorList:['#000','#f00','#ffa500','#ff0','#90ee90','#87ceeb','#fff'],\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  beforeUnmount() {\n    document.body.classList.remove('none-select')\n  },\n  methods: {\n    changePenWidth() {\n      const range = document.getElementById('penWidth-range')\n      this.penWidth = parseInt(range.value)\n    },\n    resize(Imgdata=null){\n      const canvas = this.$refs.canvas;\n      let imageData = null\n      if(Imgdata == null){\n        imageData = this.context.getImageData(0, 0, canvas.width, canvas.height);\n      }else{\n        imageData = Imgdata\n      }\n\n      // 保存当前的绘图状态\n      const strokeStyle = this.context.strokeStyle;\n      const fillStyle = this.context.fillStyle;\n      const lineWidth = this.context.lineWidth;\n      const font = this.context.font;\n      const textAlign = this.context.textAlign;\n      const textBaseline = this.context.textBaseline;\n      const globalCompositeOperation = this.context.globalCompositeOperation;\n      \n      canvas.width = this.el.clientWidth;\n      canvas.height = this.el.clientHeight;\n      this.canvasWidth = canvas.width;\n      this.canvasHeight = canvas.height;\n       // 清空并重置画布\n      this.context.clearRect(0, 0, canvas.width, canvas.height);\n      // 恢复绘图状态\n      this.context.strokeStyle = strokeStyle;\n      this.context.fillStyle = fillStyle;\n      this.context.lineWidth = lineWidth;\n      this.context.font = font;\n      this.context.textAlign = textAlign;\n      this.context.textBaseline = textBaseline;\n      this.context.globalCompositeOperation = globalCompositeOperation\n      if(imageData != \"\"){\n        // 恢复画布内容\n        this.context.putImageData(imageData, 0, 0);\n        \n      }\n    },\n    init() {\n      if (window.PointerEvent) { \n        // Pointer events are supported. \n        this.log=\"Pointer events are supported.\"\n      }\n      const canvas = this.$refs.canvas;\n      const parent = canvas.parentElement;\n      // const grandpa = parent.parentElement\n      canvas.width = parent.clientWidth;\n      canvas.height = parent.clientHeight;\n      this.canvasWidth = canvas.width\n      this.canvasHeight = canvas.height\n      this.el = parent\n      this.offsetLeft = parent.offsetLeft\n      this.offsetTop = parent.offsetTop\n      this.context = canvas.getContext('2d');\n      this.context.strokeStyle = this.penColor\n    },\n    switchmode() {\n      if(this.mode == \"only pen\"){\n        this.mode = \"all touch\"\n      }else{\n        this.mode = \"only pen\"\n      }\n    },\n    handlePointerDown(event){\n      this.currentPointerType = event.pointerType;\n      if(this.mode == \"all touch\" && this.currentPointerType == 'pen'){\n        this.mode = \"only pen\"\n        this.$toast.show(`检测到正在使用触控笔，开启\"仅触控笔\"模式，可在画板设置中关闭`,\"info\")\n      }\n      var id = event.pointerId\n      this.multiLastPt[id] = {x:event.pageX,y:event.pageY}\n      if(this.mode == \"only pen\" && this.currentPointerType === 'pen'){\n        this.scrolltop = this.el.parentElement.scrollTop;\n        this.isDrawing = true;\n        this.points = []\n        this.points.push({x:event.pageX,y:event.pageY});\n        this.beginPoint = this.points[0]\n        \n      }else if(this.mode == \"only pen\" && this.currentPointerType === 'touch'){\n   \n        this.isScroll = id\n        this.startY = event.pageY;\n        this.scrolltop = this.el.parentElement.scrollTop;\n      }else if(this.mode === \"all touch\"){\n        this.scrolltop = this.el.parentElement.scrollTop;\n        if(Object.keys(this.multiLastPt).length == 2){\n          this.isDrawing = false;\n          this.isScroll = id\n          this.startY = event.pageY;\n        }else if(Object.keys(this.multiLastPt).length == 1){\n          this.isDrawing = true;\n          this.points = []\n          this.points.push({x:event.pageX,y:event.pageY});\n          this.beginPoint = this.points[0]\n        }\n      }\n    \n    },\n    drawLine(startp,ctrlp,endp,cl,ct) {\n      this.context.beginPath();\n      this.context.moveTo((startp.x-cl),(startp.y-ct))\n      this.context.quadraticCurveTo((ctrlp.x-cl),(ctrlp.y-ct),(endp.x-cl),(endp.y-ct))\n      this.context.strokeStyle = this.penColor;//设置颜色\n      this.context.lineCap = \"round\";//设置两端的形状\n      this.context.stroke();// stroke() 方法来绘制线条\n      this.context.closePath();\n    },\n    handlePointerMove(event){\n      var id = event.pointerId\n      if(this.isDrawing && this.multiLastPt[id]){\n        if (this.mode == \"only pen\" && this.currentPointerType === 'pen' || this.mode === \"all touch\") {\n          //触控笔模式，手指滑动页面\n          var scrolltop = this.el.parentElement.scrollTop;\n          if(!this.erasing){\n            if(this.currentPointerType == 'pen'){\n              this.context.lineWidth = event.pressure*(this.penWidth);//设置大小\n            }else{\n              this.context.lineWidth = this.penWidth;//设置大小\n            }\n          }else{\n            this.context.lineWidth = this.eraserWidth\n          }\n          \n          //圆滑曲线\n          var endp = {x:event.pageX, y:event.pageY}\n          this.points.push(endp)\n\n\n          if(this.points.length > 2){\n            const lastTwoPoints = this.points.slice(-2);\n            const controlPoint = lastTwoPoints[0];\n            const endPoint = {\n                x: (lastTwoPoints[0].x + lastTwoPoints[1].x) / 2,\n                y: (lastTwoPoints[0].y + lastTwoPoints[1].y) / 2,\n            }\n            var ct = this.offsetTop - scrolltop\n            this.drawLine(this.beginPoint, controlPoint, endPoint, this.offsetLeft, ct);\n            this.beginPoint = endPoint;\n          }\n        }\n        \n     \n      }else if(this.isScroll == id){\n        const y = event.pageY - this.startY;\n        this.el.parentElement.scrollTop = this.scrolltop - y\n      }\n    },\n    handlePointerUp(event){\n      var id = event.pointerId\n      if (this.isDrawing) {\n        this.isDrawing = false;\n      }\n      if(this.multiLastPt[id]){\n        delete this.multiLastPt[id];\n      }\n      if (this.isScroll){\n       \n        this.isScroll = null\n      }\n    },\n    getcanvastool(tool){\n      console.log(\"click\")\n      var ctx = this.context\n      if (tool == 'pencil') {\n        this.context.globalCompositeOperation = 'source-over';\n        this.erasing = false\n\n      } else if(tool == \"eraser\"){\n        this.context.globalCompositeOperation = 'destination-out';\n        this.erasing = true\n      }\n    },\n\n    //处理工具栏按钮事件\n    handleStart(){\n      console.log(\"start\")\n      this.pressTimer = setTimeout(() => {\n        // this.editTools_show = true\n        this.setting_show = true\n        clearTimeout(this.pressTimer)\n        this.pressTimer = null\n      }, 500);\n    },\n    handleMove(event){\n      if (this.pressTimer) {\n        clearTimeout(this.pressTimer);\n        this.pressTimer = null;\n      }\n    },\n    handleEnd(){\n      // 如果定时器还在，说明是点击事件\n      console.log(\"end\")\n      if (this.pressTimer) {\n        clearTimeout(this.pressTimer);\n        this.pressTimer = null;\n        this.getcanvastool(this.erasing ? \"pencil\":\"eraser\")\n      }\n    },\n    handleCancel(){\n      if (this.pressTimer) {\n        clearTimeout(this.pressTimer);\n        this.pressTimer = null;\n      }\n    },\n    changeCanvas(newval,oldval){\n      const canvas = this.$refs.canvas;\n      let imageData = this.context.getImageData(0, 0, canvas.width, canvas.height);\n      this.imgDataList[oldval] = imageData\n      imageData = this.imgDataList[newval] ? this.imgDataList[newval] : \"\"\n      var that = this\n      this.$parent.$nextTick(() => {\n        that.resize(imageData)\n      })\n      \n    }\n  },\n};\n</script>\n\n<style scoped>\n  canvas {\n    display: block;\n    touch-action: none;\n    position: absolute;\n    z-index: 1;\n    left: 0;\n    top: 0;\n  }\n\n  .buttonbox{\n    position: fixed;\n    left: 0;\n    z-index: 988;\n  }\n\n  .edit-tools-fixedbox{\n    position: fixed;\n    z-index: 2;\n    top: 150px;\n    right:-185px;\n    transition: right 0.3s ease;\n  }\n\n  .edit-tools-fixedbox.show{\n    right:-40px;\n  }\n\n  .edit-tools{\n    display: flex;\n    height: 50px;\n    background-color: #fff4ca;\n    border-radius: 10px 0 0 10px;\n    padding-right: 40px;\n    box-shadow: var(--box-shadow);\n  }\n\n\n  .edit-tools-handle{\n    position: absolute;\n    background-color: #fff4ca;\n    width: 40px;\n    height: 40px;\n    border-radius: 23px;\n    overflow: hidden;\n    left: -80px;\n    top: 4px;\n    border:3px solid black;\n    transition: opacity 0.3s ease,transform 0.3s ease;\n    opacity: 0;\n    transform: scale(0);\n  }\n\n\n  .edit-tools-handle.show{\n    opacity: 0.5;\n    transform: scale(1);\n  }\n\n  .edit-tools-handle.show:hover{\n    opacity: 1;\n  }\n\n  .edit-tools-handle img{\n    margin-top: 7px;\n    margin-left: 8px;\n    width: 25px;\n    -webkit-user-drag: none;\n  }\n\n  .edit-tools-group{\n    height: 100%;\n    display: flex;\n    overflow: hidden;\n  }\n\n  .edit-tools-item {\n    margin: 0 5px;\n    width: 25px;\n    overflow: hidden;\n    transform: translateY(18px);\n    transition: transform 0.3s ease;\n    \n/*    height: 40px;*/\n/*    border: 3px solid #ffc848;*/\n\n  }\n\n  .edit-tools-item img{\n    width: 25px;\n    -webkit-user-drag: none;\n  }\n\n  .edit-tools-item.active{\n    transform: translateY(10px);\n  }\n\n  .canvas-setting {\n    font-family: 'HYPixel';\n    font-size: 20px;\n    padding: 20px 10px;\n    display: flex;\n    flex-direction: column;\n    position: fixed;\n    z-index: 2;\n    width: 300px;\n    top: 50%;\n    left: 50%;\n    background-color: var(--box-bgc);\n    transform: translate(-50%,-50%);\n/*    border-radius: 10px;*/\n    border: 3px solid;\n  }\n\n  .canvas-setting .content-items{\n    margin: 10px 0;\n    display: flex;\n    align-items: flex-end\n  }\n\n  .switch-botton{\n    margin: 0 10px;\n    position: relative;\n    width: 36px;\n    height: 18px;\n    border: 2px solid;\n    background-color: var(--card-hightlight);\n  }\n\n  .switch-botton:after {\n    content: \"\";\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    width: 14px;\n    height: 14px;\n    background-color: var(--fontNormal);\n    transition: left 0.1s ease;\n  }\n\n  .switch-botton.close:after {\n\n    left: 20px;\n  }\n\n  .color-item {\n    box-sizing: border-box;\n    margin: 0 2px;\n    border: 2px solid;\n    width: 20px;\n    transition: height 0.1s ease;\n  }\n\n  /*自定义滑动input样式*/\n  .custom-range {\n      width: 120px;\n      transform: translateY(5px);\n  }\n  \n</style>\n","import { render } from \"./PenCanvas.vue?vue&type=template&id=498a049e&scoped=true\"\nimport script from \"./PenCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./PenCanvas.vue?vue&type=script&lang=js\"\n\nimport \"./PenCanvas.vue?vue&type=style&index=0&id=498a049e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-498a049e\"]])\n\nexport default __exports__","<template>\n  <div>{{timer}}</div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return{\n      startTime:0,\n      elapsedTime:0,\n      timerInterval:null,\n      timer:\"00:00:00\",\n      status:0\n    }\n  },\n  unmounted(){\n    clearInterval(this.timerInterval);\n  },\n  methods: {\n    startTimer(){\n      if(this.status != 1){\n        clearInterval(this.timerInterval);\n        console.log(\"start\")\n        this.startTime = Date.now() - this.elapsedTime;\n        this.timerInterval = setInterval(this.updateTimer, 1000);\n        this.status = 1\n      }\n        \n    },\n    resetTimer(){\n      if(this.status != 0){\n        clearInterval(this.timerInterval);\n        this.timerInterval = null\n        this.elapsedTime = 0;\n        this.$parent.timer = \"00:00:00\"\n        this.timer = \"00:00:00\";\n        this.status = 0\n      }\n    },\n    pause(){\n      if(this.status == 1){\n        clearInterval(this.timerInterval);\n        this.status = 2\n      }\n    },\n    updateTimer() {\n      this.elapsedTime = Date.now() - this.startTime;\n      const time = new Date(this.elapsedTime);\n      const hours = String(time.getUTCHours()).padStart(2, '0');\n      const minutes = String(time.getUTCMinutes()).padStart(2, '0');\n      const seconds = String(time.getUTCSeconds()).padStart(2, '0');\n      this.timer = `${hours}:${minutes}:${seconds}`;\n      this.$parent.timer = this.timer\n    }\n  }\n};\n</script>\n\n<style scoped>\n  div{\n    display: inline-block;\n  }\n</style>","import { render } from \"./Time.vue?vue&type=template&id=03acfd1c&scoped=true\"\nimport script from \"./Time.vue?vue&type=script&lang=js\"\nexport * from \"./Time.vue?vue&type=script&lang=js\"\n\nimport \"./Time.vue?vue&type=style&index=0&id=03acfd1c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-03acfd1c\"]])\n\nexport default __exports__"],"names":["src","_imports_0","_imports_1","class","_createElementVNode","draggable","_hoisted_5","_hoisted_7","fill","xmlns","viewBox","d","_hoisted_9","_hoisted_12","ref","onPointerdown","_cache","$options","handlePointerDown","apply","arguments","onPointermove","handlePointerMove","onPointerup","handlePointerUp","$props","show","_normalizeClass","$data","editTools_show","handleStart","handleMove","handleEnd","onPointerleave","handleCancel","_hoisted_1","erasing","_hoisted_2","_hoisted_3","style","onClick","$event","_hoisted_4","getcanvastool","setting_show","_hoisted_11","_hoisted_14","type","penWidth","min","max","_toDisplayString","_hoisted_15","eraserWidth","_hoisted_16","_createElementBlock","_Fragment","_renderList","colorList","color","penColor","_normalizeStyle","backgroundColor","height","_hoisted_18","switchmode","mode","props","Boolean","required","default","width","Number","switch","watch","newval","oldval","this","changeCanvas","console","log","resize","document","body","classList","add","remove","data","_ref","isDrawing","drawData","isScroll","context","currentPointerType","multiLastPt","offsetTop","offsetLeft","_defineProperty","x","y","mounted","init","beforeUnmount","methods","changePenWidth","range","getElementById","parseInt","value","Imgdata","length","undefined","canvas","$refs","imageData","getImageData","strokeStyle","fillStyle","lineWidth","font","textAlign","textBaseline","globalCompositeOperation","el","clientWidth","clientHeight","canvasWidth","canvasHeight","clearRect","putImageData","window","PointerEvent","parent","parentElement","getContext","event","pointerType","$toast","id","pointerId","pageX","pageY","scrolltop","scrollTop","points","push","beginPoint","startY","Object","keys","drawLine","startp","ctrlp","endp","cl","ct","beginPath","moveTo","quadraticCurveTo","lineCap","stroke","closePath","pressure","lastTwoPoints","slice","controlPoint","endPoint","tool","_this","pressTimer","setTimeout","clearTimeout","imgDataList","that","$parent","$nextTick","__exports__","render","timer","startTime","elapsedTime","timerInterval","status","unmounted","clearInterval","startTimer","Date","now","setInterval","updateTimer","resetTimer","pause","time","hours","String","getUTCHours","padStart","minutes","getUTCMinutes","seconds","getUTCSeconds","concat"],"sourceRoot":""}